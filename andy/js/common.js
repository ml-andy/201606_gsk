function getUrlVars(){for(var e,a=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<n.length;t++)e=n[t].split("="),a.push(e[0]),a[e[0]]=e[1];return a}$(document).ready(function(){function e(){var e=Math.round(1e3*Math.random())+1;$(".user_code").parent().prepend('<img src="'+q.backendurl+"api_vcode.ashx?"+e+'" class="code">'),_("AoT4Q6NPjco");for(var a=0;a<$(".forload").length;a++)$(".forload").eq(a).css({opacity:"1",display:"none"}).addClass("loadend");console.log("completeload"),v(),$.ajax({url:q.backendurl+"api_store.ashx",type:"POST",dataType:"json",success:function(e){q.shopdata=e.DATA,"OK"==e.RS?S():console.log(e.RS)},error:function(e,a,n){T(!1),console.log("error:",e,a,n)}})}function a(){device.mobile()||FB.ui({method:"feed",name:q.sharetitle,caption:"",description:q.sharedes,display:"popup",link:q.mainurl},function(e){e&&!e.error_code}),$.ajax({url:q.backendurl+"api_share.ashx",type:"POST",dataType:"json",data:{device:q.device},success:function(e){console.log(e),"OK"==e.RS||console.log(e.RS),device.mobile()&&n()},error:function(e,a,t){device.mobile()&&n(),console.log("error:",e,a,t)}})}function n(){window.location.href="https://m.facebook.com/dialog/feed?app_id="+O+"&caption=&name="+q.sharetitle+"&description="+q.sharedes+"&link="+q.mainurl+"&redirect_uri="+q.mainurl}function t(){q.treecanvas=document.getElementById("tree"),images=images||{},ss=ss||{};var e=new createjs.LoadQueue(!1);e.addEventListener("fileload",o),e.addEventListener("complete",s),e.loadFile({src:"images/treeAni_atlas_.txt",type:"spritesheet",id:"treeAni_atlas_"},!0),e.loadManifest(lib.properties.manifest)}function o(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function s(e){var a=e.target;ss.treeAni_atlas_=a.getResult("treeAni_atlas_"),exportRoot=new lib.treeAni,q.stage=new createjs.Stage(q.treecanvas),q.stage.addChild(exportRoot),q.stage.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",r),q.treesmall=document.getElementById("treeSmall"),q.treesmallStage=new createjs.Stage(q.treesmall),q.treesmallStagemovie=q.treesmallStage.addChild(new lib.元件1_1),q.light=document.getElementById("light"),q.lightStage=new createjs.Stage(q.light),q.lightStagemovie=q.lightStage.addChild(new lib.元件1複製),q.lightStagemovie.setTransform(105,0),q.gobtn=document.getElementById("gobtn"),q.gobtnStage=new createjs.Stage(q.gobtn),q.gobtnStagemovie=q.gobtnStage.addChild(new lib.元件2_1),q.gobtnStagemovie.setTransform(0,0),q.HasComplet+=1,k()}function r(){q.stage.update(),q.treesmallStage&&q.treesmallStage.update(),q.lightStage&&q.lightStage.update(),q.gobtnStage&&q.gobtnStage.update(),q.nowscorepercent>q.treeBigFrame?q.treeBigFrame+=1:q.nowscorepercent<q.treeBigFrame&&(q.treeBigFrame-=1),exportRoot.instance_2.gotoAndStop(q.treeBigFrame),q.treesmallStagemovie.gotoAndStop(q.treeSmallFrame)}function c(){for(var e=[],a=0;a<$(".databox li").length;a++){var n="";if(1!=a)for(var t=0;t<$(".databox li").eq(a).find(".q1ans.on").length;t++){var o="";0!=t&&(o=","),n=n+o+$(".databox li").eq(a).find(".q1ans.on").eq(t).parent().text()}else n=q.dragscore<=5?Math.round(q.dragscore/5*7):7+Math.round((q.dragscore-5)/15*7);e.push(n)}for(var s=!0,a=0;a<e.length;a++)if(1!=a&&""==e[a]){var r=1*a+1;s=!1,alert("別忘記填寫第"+r+"題唷!");break}s&&($.ajax({url:q.backendurl+"api_game.ashx",type:"POST",dataType:"json",data:{Q1:e[0],Q2:e[1],Q3:e[2],Q4:e[3],Q5:e[4],device:q.device},success:function(e){"OK"==e.RS||console.log(e.RS)},error:function(e,a,n){console.log("error:",e,a,n)}}),$.address.value("/page1?scenes=3"),$(".q1ans").removeClass("on"),$(".databox .bar .light").attr("style",""),$(".databox .bar .cover").attr("style",""),$(".databoxin").mCustomScrollbar("scrollTo",0))}function l(){var e=$(".user_data");e.find(".user_phone").val(""),e.find(".user_mail").val(""),e.find(".user_name").val(""),e.find(".user_code").val("")}function d(){$(".p3s1gobtn").addClass("on");var e=$(".user_data");return q.senddata={mob:e.find(".user_phone").val(),email:e.find(".user_mail").val(),name:e.find(".user_name").val(),storeid:q.shopdata[q.nowCity].STORES[q.nowArea].ID,ccc:e.find(".user_code").val(),device:q.device},q.senddata.mob&&q.senddata.email&&q.senddata.name&&q.senddata.ccc&&$(".agreebox .checkbox").hasClass("on")?(T(!0),void $.ajax({url:q.backendurl+"api_save.ashx",type:"POST",dataType:"json",data:q.senddata,success:function(e){if(l(),"OK"==e.RS)q.page3scenes=2,f();else{alert(e.RS);var a=Math.round(1e3*Math.random())+1;$(".user_code").parent().find(".code").attr("src",q.backendurl+"api_vcode.ashx?"+a)}T(!1),$(".p3s1gobtn").removeClass("on")},error:function(e,a,n){$(".p3s1gobtn").removeClass("on"),T(!1),console.log("error:",e,a,n)}})):($(".agreebox .checkbox").hasClass("on")?alert(q.creatUsererrortxt):alert("請同意個資條款"),void $(".p3s1gobtn").removeClass("on"))}function p(){function e(r){var i=Math.floor(r.pageX-a.offset().left-n.width()/2);return o=$(".databox .bar").width()-10,s=o/2,i>o?void a.unbind("mousemove",e):0>i?void a.unbind("mousemove",e):(n.css("left",i),t.css("width",i),t.width()<=s?q.dragscore=Math.round(t.width()/s*5):q.dragscore=5+Math.round((t.width()-s)/s*15),void g())}var a=$(this),n=$(this).find(".light"),t=$(this).find(".cover"),o=a.width()-10,s=o/2;n.mousedown(function(n){$(".forq2check").hasClass("on")||a.bind("mousemove",e)}),n.mouseout(function(n){a.unbind("mousemove",e)}),n.mouseup(function(n){a.unbind("mousemove",e)})}function g(){q.nowscore=0;for(var e=0;e<$(".q1ans").length;e++)$(".q1ans").eq(e).hasClass("on")&&(q.nowscore=q.nowscore+1*$(".q1ans").eq(e).attr("data-score"));q.nowscore=q.nowscore+q.dragscore,q.nowscorepercent=Math.round(q.nowscore/85*100)-1,q.prescore=q.nowscore}function m(e){e.parent().parent().hasClass("multi")?e.hasClass("on")?e.removeClass("on"):(e.hasClass("forq3check")?e.parent().parent().find(".q1ans").removeClass("on"):$(".forq3check").removeClass("on"),e.addClass("on")):(e.parent().parent().find(".q1ans").removeClass("on"),e.addClass("on")),$(".forq2check").hasClass("on")&&($(".databox .bar .light").attr("style",""),$(".databox .bar .cover").attr("style",""),q.dragscore=0),g()}function u(e){e?$(".menuDom").addClass("on"):$(".menuDom").removeClass("on")}function f(){var e="";1!=q.page3scenes?e=" scenes"+q.page3scenes:setTimeout(function(){C()},1500),$(".wrapperin .page3 .scenes_all").attr("class","scenes_all"+e),$(".wrapperin .page3 .scenes_all .scenes").stop().fadeOut().eq(q.page3scenes-1).stop().fadeIn(300,function(){$(".wrapperin .page3 .scenes_all .scenes").eq(q.page3scenes-1).addClass("on")}),$(".wrapperin .page3 .scenes_all .scenes .content").hide(),q.page1hasplay?$(".wrapperin .page3 .scenes_all .scenes2 .btn1 a").hide().eq(1).show():$(".wrapperin .page3 .scenes_all .scenes2 .btn1 a").hide().eq(0).show(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".wrapperin .page3 .scenes_all .scenes").eq(q.page3scenes-1).find(".content").fadeIn()},1300)}function h(){var e="";1!=q.page1scenes&&(e=" scenes"+q.page1scenes),$(".wrapperin .page1 .scenes_all").attr("class","scenes_all"+e),$(".wrapperin .page1 .scenes_all .scenes").stop().fadeOut().eq(q.page1scenes-1).stop().fadeIn(300,function(){$(".wrapperin .page1 .scenes_all .scenes").eq(q.page1scenes-1).addClass("on")}),2==q.page1scenes&&(q.nowscore=0,q.nowscorepercent=0,q.prescore=0,q.dragscore=0,q.treeBigFrame=0),3==q.page1scenes?(q.treeSmallFrame=0,w(!0)):w(!1)}function w(e){var a=$(".wrapperin .page1 .scenes_all .scenes3");e?(q.page1hasplay=!0,a.find(".score").html(0),q.nowscorepercent<=40?a.find(".s").hide().eq(0).show():q.nowscorepercent>40&&q.nowscorepercent<=80?a.find(".s").hide().eq(1).show():q.nowscorepercent>80&&a.find(".s").hide().eq(2).show(),a.find(".content").hide(),q.pg1S3timeout&&clearTimeout(q.pg1S3timeout),q.pg1S3timeout=setTimeout(function(){a.find(".content").fadeIn(300,function(){b()})},1300)):a.find(".content").fadeOut()}function b(){var e=$(".wrapperin .page1 .scenes_all .scenes3 .score"),a=e.text();a<q.nowscorepercent&&(a=1*a+1,q.treeSmallFrame=a,q.pg1S3timeout=setTimeout(function(){b()},33)),e.html(a)}function v(){if($(".scenes_all .scenes").removeClass("on"),$(".forload").removeClass("on").stop().fadeOut(),$(".page"+q.nowpage).stop().fadeIn(300,function(){$(".page"+q.nowpage).addClass("on")}),1==q.nowpage&&h(),2==q.nowpage&&($(".page2").find(".content").hide(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".page2").find(".content").fadeIn(300,function(){q.privacy?$(".page2 .content").mCustomScrollbar("scrollTo",$(".page2 .content .t_big")):$(".page2 .content").mCustomScrollbar("scrollTo",0)})},1300)),4==q.nowpage)$(".page4").find(".content").hide(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".page4").find(".content").fadeIn(),q.player.playVideo()},1300);else try{q.player.pauseVideo()}catch(e){}3==q.nowpage?($(".footer .gobtn").fadeOut(),f()):$(".footer .gobtn").fadeIn(),q.wrp.attr("class","wrapper").addClass("page"+q.nowpage),q.prepage=q.nowpage}function S(){q.nowCity=0,$(".mapdata .city").html("");for(i in q.shopdata)$(".mapdata .city").append("<option>"+q.shopdata[i].city+"</option>");$(".mapdata .city").change(function(){q.nowCity=$(".mapdata .city option:selected").index(),C()}),$(".mapdata .area").change(function(){q.nowArea=$(".mapdata .area option:selected").index(),y()}),q.HasComplet+=1,k()}function C(){q.nowArea=0,$(".mapdata .area").html("");for(i in q.shopdata[q.nowCity].STORES)$(".mapdata .area").append("<option>"+q.shopdata[q.nowCity].STORES[i].STORE+"</option>");y()}function y(){$(".shop_addr").html(q.shopdata[q.nowCity].STORES[q.nowArea].ADDRESS);var e=q.shopdata[q.nowCity].STORES[q.nowArea];q.mapOptions={zoom:18,center:new google.maps.LatLng(e.LAT,e.LNG)},q.map=new google.maps.Map(document.getElementById("mapCanvas"),q.mapOptions);new google.maps.Marker({position:new google.maps.LatLng(e.LAT,e.LNG),map:q.map,icon:q.mapimage});q.map.setCenter(new google.maps.LatLng(e.LAT,e.LNG))}function _(e){q.player=new YT.Player("player",{height:"100%",width:"100%",videoId:e,playerVars:{controls:1,autoplay:!1,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"}})}function k(){q.HasComplet>=2?T(!1):setTimeout(function(){k()},300)}function x(){var e=$.address.value();switch(e){case"/":window.location.href="index.html#/page1";break;case"/page1":q.nowpage=1,q.page1scenes=1;break;case"/page1?scenes=2":q.nowpage=1,q.page1scenes=2;break;case"/page1?scenes=3":q.nowpage=1,q.page1scenes=3;break;case"/page2":q.nowpage=2,q.privacy=!1;break;case"/page2?scenes=2":q.nowpage=2,q.privacy=!0;break;case"/page3":q.nowpage=3,q.page3scenes=1;break;case"/page3?andy":q.nowpage=3,q.page3scenes=2;break;case"/page4":q.nowpage=4;break;case"/page5":q.nowpage=5;break;default:window.location.href="index.html#/page1"}v()}function T(e){e?$(".loading").fadeIn():$(".loading").fadeOut()}var q={};q.wrp=$(".wrapper"),q.mainurl="http://2016parodontax.everydayhealth.com.tw/20160617/",q.backendurl="http://2016parodontax.everydayhealth.com.tw/xml/",q.mapimage="http://ml-andy.github.io/chinesechess/website/images/mapicon.png",q.creatUsererrortxt="請填寫完整資料",q.pagespeed=500,q.page1scenes=1,q.page3scenes=1,q.HasComplet=0,device.mobile()?q.device="mobile":q.device="pc",$(".databoxin").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),$(".page3 .scenes1 .content").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),$(".page2 .content").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),q.nowscore=0,q.nowscorepercent=0,q.prescore=0,q.dragscore=0,q.page1hasplay=!1,q.treeBigFrame=0,q.treeSmallFrame=0,t(),q.sharetitle="【搶救】我的牙齦急診室！",q.sharedes="刷牙流血問題，隱藏健康大警訊。立即線上檢視，馬上索取【牙周適-牙齦護理牙膏】搶救牙齦！";var O="1706959846220744";FB.init({appId:O,channelUrl:q.mainurl,status:!0,xfbml:!0,cookie:!0}),$(".fbshare_btn").click(function(){a()}),$(".fb_share_btn").click(function(){a()}),$(".agreebox .checkbox").click(function(){$(this).hasClass("on")?$(this).removeClass("on"):$(this).addClass("on")}),$(".p3s1gobtn").click(function(){$(this).hasClass("on")||d()}),$(".sure_btn").click(function(){c()}),$(".databox .bar").each(p),$(".q1ans").click(function(){m($(this))}),$(".start_btn").click(function(){$.address.value("/page1?scenes=2")}),$(".gobtn").click(function(){$(".menubtn").hasClass("on")&&$(".menubtn").trigger("click")}),$(".menua").click(function(){$(".menubtn").trigger("click")}),$(".menubtn").click(function(){$(this).hasClass("on")?($(this).removeClass("on"),u(!1)):($(this).addClass("on"),u(!0))}),$.address.change(x),$(window).load(e)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJnZXRVcmxWYXJzIiwiaGFzaCIsInZhcnMiLCJoYXNoZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzbGljZSIsImluZGV4T2YiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ3aW5kb3dMb2FkIiwiX3JhbmRvbSIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInBhcmVudCIsInByZXBlbmQiLCJ3ZWJEYXRhIiwiYmFja2VuZHVybCIsImNyZWF0ZVZpZGVvIiwiZXEiLCJjc3MiLCJvcGFjaXR5IiwiZGlzcGxheSIsImFkZENsYXNzIiwiY29uc29sZSIsImxvZyIsImNoYW5nZVBhZ2UiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGFUeXBlIiwic3VjY2VzcyIsImRhdGEiLCJzaG9wZGF0YSIsIkRBVEEiLCJSUyIsImluaXRNYXAiLCJlcnJvciIsInhociIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsInNob3dMb2FkaW5nIiwic2hhcmVmYiIsImRldmljZSIsIm1vYmlsZSIsIkZCIiwidWkiLCJtZXRob2QiLCJuYW1lIiwic2hhcmV0aXRsZSIsImNhcHRpb24iLCJkZXNjcmlwdGlvbiIsInNoYXJlZGVzIiwibGluayIsIm1haW51cmwiLCJyZXNwb25zZSIsImVycm9yX2NvZGUiLCJzaGFyZWZiX21vYmlsZSIsIkZCQXBwSWQiLCJjYW52YXNJaW5pdCIsInRyZWVjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImltYWdlcyIsInNzIiwibG9hZGVyIiwiY3JlYXRlanMiLCJMb2FkUXVldWUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRmlsZUxvYWQiLCJoYW5kbGVDb21wbGV0ZSIsImxvYWRGaWxlIiwic3JjIiwiaWQiLCJsb2FkTWFuaWZlc3QiLCJsaWIiLCJwcm9wZXJ0aWVzIiwibWFuaWZlc3QiLCJldnQiLCJpdGVtIiwicmVzdWx0IiwicXVldWUiLCJ0YXJnZXQiLCJnZXRSZXN1bHQiLCJleHBvcnRSb290IiwidHJlZUFuaSIsInN0YWdlIiwiU3RhZ2UiLCJhZGRDaGlsZCIsInVwZGF0ZSIsIlRpY2tlciIsInNldEZQUyIsImZwcyIsIlN0YWdlTGlzdGVudGVyIiwidHJlZXNtYWxsIiwidHJlZXNtYWxsU3RhZ2UiLCJ0cmVlc21hbGxTdGFnZW1vdmllIiwi5YWD5Lu2MV8xIiwibGlnaHQiLCJsaWdodFN0YWdlIiwibGlnaHRTdGFnZW1vdmllIiwi5YWD5Lu2Meikh+ijvSIsInNldFRyYW5zZm9ybSIsImdvYnRuIiwiZ29idG5TdGFnZSIsImdvYnRuU3RhZ2Vtb3ZpZSIsIuWFg+S7tjJfMSIsIkhhc0NvbXBsZXQiLCJjaGVja0xvYWRpbmciLCJub3dzY29yZXBlcmNlbnQiLCJ0cmVlQmlnRnJhbWUiLCJpbnN0YW5jZV8yIiwiZ290b0FuZFN0b3AiLCJ0cmVlU21hbGxGcmFtZSIsInAxczJzdXJlIiwiX3FlcyIsIl90eHQiLCJqIiwiZmluZCIsIl90bXAiLCJ0ZXh0IiwiZHJhZ3Njb3JlIiwiX3llcyIsIl9udW0iLCJhbGVydCIsIlExIiwiUTIiLCJRMyIsIlE0IiwiUTUiLCJhZGRyZXNzIiwidmFsdWUiLCJyZW1vdmVDbGFzcyIsImF0dHIiLCJtQ3VzdG9tU2Nyb2xsYmFyIiwicmVzZXRVc2VyZGF0YSIsIl91c2VyX2RhdGEiLCJ2YWwiLCJzZW5kRGF0YSIsInNlbmRkYXRhIiwibW9iIiwiZW1haWwiLCJzdG9yZWlkIiwibm93Q2l0eSIsIlNUT1JFUyIsIm5vd0FyZWEiLCJJRCIsImNjYyIsImhhc0NsYXNzIiwicGFnZTNzY2VuZXMiLCJjaGFuZ2VwYWdlM1NjZW5lcyIsImNyZWF0VXNlcmVycm9ydHh0IiwiZGF0YWJveEJhciIsImRyYWdtb3ZlIiwiZSIsImxmdCIsImZsb29yIiwicGFnZVgiLCJiYXIiLCJvZmZzZXQiLCJsZWZ0IiwiZHJhZyIsIndpZHRoIiwiX3dpZHRoIiwiX3dpZHRoNTAiLCJ1bmJpbmQiLCJjb3ZlciIsImNvdW50U2NvcmVfdHJ1ZSIsInRoaXMiLCJtb3VzZWRvd24iLCJiaW5kIiwibW91c2VvdXQiLCJtb3VzZXVwIiwibm93c2NvcmUiLCJwcmVzY29yZSIsImNvdW50U2NvcmUiLCJfbyIsInNob3dtZW51IiwiX3QiLCJzZXRUaW1lb3V0IiwiY2hhbmdlQ2l0eSIsInN0b3AiLCJmYWRlT3V0IiwiZmFkZUluIiwiaGlkZSIsInBhZ2UxaGFzcGxheSIsInNob3ciLCJwZzN0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hhbmdlcGFnZTFTY2VuZXMiLCJwYWdlMXNjZW5lcyIsInBhZ2Uxc2VjZW5lczNhbmkiLCJfc2NlbmVzMyIsImh0bWwiLCJwZzFTM3RpbWVvdXQiLCJwYWdlMXNlY2VuZXMzU2NvcmVhbmkiLCJfc2NvcmUiLCJfbm93bnVtYmVyIiwibm93cGFnZSIsInByaXZhY3kiLCJwbGF5ZXIiLCJwbGF5VmlkZW8iLCJwYXVzZVZpZGVvIiwiZXJyIiwid3JwIiwicHJlcGFnZSIsImFwcGVuZCIsImNpdHkiLCJjaGFuZ2UiLCJpbmRleCIsImNoYW5nZUFyZWEiLCJTVE9SRSIsIkFERFJFU1MiLCJfc2hvcCIsIm1hcE9wdGlvbnMiLCJ6b29tIiwiY2VudGVyIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsIkxBVCIsIkxORyIsIm1hcCIsIk1hcCIsIk1hcmtlciIsInBvc2l0aW9uIiwiaWNvbiIsIm1hcGltYWdlIiwic2V0Q2VudGVyIiwiX2lkIiwiWVQiLCJQbGF5ZXIiLCJoZWlnaHQiLCJ2aWRlb0lkIiwicGxheWVyVmFycyIsImNvbnRyb2xzIiwiYXV0b3BsYXkiLCJlbmFibGVqc2FwaSIsImhkIiwicmVsIiwic2hvd2luZm8iLCJtb2Rlc3RicmFuZGluZyIsImNjX2xvYWRfcG9saWN5Iiwid21vZGUiLCJhZGRyQ2hhbmdlIiwicGFnZXNwZWVkIiwic2Nyb2xsSW5lcnRpYSIsInNjcm9sbEVhc2luZyIsImluaXQiLCJhcHBJZCIsImNoYW5uZWxVcmwiLCJzdGF0dXMiLCJ4ZmJtbCIsImNvb2tpZSIsImNsaWNrIiwiZWFjaCIs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TUFDaEMzRyxFQUFFLGlCQUFpQndQLEtBQUt2RyxHQUN4QmpKLEVBQUUsVUFBVXVQLE1BQU0sV0FBVy9FLEVBQVd4SyxFQUFFaUssU0FDMUNqSyxFQUFFLGNBQWN1UCxNQUFNLFdBQVd2UCxFQUFFMkgsUUFBUUMsTUFBTSxxQkFDakQ1SCxFQUFFLFVBQVV1UCxNQUFNLFdBQWN2UCxFQUFFLFlBQVk2SSxTQUFTLE9BQU83SSxFQUFFLFlBQVl5UCxRQUFRLFdBQ3BGelAsRUFBRSxVQUFVdVAsTUFBTSxXQUFXdlAsRUFBRSxZQUFZeVAsUUFBUSxXQUN0RHpQLEVBQUUsWUFBWXVQLE1BQU0sV0FDaEJ2UCxFQUFFaUssTUFBTXBCLFNBQVMsT0FBTzdJLEVBQUVpSyxNQUFNcEMsWUFBWSxNQUFNNkMsR0FBUyxLQUN4RDFLLEVBQUVpSyxNQUFNaEosU0FBUyxNQUFPeUosR0FBUyxNQUVyQzFLLEVBQUUySCxRQUFROEUsT0FBT29DLEdBQ3BCN08sRUFBRVQsUUFBUW1RLEtBQUt2UCIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdHZhciB3ZWJEYXRhID17fTtcdFxyXG5cclxuXHQvL0luaXRcclxuXHR3ZWJEYXRhLndycD0kKCcud3JhcHBlcicpO1xyXG4gICAgd2ViRGF0YS5tYWludXJsID0gJ2h0dHA6Ly8yMDE2cGFyb2RvbnRheC5ldmVyeWRheWhlYWx0aC5jb20udHcvMjAxNjA2MTcvJztcclxuICAgIHdlYkRhdGEuYmFja2VuZHVybCA9ICdodHRwOi8vMjAxNnBhcm9kb250YXguZXZlcnlkYXloZWFsdGguY29tLnR3L3htbC8nO1xyXG4gICAgd2ViRGF0YS5tYXBpbWFnZSA9ICdodHRwOi8vbWwtYW5keS5naXRodWIuaW8vY2hpbmVzZWNoZXNzL3dlYnNpdGUvaW1hZ2VzL21hcGljb24ucG5nJztcclxuICAgIHdlYkRhdGEuY3JlYXRVc2VyZXJyb3J0eHQgPSBcIuiri+Whq+Wvq+WujOaVtOizh+aWmVwiO1xyXG5cdHdlYkRhdGEucGFnZXNwZWVkID0gNTAwO1xyXG4gICAgd2ViRGF0YS5wYWdlMXNjZW5lcyA9IDE7XHJcbiAgICB3ZWJEYXRhLnBhZ2Uzc2NlbmVzID0gMTtcclxuICAgIHdlYkRhdGEuSGFzQ29tcGxldCA9IDA7XHJcbiAgICBpZihkZXZpY2UubW9iaWxlKCkpIHdlYkRhdGEuZGV2aWNlPVwibW9iaWxlXCI7XHJcbiAgICBlbHNlIHdlYkRhdGEuZGV2aWNlPVwicGNcIjtcclxuICAgIFxyXG4gICAgJChcIi5kYXRhYm94aW5cIikubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcbiAgICAkKFwiLnBhZ2UzIC5zY2VuZXMxIC5jb250ZW50XCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pO1xyXG4gICAgJChcIi5wYWdlMiAuY29udGVudFwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTsgICAgXHJcblxyXG4gICAgLy9TQ09SRSBJTklUXHJcbiAgICB3ZWJEYXRhLm5vd3Njb3JlID0gMDtcclxuICAgIHdlYkRhdGEubm93c2NvcmVwZXJjZW50ID0gMDtcclxuICAgIHdlYkRhdGEucHJlc2NvcmUgPSAwO1xyXG4gICAgd2ViRGF0YS5kcmFnc2NvcmUgPSAwO1xyXG4gICAgd2ViRGF0YS5wYWdlMWhhc3BsYXkgPSBmYWxzZTtcclxuXHJcbiAgICAvL0NhbnZhcyBpbml0XHJcbiAgICB3ZWJEYXRhLnRyZWVCaWdGcmFtZSA9IDA7XHJcbiAgICB3ZWJEYXRhLnRyZWVTbWFsbEZyYW1lID0gMDtcclxuXHJcbiAgICBjYW52YXNJaW5pdCgpO1xyXG4gICAgLy9GQiBJTklUXHJcbiAgICB3ZWJEYXRhLnNoYXJldGl0bGUgPSAn44CQ5pC25pWR44CR5oiR55qE54mZ6b2m5oCl6Ki65a6k77yBJztcclxuICAgIHdlYkRhdGEuc2hhcmVkZXMgPSAn5Yi354mZ5rWB6KGA5ZWP6aGM77yM6Zqx6JeP5YGl5bq35aSn6K2m6KiK44CC56uL5Y2z57ea5LiK5qqi6KaW77yM6aas5LiK57Si5Y+W44CQ54mZ5ZGo6YGpLeeJmem9puitt+eQhueJmeiGj+OAkeaQtuaVkeeJmem9pu+8gSc7XHJcbiAgICB2YXIgRkJBcHBJZCA9ICcxNzA2OTU5ODQ2MjIwNzQ0JztcclxuICAgIEZCLmluaXQoe1xyXG4gICAgICBhcHBJZCAgICAgIDogRkJBcHBJZCxcclxuICAgICAgY2hhbm5lbFVybCA6IHdlYkRhdGEubWFpbnVybCxcclxuICAgICAgc3RhdHVzICAgICA6IHRydWUsXHJcbiAgICAgIHhmYm1sICAgICAgOiB0cnVlLFxyXG4gICAgICBjb29raWUgICAgIDogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHQvL0FkZExpc3RlbmVyXHJcbiAgICAvLyAkKCcuZ29wcml2YWN5YnRuJykuY2xpY2soZnVuY3Rpb24oKXskLmFkZHJlc3MudmFsdWUoXCJcIik7fSk7XHJcbiAgICAkKCcuZmJzaGFyZV9idG4nKS5jbGljayhmdW5jdGlvbigpe3NoYXJlZmIoKTt9KTtcclxuICAgICQoJy5mYl9zaGFyZV9idG4nKS5jbGljayhmdW5jdGlvbigpe3NoYXJlZmIoKTt9KTtcclxuICAgICQoJy5hZ3JlZWJveCAuY2hlY2tib3gnKS5jbGljayhmdW5jdGlvbigpe2lmKCQodGhpcykuaGFzQ2xhc3MoJ29uJykpeyQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7fWVsc2V7JCh0aGlzKS5hZGRDbGFzcygnb24nKTt9fSk7XHJcbiAgICAkKCcucDNzMWdvYnRuJykuY2xpY2soZnVuY3Rpb24oKXtpZighJCh0aGlzKS5oYXNDbGFzcygnb24nKSkgc2VuZERhdGEoKTt9KTtcclxuICAgICQoJy5zdXJlX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7cDFzMnN1cmUoKTt9KTtcclxuICAgICQoJy5kYXRhYm94IC5iYXInKS5lYWNoKGRhdGFib3hCYXIpO1xyXG4gICAgJCgnLnExYW5zJykuY2xpY2soZnVuY3Rpb24oKXtjb3VudFNjb3JlKCQodGhpcykpO30pO1xyXG4gICAgJCgnLnN0YXJ0X2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7JC5hZGRyZXNzLnZhbHVlKFwiL3BhZ2UxP3NjZW5lcz0yXCIpO30pO1xyXG4gICAgJCgnLmdvYnRuJykuY2xpY2soZnVuY3Rpb24oKXtpZigkKCcubWVudWJ0bicpLmhhc0NsYXNzKCdvbicpKSAkKCcubWVudWJ0bicpLnRyaWdnZXIoJ2NsaWNrJyk7fSk7XHJcbiAgICAkKCcubWVudWEnKS5jbGljayhmdW5jdGlvbigpeyQoJy5tZW51YnRuJykudHJpZ2dlcignY2xpY2snKTt9KTtcdFxyXG5cdCQoJy5tZW51YnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdGlmKCQodGhpcykuaGFzQ2xhc3MoJ29uJykpeyQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7c2hvd21lbnUoZmFsc2UpO31cclxuXHRcdGVsc2UgeyQodGhpcykuYWRkQ2xhc3MoJ29uJyk7IHNob3dtZW51KHRydWUpO31cclxuXHR9KTtcclxuICAgICQuYWRkcmVzcy5jaGFuZ2UoYWRkckNoYW5nZSk7XHJcblx0JCh3aW5kb3cpLmxvYWQod2luZG93TG9hZCk7XHJcblx0ZnVuY3Rpb24gd2luZG93TG9hZCgpeyAgICAgICAgXHJcbiAgICAgICAgdmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTAwMCkrMTtcclxuICAgICAgICAkKCcudXNlcl9jb2RlJykucGFyZW50KCkucHJlcGVuZCgnPGltZyBzcmM9XCInKyB3ZWJEYXRhLmJhY2tlbmR1cmwgKydhcGlfdmNvZGUuYXNoeD8nK19yYW5kb20rJ1wiIGNsYXNzPVwiY29kZVwiPicpO1xyXG4gICAgICAgIGNyZWF0ZVZpZGVvKCdBb1Q0UTZOUGpjbycpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8JCgnLmZvcmxvYWQnKS5sZW5ndGg7aSsrKSAkKCcuZm9ybG9hZCcpLmVxKGkpLmNzcyh7J29wYWNpdHknOicxJywnZGlzcGxheSc6J25vbmUnfSkuYWRkQ2xhc3MoJ2xvYWRlbmQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY29tcGxldGVsb2FkJyk7XHJcbiAgICAgICAgY2hhbmdlUGFnZSgpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogd2ViRGF0YS5iYWNrZW5kdXJsICsgJ2FwaV9zdG9yZS5hc2h4JyxcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnNob3BkYXRhID0gZGF0YS5EQVRBOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuUlM9PVwiT0tcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdE1hcCgpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgY29uc29sZS5sb2coZGF0YS5SUyk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sZXJyb3I6IGZ1bmN0aW9uKHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yOlwiLCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cdH1cclxuICAgIFxyXG5cclxuXHJcbiAgICAvL0VldmVudFxyXG4gICAgZnVuY3Rpb24gc2hhcmVmYigpe1xyXG4gICAgICAgIGlmKCFkZXZpY2UubW9iaWxlKCkpe1xyXG4gICAgICAgICAgICBGQi51aSh7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZmVlZCcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB3ZWJEYXRhLnNoYXJldGl0bGUsXHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHdlYkRhdGEuc2hhcmVkZXMsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OlwicG9wdXBcIixcclxuICAgICAgICAgICAgICAgIGxpbms6IHdlYkRhdGEubWFpbnVybFxyXG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgIXJlc3BvbnNlLmVycm9yX2NvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2hhcmUgb2snKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NoYXJlIG5vdCBvaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB3ZWJEYXRhLmJhY2tlbmR1cmwgKyAnYXBpX3NoYXJlLmFzaHgnLFxyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgZGV2aWNlOndlYkRhdGEuZGV2aWNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5SUz09XCJPS1wiKXtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBjb25zb2xlLmxvZyhkYXRhLlJTKTtcclxuICAgICAgICAgICAgICAgIGlmKGRldmljZS5tb2JpbGUoKSkgc2hhcmVmYl9tb2JpbGUoKTtcclxuICAgICAgICAgICAgfSxlcnJvcjogZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xyXG4gICAgICAgICAgICAgICAgaWYoZGV2aWNlLm1vYmlsZSgpKSBzaGFyZWZiX21vYmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjpcIiwgeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgICAgICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hhcmVmYl9tb2JpbGUoKXtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZj0naHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9kaWFsb2cvZmVlZD9hcHBfaWQ9JysgRkJBcHBJZCArJyZjYXB0aW9uPSZuYW1lPScrd2ViRGF0YS5zaGFyZXRpdGxlKycmZGVzY3JpcHRpb249Jyt3ZWJEYXRhLnNoYXJlZGVzKycmbGluaz0nKyB3ZWJEYXRhLm1haW51cmwgKycmcmVkaXJlY3RfdXJpPScrd2ViRGF0YS5tYWludXJsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2FudmFzSWluaXQoKXtcclxuICAgICAgICB3ZWJEYXRhLnRyZWVjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyZWVcIik7XHJcbiAgICAgICAgaW1hZ2VzID0gaW1hZ2VzfHx7fTtcclxuICAgICAgICBzcyA9IHNzfHx7fTtcclxuICAgICAgICB2YXIgbG9hZGVyID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZShmYWxzZSk7XHJcbiAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJmaWxlbG9hZFwiLCBoYW5kbGVGaWxlTG9hZCk7XHJcbiAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wbGV0ZVwiLCBoYW5kbGVDb21wbGV0ZSk7XHJcbiAgICAgICAgbG9hZGVyLmxvYWRGaWxlKHtzcmM6XCJpbWFnZXMvdHJlZUFuaV9hdGxhc18udHh0XCIsIHR5cGU6XCJzcHJpdGVzaGVldFwiLCBpZDpcInRyZWVBbmlfYXRsYXNfXCJ9LCB0cnVlKTtcclxuICAgICAgICBsb2FkZXIubG9hZE1hbmlmZXN0KGxpYi5wcm9wZXJ0aWVzLm1hbmlmZXN0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVMb2FkKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQuaXRlbS50eXBlID09IFwiaW1hZ2VcIikgeyBpbWFnZXNbZXZ0Lml0ZW0uaWRdID0gZXZ0LnJlc3VsdDsgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlQ29tcGxldGUoZXZ0KSB7XHJcbiAgICAgICAgdmFyIHF1ZXVlID0gZXZ0LnRhcmdldDtcclxuICAgICAgICBzc1tcInRyZWVBbmlfYXRsYXNfXCJdID0gcXVldWUuZ2V0UmVzdWx0KFwidHJlZUFuaV9hdGxhc19cIik7XHJcbiAgICAgICAgZXhwb3J0Um9vdCA9IG5ldyBsaWIudHJlZUFuaSgpO1xyXG5cclxuICAgICAgICB3ZWJEYXRhLnN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKHdlYkRhdGEudHJlZWNhbnZhcyk7XHJcbiAgICAgICAgd2ViRGF0YS5zdGFnZS5hZGRDaGlsZChleHBvcnRSb290KTtcclxuICAgICAgICB3ZWJEYXRhLnN0YWdlLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBjcmVhdGVqcy5UaWNrZXIuc2V0RlBTKGxpYi5wcm9wZXJ0aWVzLmZwcyk7XHJcbiAgICAgICAgY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsIFN0YWdlTGlzdGVudGVyKTtcclxuXHJcbiAgICAgICAgLy9zbWFsbFRyZWVcclxuICAgICAgICB3ZWJEYXRhLnRyZWVzbWFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJlZVNtYWxsXCIpOyBcclxuICAgICAgICB3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKHdlYkRhdGEudHJlZXNtYWxsKTtcclxuICAgICAgICB3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlbW92aWUgPSB3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlLmFkZENoaWxkKG5ldyBsaWIu5YWD5Lu2MV8xKCkpO1xyXG5cclxuICAgICAgICAvL2xpZ2h0ICAgICAgICBcclxuICAgICAgICB3ZWJEYXRhLmxpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaWdodFwiKTsgXHJcbiAgICAgICAgd2ViRGF0YS5saWdodFN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKHdlYkRhdGEubGlnaHQpO1xyXG4gICAgICAgIHdlYkRhdGEubGlnaHRTdGFnZW1vdmllID0gd2ViRGF0YS5saWdodFN0YWdlLmFkZENoaWxkKG5ldyBsaWIu5YWD5Lu2Meikh+ijvSgpKTtcclxuICAgICAgICB3ZWJEYXRhLmxpZ2h0U3RhZ2Vtb3ZpZS5zZXRUcmFuc2Zvcm0oMTA1LDApO1xyXG5cclxuICAgICAgICAvL2dvYnRuICAgICAgICBcclxuICAgICAgICB3ZWJEYXRhLmdvYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb2J0blwiKTsgXHJcbiAgICAgICAgd2ViRGF0YS5nb2J0blN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKHdlYkRhdGEuZ29idG4pO1xyXG4gICAgICAgIHdlYkRhdGEuZ29idG5TdGFnZW1vdmllID0gd2ViRGF0YS5nb2J0blN0YWdlLmFkZENoaWxkKG5ldyBsaWIu5YWD5Lu2Ml8xKCkpO1xyXG4gICAgICAgIHdlYkRhdGEuZ29idG5TdGFnZW1vdmllLnNldFRyYW5zZm9ybSgwLDApO1xyXG5cclxuICAgICAgICB3ZWJEYXRhLkhhc0NvbXBsZXQgKz0gMTtcclxuICAgICAgICBjaGVja0xvYWRpbmcoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFN0YWdlTGlzdGVudGVyKCl7XHJcbiAgICAgICAgd2ViRGF0YS5zdGFnZS51cGRhdGUoKTtcclxuICAgICAgICBpZih3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlKSB3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlLnVwZGF0ZSgpO1xyXG4gICAgICAgIGlmKHdlYkRhdGEubGlnaHRTdGFnZSkgd2ViRGF0YS5saWdodFN0YWdlLnVwZGF0ZSgpO1xyXG4gICAgICAgIGlmKHdlYkRhdGEuZ29idG5TdGFnZSkgd2ViRGF0YS5nb2J0blN0YWdlLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICBpZih3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudCA+IHdlYkRhdGEudHJlZUJpZ0ZyYW1lKSB3ZWJEYXRhLnRyZWVCaWdGcmFtZSs9MTtcclxuICAgICAgICBlbHNlIGlmKHdlYkRhdGEubm93c2NvcmVwZXJjZW50IDwgd2ViRGF0YS50cmVlQmlnRnJhbWUpIHdlYkRhdGEudHJlZUJpZ0ZyYW1lLT0xOyAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0Um9vdC5pbnN0YW5jZV8yLmdvdG9BbmRTdG9wKHdlYkRhdGEudHJlZUJpZ0ZyYW1lKTtcclxuICAgICAgICB3ZWJEYXRhLnRyZWVzbWFsbFN0YWdlbW92aWUuZ290b0FuZFN0b3Aod2ViRGF0YS50cmVlU21hbGxGcmFtZSk7XHJcbiAgICB9ICAgXHJcbiAgICBmdW5jdGlvbiBwMXMyc3VyZSgpe1xyXG4gICAgICAgIC8vY2hlY2sgcmVjb3JkXHJcbiAgICAgICAgdmFyIF9xZXMgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTwkKCcuZGF0YWJveCBsaScpLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIF90eHQgPScnO1xyXG4gICAgICAgICAgICBpZihpIT0xKXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPCQoJy5kYXRhYm94IGxpJykuZXEoaSkuZmluZCgnLnExYW5zLm9uJykubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdG1wID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaiE9MCkgX3RtcCA9ICcsJztcclxuICAgICAgICAgICAgICAgICAgICBfdHh0ID0gX3R4dCArIF90bXAgKyAkKCcuZGF0YWJveCBsaScpLmVxKGkpLmZpbmQoJy5xMWFucy5vbicpLmVxKGopLnBhcmVudCgpLnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKHdlYkRhdGEuZHJhZ3Njb3JlPD01KSBfdHh0ID0gTWF0aC5yb3VuZCh3ZWJEYXRhLmRyYWdzY29yZSAvIDUgKiA3KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgX3R4dCA9IDcgKyBNYXRoLnJvdW5kKCh3ZWJEYXRhLmRyYWdzY29yZSAtIDUpIC8gMTUgKiA3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfcWVzLnB1c2goX3R4dCk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX3llcyA9IHRydWU7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8X3Flcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKGkhPTEpe1xyXG4gICAgICAgICAgICAgICAgaWYoX3Flc1tpXSA9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9udW0gPSBpKjEgKzE7XHJcbiAgICAgICAgICAgICAgICAgICAgX3llcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfliKXlv5joqJjloavlr6vnrKwnICsgX251bSArICfpoYzllLchJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIV95ZXMpIHJldHVybjsgICAgXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB3ZWJEYXRhLmJhY2tlbmR1cmwgKyAnYXBpX2dhbWUuYXNoeCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICBRMTpfcWVzWzBdLFxyXG4gICAgICAgICAgICAgICAgUTI6X3Flc1sxXSxcclxuICAgICAgICAgICAgICAgIFEzOl9xZXNbMl0sXHJcbiAgICAgICAgICAgICAgICBRNDpfcWVzWzNdLFxyXG4gICAgICAgICAgICAgICAgUTU6X3Flc1s0XSxcclxuICAgICAgICAgICAgICAgIGRldmljZTp3ZWJEYXRhLmRldmljZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5SUz09XCJPS1wiKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGNvbnNvbGUubG9nKGRhdGEuUlMpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6XCIsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJC5hZGRyZXNzLnZhbHVlKFwiL3BhZ2UxP3NjZW5lcz0zXCIpO1xyXG4gICAgICAgICQoJy5xMWFucycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICQoJy5kYXRhYm94IC5iYXIgLmxpZ2h0JykuYXR0cignc3R5bGUnLCcnKTtcclxuICAgICAgICAkKCcuZGF0YWJveCAuYmFyIC5jb3ZlcicpLmF0dHIoJ3N0eWxlJywnJyk7XHJcbiAgICAgICAgJCgnLmRhdGFib3hpbicpLm1DdXN0b21TY3JvbGxiYXIoJ3Njcm9sbFRvJywwKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc2V0VXNlcmRhdGEoKXtcclxuICAgICAgICB2YXIgX3VzZXJfZGF0YSA9ICQoJy51c2VyX2RhdGEnKTtcclxuICAgICAgICBfdXNlcl9kYXRhLmZpbmQoJy51c2VyX3Bob25lJykudmFsKCcnKTtcclxuICAgICAgICBfdXNlcl9kYXRhLmZpbmQoJy51c2VyX21haWwnKS52YWwoJycpO1xyXG4gICAgICAgIF91c2VyX2RhdGEuZmluZCgnLnVzZXJfbmFtZScpLnZhbCgnJyk7XHJcbiAgICAgICAgX3VzZXJfZGF0YS5maW5kKCcudXNlcl9jb2RlJykudmFsKCcnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNlbmREYXRhKCl7XHJcbiAgICAgICAgJCgnLnAzczFnb2J0bicpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgIHZhciBfdXNlcl9kYXRhID0gJCgnLnVzZXJfZGF0YScpO1xyXG4gICAgICAgIHdlYkRhdGEuc2VuZGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG1vYjpfdXNlcl9kYXRhLmZpbmQoJy51c2VyX3Bob25lJykudmFsKCksXHJcbiAgICAgICAgICAgIGVtYWlsOl91c2VyX2RhdGEuZmluZCgnLnVzZXJfbWFpbCcpLnZhbCgpLFxyXG4gICAgICAgICAgICBuYW1lOl91c2VyX2RhdGEuZmluZCgnLnVzZXJfbmFtZScpLnZhbCgpLFxyXG4gICAgICAgICAgICBzdG9yZWlkOndlYkRhdGEuc2hvcGRhdGFbd2ViRGF0YS5ub3dDaXR5XS5TVE9SRVNbd2ViRGF0YS5ub3dBcmVhXS5JRCxcclxuICAgICAgICAgICAgY2NjOl91c2VyX2RhdGEuZmluZCgnLnVzZXJfY29kZScpLnZhbCgpLFxyXG4gICAgICAgICAgICBkZXZpY2U6d2ViRGF0YS5kZXZpY2VcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXdlYkRhdGEuc2VuZGRhdGEubW9iIHx8ICF3ZWJEYXRhLnNlbmRkYXRhLmVtYWlsIHx8ICF3ZWJEYXRhLnNlbmRkYXRhLm5hbWUgfHwgIXdlYkRhdGEuc2VuZGRhdGEuY2NjIHx8ICEkKCcuYWdyZWVib3ggLmNoZWNrYm94JykuaGFzQ2xhc3MoJ29uJykpe1xyXG4gICAgICAgICAgICBpZighJCgnLmFncmVlYm94IC5jaGVja2JveCcpLmhhc0NsYXNzKCdvbicpKSBhbGVydChcIuiri+WQjOaEj+WAi+izh+aineasvlwiKTtcclxuICAgICAgICAgICAgZWxzZSBhbGVydCh3ZWJEYXRhLmNyZWF0VXNlcmVycm9ydHh0KTsgICAgICAgICAgXHJcbiAgICAgICAgICAgICQoJy5wM3MxZ29idG4nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaG93TG9hZGluZyh0cnVlKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IHdlYkRhdGEuYmFja2VuZHVybCArICdhcGlfc2F2ZS5hc2h4JyxcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOndlYkRhdGEuc2VuZGRhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJlc2V0VXNlcmRhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuUlM9PVwiT0tcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgd2ViRGF0YS5wYWdlM3NjZW5lcz0yO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXBhZ2UzU2NlbmVzKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChkYXRhLlJTKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3JhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoxMDAwKSsxO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy51c2VyX2NvZGUnKS5wYXJlbnQoKS5maW5kKCcuY29kZScpLmF0dHIoJ3NyYycsIHdlYkRhdGEuYmFja2VuZHVybCArJ2FwaV92Y29kZS5hc2h4PycrX3JhbmRvbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcucDNzMWdvYnRuJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIH0sZXJyb3I6IGZ1bmN0aW9uKHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgICQoJy5wM3MxZ29idG4nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6XCIsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG4gICAgZnVuY3Rpb24gZGF0YWJveEJhcigpe1xyXG4gICAgICAgIHZhciBiYXIgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICBkcmFnID0gJCh0aGlzKS5maW5kKCcubGlnaHQnKSxcclxuICAgICAgICAgICAgY292ZXIgPSAkKHRoaXMpLmZpbmQoJy5jb3ZlcicpLFxyXG4gICAgICAgICAgICBfd2lkdGggPSBiYXIud2lkdGgoKSAtIDEwLFxyXG4gICAgICAgICAgICBfd2lkdGg1MCA9IF93aWR0aCAvIDI7XHJcbiAgICAgICAgZHJhZy5tb3VzZWRvd24oZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCEkKCcuZm9ycTJjaGVjaycpLmhhc0NsYXNzKCdvbicpKSBiYXIuYmluZCgnbW91c2Vtb3ZlJywgZHJhZ21vdmUpOyAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRyYWcubW91c2VvdXQoZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGJhci51bmJpbmQoJ21vdXNlbW92ZScsIGRyYWdtb3ZlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkcmFnLm1vdXNldXAoZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGJhci51bmJpbmQoJ21vdXNlbW92ZScsIGRyYWdtb3ZlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmdW5jdGlvbiBkcmFnbW92ZShlKXtcclxuICAgICAgICAgICAgdmFyIGxmdCA9IE1hdGguZmxvb3IoZS5wYWdlWC1iYXIub2Zmc2V0KCkubGVmdCAtIChkcmFnLndpZHRoKCkgLyAyKSk7XHJcbiAgICAgICAgICAgIF93aWR0aCA9ICQoJy5kYXRhYm94IC5iYXInKS53aWR0aCgpLTEwO1xyXG4gICAgICAgICAgICBfd2lkdGg1MCA9IF93aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGlmKGxmdD5fd2lkdGgpe1xyXG4gICAgICAgICAgICAgICAgYmFyLnVuYmluZCgnbW91c2Vtb3ZlJywgZHJhZ21vdmUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihsZnQ8MCl7XHJcbiAgICAgICAgICAgICAgICBiYXIudW5iaW5kKCdtb3VzZW1vdmUnLCBkcmFnbW92ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmFnLmNzcygnbGVmdCcsbGZ0KTtcclxuICAgICAgICAgICAgY292ZXIuY3NzKCd3aWR0aCcsbGZ0KTtcclxuICAgICAgICAgICAgaWYoY292ZXIud2lkdGgoKSA8PSBfd2lkdGg1MCkgd2ViRGF0YS5kcmFnc2NvcmUgPSBNYXRoLnJvdW5kKGNvdmVyLndpZHRoKCkgLyBfd2lkdGg1MCAqIDUpO1xyXG4gICAgICAgICAgICBlbHNlIHdlYkRhdGEuZHJhZ3Njb3JlID0gNSArIE1hdGgucm91bmQoKGNvdmVyLndpZHRoKCktX3dpZHRoNTApIC8gX3dpZHRoNTAgKiAxNSk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvdW50U2NvcmVfdHJ1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNvdW50U2NvcmVfdHJ1ZSgpe1xyXG4gICAgICAgIHdlYkRhdGEubm93c2NvcmUgPSAwO1xyXG4gICAgICAgIC8vaXRlbVxyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8JCgnLnExYW5zJykubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGlmKCQoJy5xMWFucycpLmVxKGkpLmhhc0NsYXNzKCdvbicpKSB3ZWJEYXRhLm5vd3Njb3JlID0gd2ViRGF0YS5ub3dzY29yZSArICQoJy5xMWFucycpLmVxKGkpLmF0dHIoJ2RhdGEtc2NvcmUnKSoxO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2RyYWdcclxuICAgICAgICB3ZWJEYXRhLm5vd3Njb3JlID0gd2ViRGF0YS5ub3dzY29yZSArIHdlYkRhdGEuZHJhZ3Njb3JlO1xyXG4gICAgICAgIHdlYkRhdGEubm93c2NvcmVwZXJjZW50ID0gTWF0aC5yb3VuZCh3ZWJEYXRhLm5vd3Njb3JlIC8gODUgICogMTAwKSAtIDE7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3ZWJEYXRhLmRyYWdzY29yZTpcIiArIHdlYkRhdGEuZHJhZ3Njb3JlICsgXCIvXCIgKyBcIndlYkRhdGEubm93c2NvcmU6XCIrd2ViRGF0YS5ub3dzY29yZSArIFwiL1wiICsgXCJ3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudDpcIiArd2ViRGF0YS5ub3dzY29yZXBlcmNlbnQpO1xyXG4gICAgICAgIHdlYkRhdGEucHJlc2NvcmUgPSB3ZWJEYXRhLm5vd3Njb3JlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY291bnRTY29yZShfbyl7XHJcbiAgICAgICAgaWYoX28ucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoJ211bHRpJykpe1xyXG4gICAgICAgICAgICAvL211bHRpcGxlIFxyXG4gICAgICAgICAgICBpZihfby5oYXNDbGFzcygnb24nKSkgX28ucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihfby5oYXNDbGFzcygnZm9ycTNjaGVjaycpKSBfby5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcucTFhbnMnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgJCgnLmZvcnEzY2hlY2snKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIF9vLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vc2luZ2xlXHJcbiAgICAgICAgICAgIF9vLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5xMWFucycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICBfby5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJCgnLmZvcnEyY2hlY2snKS5oYXNDbGFzcygnb24nKSl7XHJcbiAgICAgICAgICAgICQoJy5kYXRhYm94IC5iYXIgLmxpZ2h0JykuYXR0cignc3R5bGUnLCcnKTtcclxuICAgICAgICAgICAgJCgnLmRhdGFib3ggLmJhciAuY292ZXInKS5hdHRyKCdzdHlsZScsJycpO1xyXG4gICAgICAgICAgICB3ZWJEYXRhLmRyYWdzY29yZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvdW50U2NvcmVfdHJ1ZSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2hvd21lbnUoX3Qpe1xyXG4gICAgXHRpZihfdCl7XHJcbiAgICBcdFx0JCgnLm1lbnVEb20nKS5hZGRDbGFzcygnb24nKTtcclxuICAgIFx0fWVsc2V7XHJcbiAgICBcdFx0JCgnLm1lbnVEb20nKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgIFx0fVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlcGFnZTNTY2VuZXMoKXtcclxuICAgICAgICB2YXIgX3RtcCA9ICcnOyAgICAgICAgXHJcbiAgICAgICAgaWYod2ViRGF0YS5wYWdlM3NjZW5lcyE9MSkgX3RtcCA9ICcgc2NlbmVzJyArIHdlYkRhdGEucGFnZTNzY2VuZXM7XHJcbiAgICAgICAgZWxzZXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Y2hhbmdlQ2l0eSgpO30sMTUwMCk7fVxyXG4gICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsJykuYXR0cignY2xhc3MnLCdzY2VuZXNfYWxsJyArIF90bXApO1xyXG4gICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMnKS5zdG9wKCkuZmFkZU91dCgpLmVxKHdlYkRhdGEucGFnZTNzY2VuZXMgLSAxKS5zdG9wKCkuZmFkZUluKDMwMCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcud3JhcHBlcmluIC5wYWdlMyAuc2NlbmVzX2FsbCAuc2NlbmVzJykuZXEod2ViRGF0YS5wYWdlM3NjZW5lcy0xKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcud3JhcHBlcmluIC5wYWdlMyAuc2NlbmVzX2FsbCAuc2NlbmVzIC5jb250ZW50JykuaGlkZSgpO1xyXG4gICAgICAgIGlmKHdlYkRhdGEucGFnZTFoYXNwbGF5KSAkKCcud3JhcHBlcmluIC5wYWdlMyAuc2NlbmVzX2FsbCAuc2NlbmVzMiAuYnRuMSBhJykuaGlkZSgpLmVxKDEpLnNob3coKTtcclxuICAgICAgICBlbHNlICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMyIC5idG4xIGEnKS5oaWRlKCkuZXEoMCkuc2hvdygpO1xyXG4gICAgICAgIGlmKHdlYkRhdGEucGczdGltZW91dCkgY2xlYXJUaW1lb3V0KHdlYkRhdGEucGczdGltZW91dCk7XHJcbiAgICAgICAgd2ViRGF0YS5wZzN0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcud3JhcHBlcmluIC5wYWdlMyAuc2NlbmVzX2FsbCAuc2NlbmVzJykuZXEod2ViRGF0YS5wYWdlM3NjZW5lcy0xKS5maW5kKCcuY29udGVudCcpLmZhZGVJbigpO1xyXG4gICAgICAgIH0sMTMwMCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VwYWdlMVNjZW5lcygpe1xyXG4gICAgICAgIHZhciBfdG1wID0gJyc7ICAgICAgICBcclxuICAgICAgICBpZih3ZWJEYXRhLnBhZ2Uxc2NlbmVzIT0xKSBfdG1wID0gJyBzY2VuZXMnICsgd2ViRGF0YS5wYWdlMXNjZW5lcztcclxuICAgICAgICAkKCcud3JhcHBlcmluIC5wYWdlMSAuc2NlbmVzX2FsbCcpLmF0dHIoJ2NsYXNzJywnc2NlbmVzX2FsbCcgKyBfdG1wKTtcclxuICAgICAgICAkKCcud3JhcHBlcmluIC5wYWdlMSAuc2NlbmVzX2FsbCAuc2NlbmVzJykuc3RvcCgpLmZhZGVPdXQoKS5lcSh3ZWJEYXRhLnBhZ2Uxc2NlbmVzIC0gMSkuc3RvcCgpLmZhZGVJbigzMDAsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnLndyYXBwZXJpbiAucGFnZTEgLnNjZW5lc19hbGwgLnNjZW5lcycpLmVxKHdlYkRhdGEucGFnZTFzY2VuZXMtMSkuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgICAgICBpZih3ZWJEYXRhLnBhZ2Uxc2NlbmVzPT0yKXtcclxuICAgICAgICAgICAgd2ViRGF0YS5ub3dzY29yZSA9IDA7XHJcbiAgICAgICAgICAgIHdlYkRhdGEubm93c2NvcmVwZXJjZW50ID0gMDtcclxuICAgICAgICAgICAgd2ViRGF0YS5wcmVzY29yZSA9IDA7XHJcbiAgICAgICAgICAgIHdlYkRhdGEuZHJhZ3Njb3JlID0gMDtcclxuICAgICAgICAgICAgd2ViRGF0YS50cmVlQmlnRnJhbWUgPSAwOyAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih3ZWJEYXRhLnBhZ2Uxc2NlbmVzPT0zKXtcclxuICAgICAgICAgICAgd2ViRGF0YS50cmVlU21hbGxGcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIHBhZ2Uxc2VjZW5lczNhbmkodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcGFnZTFzZWNlbmVzM2FuaShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYWdlMXNlY2VuZXMzYW5pKF90KXtcclxuICAgICAgICB2YXIgX3NjZW5lczMgPSAkKCcud3JhcHBlcmluIC5wYWdlMSAuc2NlbmVzX2FsbCAuc2NlbmVzMycpOyAgICAgICAgXHJcbiAgICAgICAgaWYoX3Qpe1xyXG4gICAgICAgICAgICB3ZWJEYXRhLnBhZ2UxaGFzcGxheSA9IHRydWU7XHJcbiAgICAgICAgICAgIF9zY2VuZXMzLmZpbmQoJy5zY29yZScpLmh0bWwoMCk7XHJcbiAgICAgICAgICAgIGlmKHdlYkRhdGEubm93c2NvcmVwZXJjZW50PD00MCkgX3NjZW5lczMuZmluZCgnLnMnKS5oaWRlKCkuZXEoMCkuc2hvdygpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHdlYkRhdGEubm93c2NvcmVwZXJjZW50PjQwICYmIHdlYkRhdGEubm93c2NvcmVwZXJjZW50PD04MCkgX3NjZW5lczMuZmluZCgnLnMnKS5oaWRlKCkuZXEoMSkuc2hvdygpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHdlYkRhdGEubm93c2NvcmVwZXJjZW50PjgwKSBfc2NlbmVzMy5maW5kKCcucycpLmhpZGUoKS5lcSgyKS5zaG93KCk7XHJcbiAgICAgICAgICAgIF9zY2VuZXMzLmZpbmQoJy5jb250ZW50JykuaGlkZSgpO1xyXG4gICAgICAgICAgICBpZih3ZWJEYXRhLnBnMVMzdGltZW91dCkgY2xlYXJUaW1lb3V0KHdlYkRhdGEucGcxUzN0aW1lb3V0KTtcclxuICAgICAgICAgICAgd2ViRGF0YS5wZzFTM3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgX3NjZW5lczMuZmluZCgnLmNvbnRlbnQnKS5mYWRlSW4oMzAwLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTFzZWNlbmVzM1Njb3JlYW5pKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwxMzAwKTsgICAgICAgICAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgX3NjZW5lczMuZmluZCgnLmNvbnRlbnQnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYWdlMXNlY2VuZXMzU2NvcmVhbmkoKXtcclxuICAgICAgICB2YXIgX3Njb3JlID0gJCgnLndyYXBwZXJpbiAucGFnZTEgLnNjZW5lc19hbGwgLnNjZW5lczMgLnNjb3JlJyk7XHJcbiAgICAgICAgdmFyIF9ub3dudW1iZXIgPSBfc2NvcmUudGV4dCgpO1xyXG4gICAgICAgIGlmKF9ub3dudW1iZXIgPCB3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudCl7XHJcbiAgICAgICAgICAgIF9ub3dudW1iZXI9X25vd251bWJlcioxICsgMTtcclxuICAgICAgICAgICAgd2ViRGF0YS50cmVlU21hbGxGcmFtZSA9IF9ub3dudW1iZXI7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucGcxUzN0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe3BhZ2Uxc2VjZW5lczNTY29yZWFuaSgpO30sMzMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfc2NvcmUuaHRtbChfbm93bnVtYmVyKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhZ2UoKXsgICAgXHRcclxuICAgICAgICAkKCcuc2NlbmVzX2FsbCAuc2NlbmVzJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgJCgnLmZvcmxvYWQnKS5yZW1vdmVDbGFzcygnb24nKS5zdG9wKCkuZmFkZU91dCgpO1xyXG4gICAgICAgICQoJy5wYWdlJyArIHdlYkRhdGEubm93cGFnZSkuc3RvcCgpLmZhZGVJbigzMDAsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnLnBhZ2UnICsgd2ViRGF0YS5ub3dwYWdlKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZih3ZWJEYXRhLm5vd3BhZ2U9PTEpIGNoYW5nZXBhZ2UxU2NlbmVzKCk7XHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dwYWdlPT0yKXtcclxuICAgICAgICAgICAgJCgnLnBhZ2UyJykuZmluZCgnLmNvbnRlbnQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGlmKHdlYkRhdGEucGczdGltZW91dCkgY2xlYXJUaW1lb3V0KHdlYkRhdGEucGczdGltZW91dCk7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucGczdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQoJy5wYWdlMicpLmZpbmQoJy5jb250ZW50JykuZmFkZUluKDMwMCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHdlYkRhdGEucHJpdmFjeSkgJCgnLnBhZ2UyIC5jb250ZW50JykubUN1c3RvbVNjcm9sbGJhcignc2Nyb2xsVG8nLCQoJy5wYWdlMiAuY29udGVudCAudF9iaWcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKCcucGFnZTIgLmNvbnRlbnQnKS5tQ3VzdG9tU2Nyb2xsYmFyKCdzY3JvbGxUbycsMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwxMzAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dwYWdlPT00KXtcclxuICAgICAgICAgICAgICQoJy5wYWdlNCcpLmZpbmQoJy5jb250ZW50JykuaGlkZSgpO1xyXG4gICAgICAgICAgICBpZih3ZWJEYXRhLnBnM3RpbWVvdXQpIGNsZWFyVGltZW91dCh3ZWJEYXRhLnBnM3RpbWVvdXQpO1xyXG4gICAgICAgICAgICB3ZWJEYXRhLnBnM3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKCcucGFnZTQnKS5maW5kKCcuY29udGVudCcpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5wbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0sMTMwMCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRyeXt3ZWJEYXRhLnBsYXllci5wYXVzZVZpZGVvKCk7fVxyXG4gICAgICAgICAgICBjYXRjaChlcnIpe31cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dwYWdlPT0zKXtcclxuICAgICAgICAgICAgJCgnLmZvb3RlciAuZ29idG4nKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZXBhZ2UzU2NlbmVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgJCgnLmZvb3RlciAuZ29idG4nKS5mYWRlSW4oKTtcclxuICAgIFx0d2ViRGF0YS53cnAuYXR0cignY2xhc3MnLCd3cmFwcGVyJykuYWRkQ2xhc3MoJ3BhZ2UnICsgd2ViRGF0YS5ub3dwYWdlKTtcclxuICAgIFx0d2ViRGF0YS5wcmVwYWdlID0gd2ViRGF0YS5ub3dwYWdlOyAgICBcdFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5pdE1hcCgpe1xyXG4gICAgICAgIC8vSW5zZXJ0IENpdHkgRGF0YVxyXG4gICAgICAgIHdlYkRhdGEubm93Q2l0eSA9IDA7ICAgICAgICBcclxuICAgICAgICAkKCcubWFwZGF0YSAuY2l0eScpLmh0bWwoJycpO1xyXG4gICAgICAgIGZvcihpIGluIHdlYkRhdGEuc2hvcGRhdGEpICQoJy5tYXBkYXRhIC5jaXR5JykuYXBwZW5kKCc8b3B0aW9uPicrIHdlYkRhdGEuc2hvcGRhdGFbaV0uY2l0eSArJzwvb3B0aW9uPicpO1xyXG4gICAgICAgICQoJy5tYXBkYXRhIC5jaXR5JykuY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHdlYkRhdGEubm93Q2l0eSA9ICQoJy5tYXBkYXRhIC5jaXR5IG9wdGlvbjpzZWxlY3RlZCcpLmluZGV4KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZUNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubWFwZGF0YSAuYXJlYScpLmNoYW5nZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB3ZWJEYXRhLm5vd0FyZWEgPSAkKCcubWFwZGF0YSAuYXJlYSBvcHRpb246c2VsZWN0ZWQnKS5pbmRleCgpO1xyXG4gICAgICAgICAgICBjaGFuZ2VBcmVhKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vU3RhcnRcclxuICAgICAgICB3ZWJEYXRhLkhhc0NvbXBsZXQgKz0gMTtcclxuICAgICAgICBjaGVja0xvYWRpbmcoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZUNpdHkoKXtcclxuICAgICAgICB3ZWJEYXRhLm5vd0FyZWEgPSAwO1xyXG4gICAgICAgICQoJy5tYXBkYXRhIC5hcmVhJykuaHRtbCgnJyk7XHJcbiAgICAgICAgZm9yKGkgaW4gd2ViRGF0YS5zaG9wZGF0YVt3ZWJEYXRhLm5vd0NpdHldLlNUT1JFUykgJCgnLm1hcGRhdGEgLmFyZWEnKS5hcHBlbmQoJzxvcHRpb24+Jysgd2ViRGF0YS5zaG9wZGF0YVt3ZWJEYXRhLm5vd0NpdHldLlNUT1JFU1tpXS5TVE9SRSArJzwvb3B0aW9uPicpO1xyXG4gICAgICAgIGNoYW5nZUFyZWEoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZUFyZWEoKXtcclxuICAgICAgICAkKCcuc2hvcF9hZGRyJykuaHRtbCh3ZWJEYXRhLnNob3BkYXRhW3dlYkRhdGEubm93Q2l0eV0uU1RPUkVTW3dlYkRhdGEubm93QXJlYV0uQUREUkVTUyk7XHJcbiAgICAgICAgdmFyIF9zaG9wID0gd2ViRGF0YS5zaG9wZGF0YVt3ZWJEYXRhLm5vd0NpdHldLlNUT1JFU1t3ZWJEYXRhLm5vd0FyZWFdO1xyXG4gICAgICAgIHdlYkRhdGEubWFwT3B0aW9ucyA9IHt6b29tOiAxOCxjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoX3Nob3AuTEFULCBfc2hvcC5MTkcpfVxyXG4gICAgICAgIHdlYkRhdGEubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwQ2FudmFzJyksd2ViRGF0YS5tYXBPcHRpb25zKTsgXHJcbiAgICAgICAgdmFyIGJlYWNoTWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7cG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoX3Nob3AuTEFULCBfc2hvcC5MTkcpLG1hcDogd2ViRGF0YS5tYXAsaWNvbjogd2ViRGF0YS5tYXBpbWFnZX0pO1xyXG4gICAgICAgIHdlYkRhdGEubWFwLnNldENlbnRlcihuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKF9zaG9wLkxBVCwgX3Nob3AuTE5HKSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVWaWRlbyhfaWQpe1xyXG4gICAgICAgIHdlYkRhdGEucGxheWVyID0gbmV3IFlULlBsYXllcigncGxheWVyJywge1xyXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgdmlkZW9JZDogX2lkLFxyXG4gICAgICAgICAgcGxheWVyVmFyczp7XHJcbiAgICAgICAgICAgICdjb250cm9scyc6MSxcclxuICAgICAgICAgICAgJ2F1dG9wbGF5JzpmYWxzZSxcclxuICAgICAgICAgICAgJ2VuYWJsZWpzYXBpJzonMCcsXHJcbiAgICAgICAgICAgICdoZCc6JzEnLFxyXG4gICAgICAgICAgICAncmVsJzonMCcsXHJcbiAgICAgICAgICAgICdzaG93aW5mbyc6JzAnLFxyXG4gICAgICAgICAgICAnbW9kZXN0YnJhbmRpbmcnOicxJyxcclxuICAgICAgICAgICAgJ2NjX2xvYWRfcG9saWN5JzonMScsXHJcbiAgICAgICAgICAgICd3bW9kZSc6J3RyYW5zcGFyZW50JyAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAgICAgXHJcbiAgICB9ICAgIFxyXG4gICAgZnVuY3Rpb24gY2hlY2tMb2FkaW5nKCl7XHJcbiAgICAgICAgaWYod2ViRGF0YS5IYXNDb21wbGV0ID49IDIpIHNob3dMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBlbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjaGVja0xvYWRpbmcoKTt9LDMwMCk7ICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFkZHJDaGFuZ2UoKXtcclxuICAgIFx0dmFyIHZhbHVlID0gJC5hZGRyZXNzLnZhbHVlKCk7XHJcblx0XHRzd2l0Y2godmFsdWUpIHtcclxuXHRcdFx0Y2FzZSAnLyc6XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImluZGV4Lmh0bWwjL3BhZ2UxXCI7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICcvcGFnZTEnOlxyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCfniZnpvabmgKXoqLrlrqQnKTtcclxuXHRcdFx0XHR3ZWJEYXRhLm5vd3BhZ2UgPSAxO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5wYWdlMXNjZW5lcyA9IDE7XHJcblx0XHRcdGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcvcGFnZTE/c2NlbmVzPTInOlxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+eJmem9pue3iuaApeaqouafpScpO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5ub3dwYWdlID0gMTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEucGFnZTFzY2VuZXMgPSAyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnL3BhZ2UxP3NjZW5lcz0zJzpcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfoqLrmlrfntZDmnpwnKTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEubm93cGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnBhZ2Uxc2NlbmVzID0gMztcclxuICAgICAgICAgICAgYnJlYWs7XHJcblx0XHRcdGNhc2UgJy9wYWdlMic6XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ+eJmem9puaxguiouumgiOefpScpO1xyXG5cdFx0XHRcdHdlYkRhdGEubm93cGFnZSA9IDI7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnByaXZhY3kgPSBmYWxzZTtcclxuXHRcdFx0YnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJy9wYWdlMj9zY2VuZXM9Mic6XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5YCL5Lq66LOH5paZ5ZCM5oSP5pu4Jyk7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLm5vd3BhZ2UgPSAyO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5wcml2YWN5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgXHJcblx0XHRcdGNhc2UgJy9wYWdlMyc6XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ+eri+WNs+e0ouWPlicpO1xyXG5cdFx0XHRcdHdlYkRhdGEubm93cGFnZSA9IDM7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnBhZ2Uzc2NlbmVzID0gMTtcclxuXHRcdFx0YnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJy9wYWdlMz9hbmR5JzpcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfntKLlj5bntZDmnpwnKTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEubm93cGFnZSA9IDM7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnBhZ2Uzc2NlbmVzID0gMjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJy9wYWdlNCc6XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5pWR5pWR54mZ6b2mVFZDJyk7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLm5vd3BhZ2UgPSA0O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnL3BhZ2U1JzpcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfniZnpvablgaXlurfoh6rmlZHms5UnKTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEubm93cGFnZSA9IDU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImluZGV4Lmh0bWwjL3BhZ2UxXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0Y2hhbmdlUGFnZSgpO1xyXG4gICAgfVxyXG4gIFx0ZnVuY3Rpb24gc2hvd0xvYWRpbmcoX3Qpe1xyXG4gIFx0XHRpZihfdCkgJCgnLmxvYWRpbmcnKS5mYWRlSW4oKTtcclxuICBcdFx0ZWxzZSAkKCcubG9hZGluZycpLmZhZGVPdXQoKTtcclxuICBcdH1cclxufSkvL3JlYWR5IGVuZCAgXHJcbmZ1bmN0aW9uIGdldFVybFZhcnMoKXtcclxuICAgIHZhciB2YXJzPVtdLGhhc2g7dmFyIGhhc2hlcz13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykrMSkuc3BsaXQoJyYnKTtcclxuICAgIGZvcih2YXIgaT0wO2k8aGFzaGVzLmxlbmd0aDtpKyspe2hhc2g9aGFzaGVzW2ldLnNwbGl0KCc9Jyk7dmFycy5wdXNoKGhhc2hbMF0pO3ZhcnNbaGFzaFswXV09aGFzaFsxXX1cclxuICAgIHJldHVybiB2YXJzXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
