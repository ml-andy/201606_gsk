function getUrlVars(){for(var e,a=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),t=0;t<n.length;t++)e=n[t].split("="),a.push(e[0]),a[e[0]]=e[1];return a}$(document).ready(function(){function e(){var e=Math.round(1e3*Math.random())+1;$(".user_code").parent().prepend('<img src="'+q.backendurl+"api_vcode.ashx?"+e+'" class="code">'),_(q.tvcID);for(var a=0;a<$(".forload").length;a++)$(".forload").eq(a).css({opacity:"1",display:"none"}).addClass("loadend");v(),$.ajax({url:q.backendurl+"api_store.ashx",type:"POST",dataType:"json",success:function(e){q.shopdata=e.DATA,"OK"==e.RS?S():console.log(e.RS)},error:function(e,a,n){T(!1),console.log("error:",e,a,n)}})}function a(){device.mobile()||FB.ui({method:"feed",name:q.sharetitle,caption:"",description:q.sharedes,display:"popup",link:q.mainurl},function(e){e&&!e.error_code}),$.ajax({url:q.backendurl+"api_share.ashx",type:"POST",dataType:"json",data:{device:q.device},success:function(e){console.log(e),"OK"==e.RS||console.log(e.RS),device.mobile()&&n()},error:function(e,a,t){device.mobile()&&n(),console.log("error:",e,a,t)}})}function n(){window.location.href="https://m.facebook.com/dialog/feed?app_id="+O+"&caption=&name="+q.sharetitle+"&description="+q.sharedes+"&link="+q.mainurl+"&redirect_uri="+q.mainurl}function t(){q.treecanvas=document.getElementById("tree"),images=images||{},ss=ss||{};var e=new createjs.LoadQueue(!1);e.addEventListener("fileload",o),e.addEventListener("complete",s),e.loadFile({src:"images/treeAni_atlas_.txt",type:"spritesheet",id:"treeAni_atlas_"},!0),e.loadManifest(lib.properties.manifest)}function o(e){"image"==e.item.type&&(images[e.item.id]=e.result)}function s(e){var a=e.target;ss.treeAni_atlas_=a.getResult("treeAni_atlas_"),exportRoot=new lib.treeAni,q.stage=new createjs.Stage(q.treecanvas),q.stage.addChild(exportRoot),q.stage.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",r),q.treesmall=document.getElementById("treeSmall"),q.treesmallStage=new createjs.Stage(q.treesmall),q.treesmallStagemovie=q.treesmallStage.addChild(new lib.元件1_1),q.light=document.getElementById("light"),q.lightStage=new createjs.Stage(q.light),q.lightStagemovie=q.lightStage.addChild(new lib.元件1複製),q.lightStagemovie.setTransform(105,0),q.gobtn=document.getElementById("gobtn"),q.gobtnStage=new createjs.Stage(q.gobtn),q.gobtnStagemovie=q.gobtnStage.addChild(new lib.元件2_1),q.gobtnStagemovie.setTransform(0,0),q.HasComplet+=1,k()}function r(){q.stage.update(),q.treesmallStage&&q.treesmallStage.update(),q.lightStage&&q.lightStage.update(),q.gobtnStage&&q.gobtnStage.update(),q.nowscorepercent>q.treeBigFrame?q.treeBigFrame+=1:q.nowscorepercent<q.treeBigFrame&&(q.treeBigFrame-=1),exportRoot.instance_2.gotoAndStop(q.treeBigFrame),q.treesmallStagemovie.gotoAndStop(q.treeSmallFrame)}function c(){for(var e=[],a=0;a<$(".databox li").length;a++){var n="";if(1!=a)for(var t=0;t<$(".databox li").eq(a).find(".q1ans.on").length;t++){var o="";0!=t&&(o=","),n=n+o+$(".databox li").eq(a).find(".q1ans.on").eq(t).parent().text()}else n=q.dragscore<=5?Math.round(q.dragscore/5*7):7+Math.round((q.dragscore-5)/15*7);e.push(n)}for(var s=!0,a=0;a<e.length;a++)if(1!=a&&""==e[a]){var r=1*a+1;s=!1,alert("別忘記填寫第"+r+"題唷!");break}s&&($.ajax({url:q.backendurl+"api_game.ashx",type:"POST",dataType:"json",data:{Q1:e[0],Q2:e[1],Q3:e[2],Q4:e[3],Q5:e[4],device:q.device},success:function(e){"OK"==e.RS||console.log(e.RS)},error:function(e,a,n){console.log("error:",e,a,n)}}),$.address.value("/page1?scenes=3"),$(".q1ans").removeClass("on"),$(".databox .bar .light").attr("style",""),$(".databox .bar .cover").attr("style",""),$(".databoxin").mCustomScrollbar("scrollTo",0))}function l(){var e=$(".user_data");e.find(".user_phone").val(""),e.find(".user_mail").val(""),e.find(".user_name").val(""),e.find(".user_code").val("")}function d(){$(".p3s1gobtn").addClass("on");var e=$(".user_data");return q.senddata={mob:e.find(".user_phone").val(),email:e.find(".user_mail").val(),name:e.find(".user_name").val(),storeid:q.shopdata[q.nowCity].STORES[q.nowArea].ID,ccc:e.find(".user_code").val(),device:q.device},q.senddata.mob&&q.senddata.email&&q.senddata.name&&q.senddata.ccc&&$(".agreebox .checkbox").hasClass("on")?(T(!0),void $.ajax({url:q.backendurl+"api_save.ashx",type:"POST",dataType:"json",data:q.senddata,success:function(e){if(l(),"OK"==e.RS)q.page3scenes=2,h();else{alert(e.RS);var a=Math.round(1e3*Math.random())+1;$(".user_code").parent().find(".code").attr("src",q.backendurl+"api_vcode.ashx?"+a)}T(!1),$(".p3s1gobtn").removeClass("on")},error:function(e,a,n){$(".p3s1gobtn").removeClass("on"),T(!1),console.log("error:",e,a,n)}})):($(".agreebox .checkbox").hasClass("on")?alert(q.creatUsererrortxt):alert("請同意個資條款"),void $(".p3s1gobtn").removeClass("on"))}function p(){function e(a){device.mobile()&&(a=a.originalEvent.touches[0]);var n=Math.floor(a.pageX-o.offset().left-s.width()/2);return i=$(".databox .bar").width()-10,c=i/2,n>i?void o.unbind("mousemove",e):0>n?void o.unbind("mousemove",e):(s.css("left",n),r.css("width",n),r.width()<=c?q.dragscore=Math.round(r.width()/c*5):q.dragscore=5+Math.round((r.width()-c)/c*15),void g())}var a,n,t,o=$(this),s=$(this).find(".light"),r=$(this).find(".cover"),i=o.width()-10,c=i/2;device.mobile()?(a="touchstart",n="touchmove",t="touchend"):(a="mousedown",n="mousemove",t="mouseup"),s.bind(a,function(a){a.preventDefault(),$(".forq2check").hasClass("on")||o.bind(n,e)}),s.bind(t,function(a){a.preventDefault(),o.unbind(n,e)}),s.bind("mouseout",function(a){a.preventDefault(),o.unbind(n,e)})}function g(){q.nowscore=0;for(var e=0;e<$(".q1ans").length;e++)$(".q1ans").eq(e).hasClass("on")&&(q.nowscore=q.nowscore+1*$(".q1ans").eq(e).attr("data-score"));q.nowscore=q.nowscore+q.dragscore,q.nowscorepercent=Math.round(q.nowscore/85*100)-1,q.prescore=q.nowscore}function m(e){e.parent().parent().hasClass("multi")?e.hasClass("on")?e.removeClass("on"):(e.hasClass("forq3check")?e.parent().parent().find(".q1ans").removeClass("on"):$(".forq3check").removeClass("on"),e.addClass("on")):(e.parent().parent().find(".q1ans").removeClass("on"),e.addClass("on")),$(".forq2check").hasClass("on")&&($(".databox .bar .light").attr("style",""),$(".databox .bar .cover").attr("style",""),q.dragscore=0),g()}function u(e){e?$(".menuDom").addClass("on"):$(".menuDom").removeClass("on")}function h(){var e="";1!=q.page3scenes?e=" scenes"+q.page3scenes:setTimeout(function(){y()},1500),$(".wrapperin .page3 .scenes_all").attr("class","scenes_all"+e),$(".wrapperin .page3 .scenes_all .scenes").stop().fadeOut().eq(q.page3scenes-1).stop().fadeIn(300,function(){$(".wrapperin .page3 .scenes_all .scenes").eq(q.page3scenes-1).addClass("on")}),$(".wrapperin .page3 .scenes_all .scenes .content").hide(),q.page1hasplay?$(".wrapperin .page3 .scenes_all .scenes2 .btn1 a").hide().eq(1).show():$(".wrapperin .page3 .scenes_all .scenes2 .btn1 a").hide().eq(0).show(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".wrapperin .page3 .scenes_all .scenes").eq(q.page3scenes-1).find(".content").fadeIn()},1300)}function f(){var e="";if(1!=q.page1scenes)e=" scenes"+q.page1scenes;else try{q.lightStagemovie.gotoAndPlay(0)}catch(a){}$(".wrapperin .page1 .scenes_all").attr("class","scenes_all"+e),$(".wrapperin .page1 .scenes_all .scenes").stop().fadeOut().eq(q.page1scenes-1).stop().fadeIn(300,function(){$(".wrapperin .page1 .scenes_all .scenes").eq(q.page1scenes-1).addClass("on")}),2==q.page1scenes&&(q.nowscore=0,q.nowscorepercent=0,q.prescore=0,q.dragscore=0,q.treeBigFrame=0),3==q.page1scenes?(q.treeSmallFrame=0,w(!0)):w(!1)}function w(e){var a=$(".wrapperin .page1 .scenes_all .scenes3");e?(q.page1hasplay=!0,a.find(".score").html(0),q.nowscorepercent<=40?a.find(".s").hide().eq(0).show():q.nowscorepercent>40&&q.nowscorepercent<=80?a.find(".s").hide().eq(1).show():q.nowscorepercent>80&&a.find(".s").hide().eq(2).show(),a.find(".content").hide(),q.pg1S3timeout&&clearTimeout(q.pg1S3timeout),q.pg1S3timeout=setTimeout(function(){a.find(".content").fadeIn(300,function(){b()})},1300)):a.find(".content").fadeOut()}function b(){var e=$(".wrapperin .page1 .scenes_all .scenes3 .score"),a=e.text();a<q.nowscorepercent&&(a=1*a+1,q.treeSmallFrame=a,q.pg1S3timeout=setTimeout(function(){b()},33)),e.html(a)}function v(){$(".scenes_all .scenes").removeClass("on"),$(".forload").removeClass("on").stop().fadeOut(),$(".page"+q.nowpage).stop().fadeIn(300,function(){$(".page"+q.nowpage).addClass("on")});try{q.lightStagemovie.gotoAndStop(1)}catch(e){}if(1==q.nowpage&&f(),2==q.nowpage&&($(".page2").find(".content").hide(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".page2").find(".content").fadeIn(300,function(){q.privacy?$(window).width()<=640?$("body,html").animate({scrollTop:$(".page2 .content .t_big").offset().top-90},500):$(".page2 .content").mCustomScrollbar("scrollTo",$(".page2 .content .t_big")):$(".page2 .content").mCustomScrollbar("scrollTo",0)})},1300)),4==q.nowpage)$(".page4").find(".content").hide(),q.pg3timeout&&clearTimeout(q.pg3timeout),q.pg3timeout=setTimeout(function(){$(".page4").find(".content").fadeIn(),device.mobile()||q.player.playVideo()},1300);else try{device.mobile()||q.player.pauseVideo()}catch(e){}5==q.nowpage&&$(".page5").find(".content").show(),3==q.nowpage?($(".footer .gobtn").fadeOut(),h()):$(".footer .gobtn").fadeIn(),q.wrp.attr("class","wrapper").addClass("page"+q.nowpage),q.prepage=q.nowpage}function S(){q.nowCity=0,$(".mapdata .city").html("");for(i in q.shopdata)$(".mapdata .city").append("<option>"+q.shopdata[i].city+"</option>");$(".mapdata .city").change(function(){q.nowCity=$(".mapdata .city option:selected").index(),y()}),$(".mapdata .area").change(function(){q.nowArea=$(".mapdata .area option:selected").index(),C()}),q.HasComplet+=1,k()}function y(){q.nowArea=0,$(".mapdata .area").html("");for(i in q.shopdata[q.nowCity].STORES)$(".mapdata .area").append("<option>"+q.shopdata[q.nowCity].STORES[i].STORE+"</option>");C()}function C(){$(".shop_addr").html(q.shopdata[q.nowCity].STORES[q.nowArea].ADDRESS),$(".lastnumber").find("span").html(q.shopdata[q.nowCity].STORES[q.nowArea].QTY);var e=q.shopdata[q.nowCity].STORES[q.nowArea];q.mapOptions={zoom:18,center:new google.maps.LatLng(e.LAT,e.LNG)},q.map=new google.maps.Map(document.getElementById("mapCanvas"),q.mapOptions);new google.maps.Marker({position:new google.maps.LatLng(e.LAT,e.LNG),map:q.map,icon:q.mapimage});q.map.setCenter(new google.maps.LatLng(e.LAT,e.LNG))}function _(e){q.player=new YT.Player("player",{height:"100%",width:"100%",videoId:e,playerVars:{controls:1,autoplay:!1,enablejsapi:"0",hd:"1",rel:"0",showinfo:"0",modestbranding:"1",cc_load_policy:"1",wmode:"transparent"}})}function k(){q.HasComplet>=2?T(!1):setTimeout(function(){k()},300)}function x(){var e=$.address.value();switch(e){case"/":window.location.href="index.html#/page1";break;case"/page1":q.nowpage=1,q.page1scenes=1;break;case"/page1?scenes=2":q.nowpage=1,q.page1scenes=2;break;case"/page1?scenes=3":q.nowpage=1,q.page1scenes=3;break;case"/page2":q.nowpage=2,q.privacy=!1;break;case"/page2?scenes=2":q.nowpage=2,q.privacy=!0;break;case"/page3":q.nowpage=3,q.page3scenes=1;break;case"/page3?andy":q.nowpage=3,q.page3scenes=2;break;case"/page4":q.nowpage=4;break;case"/page5":q.nowpage=5;break;default:window.location.href="index.html#/page1"}q.HasComplet>=2&&v()}function T(e){e?$(".loading").fadeIn():$(".loading").fadeOut()}var q={};q.wrp=$(".wrapper"),q.tvcID="YWQFfYIWUJE",q.mainurl="http://2016parodontax.everydayhealth.com.tw/20160617/",q.backendurl="http://2016parodontax.everydayhealth.com.tw/xml/",q.mapimage="http://ml-andy.github.io/chinesechess/website/images/mapicon.png",q.creatUsererrortxt="請填寫完整資料",q.pagespeed=500,q.page1scenes=1,q.page3scenes=1,q.HasComplet=0,device.mobile()?q.device="mobile":q.device="pc",$(".databoxin").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),$(".page3 .scenes1 .content").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),$(".page2 .content").mCustomScrollbar({scrollInertia:300,scrollEasing:"linear"}),q.nowscore=0,q.nowscorepercent=0,q.prescore=0,q.dragscore=0,q.page1hasplay=!1,q.treeBigFrame=0,q.treeSmallFrame=0,t(),q.sharetitle="【搶救】我的牙齦急診室！",q.sharedes="刷牙流血問題，隱藏健康大警訊。立即線上檢視，馬上索取【牙周適-牙齦護理牙膏】搶救牙齦！";var O="1706959846220744";FB.init({appId:O,channelUrl:q.mainurl,status:!0,xfbml:!0,cookie:!0}),$(".menuaFbshare").click(function(){a()}),$(".fbshare_btn").click(function(){a()}),$(".fb_share_btn").click(function(){a()}),$(".agreebox .checkbox").click(function(){$(this).hasClass("on")?$(this).removeClass("on"):$(this).addClass("on")}),$(".p3s1gobtn").click(function(){$(this).hasClass("on")||d()}),$(".sure_btn").click(function(){c()}),$(".databox .bar").each(p),$(".q1ans").click(function(){m($(this))}),$(".start_btn").click(function(){$.address.value("/page1?scenes=2")}),$(".gobtn").click(function(){$(".menubtn").hasClass("on")&&$(".menubtn").trigger("click")}),$(".menua").click(function(){$(".menubtn").trigger("click")}),$(".menubtn").click(function(){$(this).hasClass("on")?($(this).removeClass("on"),u(!1)):($(this).addClass("on"),u(!0))}),$.address.change(x),$(window).load(e)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJnZXRVcmxWYXJzIiwiaGFzaCIsInZhcnMiLCJoYXNoZXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzbGljZSIsImluZGV4T2YiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ3aW5kb3dMb2FkIiwiX3JhbmRvbSIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInBhcmVudCIsInByZXBlbmQiLCJ3ZWJEYXRhIiwiYmFja2VuZHVybCIsImNyZWF0ZVZpZGVvIiwidHZjSUQiLCJlcSIsImNzcyIsIm9wYWNpdHkiLCJkaXNwbGF5IiwiYWRkQ2xhc3MiLCJjaGFuZ2VQYWdlIiwiYWpheCIsInVybCIsInR5cGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJkYXRhIiwic2hvcGRhdGEiLCJEQVRBIiwiUlMiLCJpbml0TWFwIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwieGhyIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwic2hvd0xvYWRpbmciLCJzaGFyZWZiIiwiZGV2aWNlIiwibW9iaWxlIiwiRkIiLCJ1aSIsIm1ldGhvZCIsIm5hbWUiLCJzaGFyZXRpdGxlIiwiY2FwdGlvbiIsImRlc2NyaXB0aW9uIiwic2hhcmVkZXMiLCJsaW5rIiwibWFpbnVybCIsInJlc3BvbnNlIiwiZXJyb3JfY29kZSIsInNoYXJlZmJfbW9iaWxlIiwiRkJBcHBJZCIsImNhbnZhc0lpbml0IiwidHJlZWNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiaW1hZ2VzIiwic3MiLCJsb2FkZXIiLCJjcmVhdGVqcyIsIkxvYWRRdWV1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVGaWxlTG9hZCIsImhhbmRsZUNvbXBsZXRlIiwibG9hZEZpbGUiLCJzcmMiLCJpZCIsImxvYWRNYW5pZmVzdCIsImxpYiIsInByb3BlcnRpZXMiLCJtYW5pZmVzdCIsImV2dCIsIml0ZW0iLCJyZXN1bHQiLCJxdWV1ZSIsInRhcmdldCIsImdldFJlc3VsdCIsImV4cG9ydFJvb3QiLCJ0cmVlQW5pIiwic3RhZ2UiLCJTdGFnZSIsImFkZENoaWxkIiwidXBkYXRlIiwiVGlja2VyIiwic2V0RlBTIiwiZnBzIiwiU3RhZ2VMaXN0ZW50ZXIiLCJ0cmVlc21hbGwiLCJ0cmVlc21hbGxTdGFnZSIsInRyZWVzbWFsbFN0YWdlbW92aWUiLCLlhYPku7YxXzEiLCJsaWdodCIsImxpZ2h0U3RhZ2UiLCJsaWdodFN0YWdlbW92aWUiLCLlhYPku7Yx6KSH6KO9Iiwic2V0VHJhbnNmb3JtIiwiZ29idG4iLCJnb2J0blN0YWdlIiwiZ29idG5TdGFnZW1vdmllIiwi5YWD5Lu2Ml8xIiwiSGFzQ29tcGxldCIsImNoZWNrTG9hZGluZyIsIm5vd3Njb3JlcGVyY2VudCIsInRyZWVCaWdGcmFtZSIsImluc3RhbmNlXzIiLCJnb3RvQW5kU3RvcCIsInRyZWVTbWFsbEZyYW1lIiwicDFzMnN1cmUiLCJfcWVzIiwiX3R4dCIsImoiLCJmaW5kIiwiX3RtcCIsInRleHQiLCJkcmFnc2NvcmUiLCJfeWVzIiwiX251bSIsImFsZXJ0IiwiUTEiLCJRMiIsIlEzIiwiUTQiLCJRNSIsImFkZHJlc3MiLCJ2YWx1ZSIsInJlbW92ZUNsYXNzIiwiYXR0ciIsIm1DdXN0b21TY3JvbGxiYXIiLCJyZXNldFVzZXJkYXRhIiwiX3VzZXJfZGF0YSIsInZhbCIsInNlbmREYXRhIiwic2VuZGRhdGEiLCJtb2IiLCJlbWFpbCIsInN0b3JlaWQiLCJub3dDaXR5IiwiU1RPUkVTIiwibm93QXJlYSIsIklEIiwiY2NjIiwiaGFzQ2xhc3MiLCJwYWdlM3NjZW5lcyIsImNoYW5nZXBhZ2UzU2NlbmVzIiwiY3JlYXRVc2VyZXJyb3J0eHQiLCJkYXRhYm94QmFyIiwiZHJhZ21vdmUiLCJlIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJsZnQiLCJmbG9vciIsInBhZ2VYIiwiYmFyIiwib2Zmc2V0IiwibGVmdCIsImRyYWciLCJ3aWR0aCIsIl93aWR0aCIsIl93aWR0aDUwIiwidW5iaW5kIiwiY292ZXIiLCJjb3VudFNjb3JlX3RydWUiLCJldmRvd24iLCJldm1vdmUiLCJldnVwIiwidGhpcyIsImJpbmQiLCJwcmV2ZW50RGVmYXVsdCIsIm5vd3Njb3JlIiwicHJlc2NvcmUiLCJjb3VudFNjb3JlIiwiX28iLCJzaG93bWVudSIsIl90Iiwic2V0VGltZW91dCIsImNoYW5nZUNpdHkiLCJzdG9wIiwiZmFkZU91dCIsImZhZGVJbiIsImhpZGUiLCJwYWdlMWhhc3BsYXkiLCJzaG93IiwicGczdGltZW91dCIsImNsZWFyVGltZW91dCIsImNoYW5nZXBhZ2UxU2NlbmVzIiwicGFnZTFzY2VuZXMiLCJnb3RvQW5kUGxheSIsImVyciIsInBhZ2Uxc2VjZW5lczNhbmkiLCJfc2NlbmVzMyIsImh0bWwiLCJwZzFTM3RpbWVvdXQiLCJwYWdlMXNlY2VuZXMzU2NvcmVhbmkiLCJfc2NvcmUiLCJfbm93bnVtYmVyIiwibm93cGFnZSIsInByaXZhY3kiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwidG9wIiwicGxheWVyIiwicGxheVZpZGVvIiwicGF1c2VWaWRlbyIsIndycCIsInByZXBhZ2UiLCJhcHBlbmQiLCJjaXR5IiwiY2hhbmdlIiwiaW5kZXgiLCJjaGFuZ2VBcmVhIiwiU1RPUkUiLCJBRERSRVNTIiwiUVRZIiwiX3Nob3AiLCJtYXBPcHRpb25zIiwiem9vbSIsImNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJMQVQiLCJMTkciLCJtYXAiLCJNYXAiLCJNYXJrZXIiLCJwb3NpdGlvbiIsImljb24iLCJtYXBpbWFnZSIsInNldENlbnRlciIsIl9pZCIsIllUIiwiUGxheWVyIiwiaGVpZ2h0IiwidmlkZW9JZCIsInBsYXllclZhcnMiLCJjb250cm9scyIsImF1dG9wbGF5IiwiZW5hYmxlanNhcGkiLCJoZCIsInJlbCIsInNob3dpbmZvIiwibW9kZXN0YnJhbmRpbmciLCJjY19sb2FkX3BvbGljeSIsIndtb2RlIiwiYWRkckNoYW5nZSIsInBhZ2VzcGVlZCIsInNjcm9sbEluZXJ0aWEiLCJzY3JvbGxFYXNpbmciLCJpbml0IiwiYXBwSWQiLCJjaGFubmVsVXJsIiwic3RhdHVzIiwieGZibWwiLCJjb29raWUiLCJjbGljayIsImVhY2giLCJ0cmlnZ2VyIiwibG9hZCJdLCJtYXBwaW5ncyI6IkFBbW1CQSxRQUFTQSxjQUVMLElBQUksR0FEUUMsR0FBUkMsS0FBaUJDLEVBQU9DLE9BQU9DLFNBQVNDLEtBQUtDLE1BQU1ILE9BQU9DLFNBQVNDLEtBQUtFLFFBQVEsS0FBSyxHQUFHQyxNQUFNLEtBQzFGQyxFQUFFLEVBQUVBLEVBQUVQLEVBQU9RLE9BQU9ELElBQUtULEVBQUtFLEVBQU9PLEdBQUdELE1BQU0sS0FBS1AsRUFBS1UsS0FBS1gsRUFBSyxJQUFJQyxFQUFLRCxFQUFLLElBQUlBLEVBQUssRUFDakcsT0FBT0MsR0F0bUJYVyxFQUFFQyxVQUFVQyxNQUFNLFdBZ0VqQixRQUFTQyxLQUNGLEdBQUlDLEdBQVVDLEtBQUtDLE1BQW9CLElBQWRELEtBQUtFLFVBQWUsQ0FDN0NQLEdBQUUsY0FBY1EsU0FBU0MsUUFBUSxhQUFjQyxFQUFRQyxXQUFZLGtCQUFrQlAsRUFBUSxtQkFDN0ZRLEVBQVlGLEVBQVFHLE1BQ3BCLEtBQUksR0FBSWhCLEdBQUUsRUFBRUEsRUFBRUcsRUFBRSxZQUFZRixPQUFPRCxJQUFLRyxFQUFFLFlBQVljLEdBQUdqQixHQUFHa0IsS0FBS0MsUUFBVSxJQUFJQyxRQUFVLFNBQVNDLFNBQVMsVUFDM0dDLEtBQ0FuQixFQUFFb0IsTUFDRUMsSUFBS1gsRUFBUUMsV0FBYSxpQkFDMUJXLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxRQUFTLFNBQVNDLEdBQ2RmLEVBQVFnQixTQUFXRCxFQUFLRSxLQUNaLE1BQVRGLEVBQUtHLEdBQ0pDLElBQ0VDLFFBQVFDLElBQUlOLEVBQUtHLEtBQ3pCSSxNQUFPLFNBQVNDLEVBQUtDLEVBQVlDLEdBQy9CQyxHQUFZLEdBQ1pOLFFBQVFDLElBQUksU0FBVUUsRUFBS0MsRUFBWUMsTUFRbkQsUUFBU0UsS0FDREMsT0FBT0MsVUFDUEMsR0FBR0MsSUFDQ0MsT0FBUSxPQUNSQyxLQUFNakMsRUFBUWtDLFdBQ2RDLFFBQVMsR0FDVEMsWUFBYXBDLEVBQVFxQyxTQUNyQjlCLFFBQVEsUUFDUitCLEtBQU10QyxFQUFRdUMsU0FDYixTQUFTQyxHQUNOQSxJQUFhQSxFQUFTQyxhQU9sQ25ELEVBQUVvQixNQUNFQyxJQUFLWCxFQUFRQyxXQUFhLGlCQUMxQlcsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZFLE1BQ0lhLE9BQU81QixFQUFRNEIsUUFFbkJkLFFBQVMsU0FBU0MsR0FDZEssUUFBUUMsSUFBSU4sR0FDQSxNQUFUQSxFQUFLRyxJQUVGRSxRQUFRQyxJQUFJTixFQUFLRyxJQUNwQlUsT0FBT0MsVUFBVWEsS0FDdEJwQixNQUFPLFNBQVNDLEVBQUtDLEVBQVlDLEdBQzVCRyxPQUFPQyxVQUFVYSxJQUNwQnRCLFFBQVFDLElBQUksU0FBVUUsRUFBS0MsRUFBWUMsTUFJbkQsUUFBU2lCLEtBQ0w3RCxPQUFPQyxTQUFTQyxLQUFLLDZDQUE4QzRELEVBQVMsa0JBQWtCM0MsRUFBUWtDLFdBQVcsZ0JBQWdCbEMsRUFBUXFDLFNBQVMsU0FBVXJDLEVBQVF1QyxRQUFTLGlCQUFpQnZDLEVBQVF1QyxRQUUxTSxRQUFTSyxLQUNMNUMsRUFBUTZDLFdBQWF0RCxTQUFTdUQsZUFBZSxRQUM3Q0MsT0FBU0EsV0FDVEMsR0FBS0EsTUFDTCxJQUFJQyxHQUFTLEdBQUlDLFVBQVNDLFdBQVUsRUFDcENGLEdBQU9HLGlCQUFpQixXQUFZQyxHQUNwQ0osRUFBT0csaUJBQWlCLFdBQVlFLEdBQ3BDTCxFQUFPTSxVQUFVQyxJQUFJLDRCQUE2QjVDLEtBQUssY0FBZTZDLEdBQUcsbUJBQW1CLEdBQzVGUixFQUFPUyxhQUFhQyxJQUFJQyxXQUFXQyxVQUV2QyxRQUFTUixHQUFlUyxHQUNDLFNBQWpCQSxFQUFJQyxLQUFLbkQsT0FBbUJtQyxPQUFPZSxFQUFJQyxLQUFLTixJQUFNSyxFQUFJRSxRQUU5RCxRQUFTVixHQUFlUSxHQUNwQixHQUFJRyxHQUFRSCxFQUFJSSxNQUNoQmxCLElBQW1CLGVBQUlpQixFQUFNRSxVQUFVLGtCQUN2Q0MsV0FBYSxHQUFJVCxLQUFJVSxRQUVyQnJFLEVBQVFzRSxNQUFRLEdBQUlwQixVQUFTcUIsTUFBTXZFLEVBQVE2QyxZQUMzQzdDLEVBQVFzRSxNQUFNRSxTQUFTSixZQUN2QnBFLEVBQVFzRSxNQUFNRyxTQUVkdkIsU0FBU3dCLE9BQU9DLE9BQU9oQixJQUFJQyxXQUFXZ0IsS0FDdEMxQixTQUFTd0IsT0FBT3RCLGlCQUFpQixPQUFReUIsR0FHekM3RSxFQUFROEUsVUFBWXZGLFNBQVN1RCxlQUFlLGFBQzVDOUMsRUFBUStFLGVBQWlCLEdBQUk3QixVQUFTcUIsTUFBTXZFLEVBQVE4RSxXQUNwRDlFLEVBQVFnRixvQkFBc0JoRixFQUFRK0UsZUFBZVAsU0FBUyxHQUFJYixLQUFJc0IsT0FHdEVqRixFQUFRa0YsTUFBUTNGLFNBQVN1RCxlQUFlLFNBQ3hDOUMsRUFBUW1GLFdBQWEsR0FBSWpDLFVBQVNxQixNQUFNdkUsRUFBUWtGLE9BQ2hEbEYsRUFBUW9GLGdCQUFrQnBGLEVBQVFtRixXQUFXWCxTQUFTLEdBQUliLEtBQUkwQixPQUM5RHJGLEVBQVFvRixnQkFBZ0JFLGFBQWEsSUFBSSxHQUd6Q3RGLEVBQVF1RixNQUFRaEcsU0FBU3VELGVBQWUsU0FDeEM5QyxFQUFRd0YsV0FBYSxHQUFJdEMsVUFBU3FCLE1BQU12RSxFQUFRdUYsT0FDaER2RixFQUFReUYsZ0JBQWtCekYsRUFBUXdGLFdBQVdoQixTQUFTLEdBQUliLEtBQUkrQixPQUM5RDFGLEVBQVF5RixnQkFBZ0JILGFBQWEsRUFBRSxHQUV2Q3RGLEVBQVEyRixZQUFjLEVBQ3RCQyxJQUVKLFFBQVNmLEtBQ0w3RSxFQUFRc0UsTUFBTUcsU0FDWHpFLEVBQVErRSxnQkFBZ0IvRSxFQUFRK0UsZUFBZU4sU0FDL0N6RSxFQUFRbUYsWUFBWW5GLEVBQVFtRixXQUFXVixTQUN2Q3pFLEVBQVF3RixZQUFZeEYsRUFBUXdGLFdBQVdmLFNBRXZDekUsRUFBUTZGLGdCQUFrQjdGLEVBQVE4RixhQUFjOUYsRUFBUThGLGNBQWMsRUFDakU5RixFQUFRNkYsZ0JBQWtCN0YsRUFBUThGLGVBQWM5RixFQUFROEYsY0FBYyxHQUU5RTFCLFdBQVcyQixXQUFXQyxZQUFZaEcsRUFBUThGLGNBQzFDOUYsRUFBUWdGLG9CQUFvQmdCLFlBQVloRyxFQUFRaUcsZ0JBRXBELFFBQVNDLEtBR0wsSUFBSSxHQURBQyxNQUNJaEgsRUFBRSxFQUFHQSxFQUFFRyxFQUFFLGVBQWVGLE9BQVFELElBQUksQ0FDeEMsR0FBSWlILEdBQU0sRUFDVixJQUFNLEdBQUhqSCxFQUNDLElBQUksR0FBSWtILEdBQUUsRUFBR0EsRUFBRS9HLEVBQUUsZUFBZWMsR0FBR2pCLEdBQUdtSCxLQUFLLGFBQWFsSCxPQUFRaUgsSUFBSSxDQUNoRSxHQUFJRSxHQUFPLEVBQ0wsSUFBSEYsSUFBTUUsRUFBTyxLQUNoQkgsRUFBT0EsRUFBT0csRUFBT2pILEVBQUUsZUFBZWMsR0FBR2pCLEdBQUdtSCxLQUFLLGFBQWFsRyxHQUFHaUcsR0FBR3ZHLFNBQVMwRyxXQUd4REosR0FBdEJwRyxFQUFReUcsV0FBVyxFQUFVOUcsS0FBS0MsTUFBTUksRUFBUXlHLFVBQVksRUFBSSxHQUN2RCxFQUFJOUcsS0FBS0MsT0FBT0ksRUFBUXlHLFVBQVksR0FBSyxHQUFLLEVBRTlETixHQUFLOUcsS0FBSytHLEdBR2QsSUFBSSxHQURBTSxJQUFPLEVBQ0h2SCxFQUFFLEVBQUdBLEVBQUVnSCxFQUFLL0csT0FBUUQsSUFDeEIsR0FBTSxHQUFIQSxHQUNlLElBQVhnSCxFQUFLaEgsR0FBUyxDQUNiLEdBQUl3SCxHQUFTLEVBQUZ4SCxFQUFLLENBQ2hCdUgsSUFBTyxFQUNQRSxNQUFNLFNBQVdELEVBQU8sTUFDeEIsT0FJUkQsSUFDSnBILEVBQUVvQixNQUNFQyxJQUFLWCxFQUFRQyxXQUFhLGdCQUMxQlcsS0FBTSxPQUNOQyxTQUFVLE9BQ1ZFLE1BQ0k4RixHQUFHVixFQUFLLEdBQ1JXLEdBQUdYLEVBQUssR0FDUlksR0FBR1osRUFBSyxHQUNSYSxHQUFHYixFQUFLLEdBQ1JjLEdBQUdkLEVBQUssR0FDUnZFLE9BQU81QixFQUFRNEIsUUFFbkJkLFFBQVMsU0FBU0MsR0FDRixNQUFUQSxFQUFLRyxJQUVGRSxRQUFRQyxJQUFJTixFQUFLRyxLQUN6QkksTUFBTyxTQUFTQyxFQUFLQyxFQUFZQyxHQUMvQkwsUUFBUUMsSUFBSSxTQUFVRSxFQUFLQyxFQUFZQyxNQUcvQ25DLEVBQUU0SCxRQUFRQyxNQUFNLG1CQUNoQjdILEVBQUUsVUFBVThILFlBQVksTUFDeEI5SCxFQUFFLHdCQUF3QitILEtBQUssUUFBUSxJQUN2Qy9ILEVBQUUsd0JBQXdCK0gsS0FBSyxRQUFRLElBQ3ZDL0gsRUFBRSxjQUFjZ0ksaUJBQWlCLFdBQVcsSUFFaEQsUUFBU0MsS0FDTCxHQUFJQyxHQUFhbEksRUFBRSxhQUNuQmtJLEdBQVdsQixLQUFLLGVBQWVtQixJQUFJLElBQ25DRCxFQUFXbEIsS0FBSyxjQUFjbUIsSUFBSSxJQUNsQ0QsRUFBV2xCLEtBQUssY0FBY21CLElBQUksSUFDbENELEVBQVdsQixLQUFLLGNBQWNtQixJQUFJLElBRXRDLFFBQVNDLEtBQ0xwSSxFQUFFLGNBQWNrQixTQUFTLEtBQ3pCLElBQUlnSCxHQUFhbEksRUFBRSxhQVNuQixPQVJBVSxHQUFRMkgsVUFDSkMsSUFBSUosRUFBV2xCLEtBQUssZUFBZW1CLE1BQ25DSSxNQUFNTCxFQUFXbEIsS0FBSyxjQUFjbUIsTUFDcEN4RixLQUFLdUYsRUFBV2xCLEtBQUssY0FBY21CLE1BQ25DSyxRQUFROUgsRUFBUWdCLFNBQVNoQixFQUFRK0gsU0FBU0MsT0FBT2hJLEVBQVFpSSxTQUFTQyxHQUNsRUMsSUFBSVgsRUFBV2xCLEtBQUssY0FBY21CLE1BQ2xDN0YsT0FBTzVCLEVBQVE0QixRQUVmNUIsRUFBUTJILFNBQVNDLEtBQVE1SCxFQUFRMkgsU0FBU0UsT0FBVTdILEVBQVEySCxTQUFTMUYsTUFBU2pDLEVBQVEySCxTQUFTUSxLQUFRN0ksRUFBRSx1QkFBdUI4SSxTQUFTLE9BTTdJMUcsR0FBWSxPQUNacEMsR0FBRW9CLE1BQ0VDLElBQUtYLEVBQVFDLFdBQWEsZ0JBQzFCVyxLQUFNLE9BQ05DLFNBQVUsT0FDVkUsS0FBS2YsRUFBUTJILFNBQ2I3RyxRQUFTLFNBQVNDLEdBRWQsR0FEQXdHLElBQ1ksTUFBVHhHLEVBQUtHLEdBQ0psQixFQUFRcUksWUFBWSxFQUNwQkMsUUFDQyxDQUNEMUIsTUFBTTdGLEVBQUtHLEdBQ1gsSUFBSXhCLEdBQVVDLEtBQUtDLE1BQW9CLElBQWRELEtBQUtFLFVBQWUsQ0FDN0NQLEdBQUUsY0FBY1EsU0FBU3dHLEtBQUssU0FBU2UsS0FBSyxNQUFPckgsRUFBUUMsV0FBWSxrQkFBa0JQLEdBRTdGZ0MsR0FBWSxHQUNacEMsRUFBRSxjQUFjOEgsWUFBWSxPQUM5QjlGLE1BQU8sU0FBU0MsRUFBS0MsRUFBWUMsR0FDL0JuQyxFQUFFLGNBQWM4SCxZQUFZLE1BQzVCMUYsR0FBWSxHQUNaTixRQUFRQyxJQUFJLFNBQVVFLEVBQUtDLEVBQVlDLFFBMUJ2Q25DLEVBQUUsdUJBQXVCOEksU0FBUyxNQUNqQ3hCLE1BQU01RyxFQUFRdUksbUJBRDBCM0IsTUFBTSxlQUVuRHRILEdBQUUsY0FBYzhILFlBQVksT0E0QnBDLFFBQVNvQixLQWtDTCxRQUFTQyxHQUFTQyxHQUNYOUcsT0FBT0MsV0FBVTZHLEVBQUlBLEVBQUVDLGNBQWNDLFFBQVEsR0FDaEQsSUFBSUMsR0FBTWxKLEtBQUttSixNQUFNSixFQUFFSyxNQUFNQyxFQUFJQyxTQUFTQyxLQUFRQyxFQUFLQyxRQUFVLEVBR2pFLE9BRkFDLEdBQVMvSixFQUFFLGlCQUFpQjhKLFFBQVEsR0FDcENFLEVBQVdELEVBQVMsRUFDakJSLEVBQUlRLE1BQ0hMLEdBQUlPLE9BQU8sWUFBYWQsR0FHaEIsRUFBSkksTUFDSkcsR0FBSU8sT0FBTyxZQUFhZCxJQUc1QlUsRUFBSzlJLElBQUksT0FBT3dJLEdBQ2hCVyxFQUFNbkosSUFBSSxRQUFRd0ksR0FDZlcsRUFBTUosU0FBV0UsRUFBVXRKLEVBQVF5RyxVQUFZOUcsS0FBS0MsTUFBTTRKLEVBQU1KLFFBQVVFLEVBQVcsR0FDbkZ0SixFQUFReUcsVUFBWSxFQUFJOUcsS0FBS0MsT0FBTzRKLEVBQU1KLFFBQVFFLEdBQVlBLEVBQVcsUUFDOUVHLE1BbERKLEdBTUlDLEdBQ0FDLEVBQ0FDLEVBUkFaLEVBQU0xSixFQUFFdUssTUFDUlYsRUFBTzdKLEVBQUV1SyxNQUFNdkQsS0FBSyxVQUNwQmtELEVBQVFsSyxFQUFFdUssTUFBTXZELEtBQUssVUFDckIrQyxFQUFTTCxFQUFJSSxRQUFVLEdBQ3ZCRSxFQUFXRCxFQUFTLENBTXJCekgsUUFBT0MsVUFDTjZILEVBQU8sYUFDUEMsRUFBTyxZQUNQQyxFQUFLLGFBRUxGLEVBQU8sWUFDUEMsRUFBTyxZQUNQQyxFQUFLLFdBR1RULEVBQUtXLEtBQUtKLEVBQU8sU0FBU2hCLEdBQ3RCQSxFQUFFcUIsaUJBQ0V6SyxFQUFFLGVBQWU4SSxTQUFTLE9BQU9ZLEVBQUljLEtBQUtILEVBQVFsQixLQUUxRFUsRUFBS1csS0FBS0YsRUFBSyxTQUFTbEIsR0FDcEJBLEVBQUVxQixpQkFDRmYsRUFBSU8sT0FBT0ksRUFBUWxCLEtBRXZCVSxFQUFLVyxLQUFLLFdBQVcsU0FBU3BCLEdBQzFCQSxFQUFFcUIsaUJBQ0ZmLEVBQUlPLE9BQU9JLEVBQVFsQixLQXVCM0IsUUFBU2dCLEtBQ0x6SixFQUFRZ0ssU0FBVyxDQUVuQixLQUFJLEdBQUk3SyxHQUFFLEVBQUVBLEVBQUVHLEVBQUUsVUFBVUYsT0FBT0QsSUFDMUJHLEVBQUUsVUFBVWMsR0FBR2pCLEdBQUdpSixTQUFTLFFBQU9wSSxFQUFRZ0ssU0FBV2hLLEVBQVFnSyxTQUFnRCxFQUFyQzFLLEVBQUUsVUFBVWMsR0FBR2pCLEdBQUdrSSxLQUFLLGNBR3RHckgsR0FBUWdLLFNBQVdoSyxFQUFRZ0ssU0FBV2hLLEVBQVF5RyxVQUM5Q3pHLEVBQVE2RixnQkFBa0JsRyxLQUFLQyxNQUFNSSxFQUFRZ0ssU0FBVyxHQUFNLEtBQU8sRUFFckVoSyxFQUFRaUssU0FBV2pLLEVBQVFnSyxTQUUvQixRQUFTRSxHQUFXQyxHQUNiQSxFQUFHckssU0FBU0EsU0FBU3NJLFNBQVMsU0FFMUIrQixFQUFHL0IsU0FBUyxNQUFPK0IsRUFBRy9DLFlBQVksT0FFOUIrQyxFQUFHL0IsU0FBUyxjQUFlK0IsRUFBR3JLLFNBQVNBLFNBQVN3RyxLQUFLLFVBQVVjLFlBQVksTUFDekU5SCxFQUFFLGVBQWU4SCxZQUFZLE1BQ2xDK0MsRUFBRzNKLFNBQVMsUUFJaEIySixFQUFHckssU0FBU0EsU0FBU3dHLEtBQUssVUFBVWMsWUFBWSxNQUNoRCtDLEVBQUczSixTQUFTLE9BRWJsQixFQUFFLGVBQWU4SSxTQUFTLFFBQ3pCOUksRUFBRSx3QkFBd0IrSCxLQUFLLFFBQVEsSUFDdkMvSCxFQUFFLHdCQUF3QitILEtBQUssUUFBUSxJQUN2Q3JILEVBQVF5RyxVQUFZLEdBRXhCZ0QsSUFFSixRQUFTVyxHQUFTQyxHQUNkQSxFQUNGL0ssRUFBRSxZQUFZa0IsU0FBUyxNQUV2QmxCLEVBQUUsWUFBWThILFlBQVksTUFHNUIsUUFBU2tCLEtBQ0wsR0FBSS9CLEdBQU8sRUFDYSxJQUFyQnZHLEVBQVFxSSxZQUFnQjlCLEVBQU8sVUFBWXZHLEVBQVFxSSxZQUNqRGlDLFdBQVcsV0FBV0MsS0FBZSxNQUMxQ2pMLEVBQUUsaUNBQWlDK0gsS0FBSyxRQUFRLGFBQWVkLEdBQy9EakgsRUFBRSx5Q0FBeUNrTCxPQUFPQyxVQUFVckssR0FBR0osRUFBUXFJLFlBQWMsR0FBR21DLE9BQU9FLE9BQU8sSUFBSSxXQUN0R3BMLEVBQUUseUNBQXlDYyxHQUFHSixFQUFRcUksWUFBWSxHQUFHN0gsU0FBUyxRQUVsRmxCLEVBQUUsa0RBQWtEcUwsT0FDakQzSyxFQUFRNEssYUFBY3RMLEVBQUUsa0RBQWtEcUwsT0FBT3ZLLEdBQUcsR0FBR3lLLE9BQ3JGdkwsRUFBRSxrREFBa0RxTCxPQUFPdkssR0FBRyxHQUFHeUssT0FDbkU3SyxFQUFROEssWUFBWUMsYUFBYS9LLEVBQVE4SyxZQUM1QzlLLEVBQVE4SyxXQUFhUixXQUFXLFdBQzVCaEwsRUFBRSx5Q0FBeUNjLEdBQUdKLEVBQVFxSSxZQUFZLEdBQUcvQixLQUFLLFlBQVlvRSxVQUN4RixNQUVOLFFBQVNNLEtBQ0wsR0FBSXpFLEdBQU8sRUFDWCxJQUF3QixHQUFyQnZHLEVBQVFpTCxZQUFnQjFFLEVBQU8sVUFBWXZHLEVBQVFpTCxnQkFFbEQsS0FBSWpMLEVBQVFvRixnQkFBZ0I4RixZQUFZLEdBQUksTUFBTUMsSUFFdEQ3TCxFQUFFLGlDQUFpQytILEtBQUssUUFBUSxhQUFlZCxHQUMvRGpILEVBQUUseUNBQXlDa0wsT0FBT0MsVUFBVXJLLEdBQUdKLEVBQVFpTCxZQUFjLEdBQUdULE9BQU9FLE9BQU8sSUFBSSxXQUN0R3BMLEVBQUUseUNBQXlDYyxHQUFHSixFQUFRaUwsWUFBWSxHQUFHekssU0FBUyxRQUUxRCxHQUFyQlIsRUFBUWlMLGNBQ1BqTCxFQUFRZ0ssU0FBVyxFQUNuQmhLLEVBQVE2RixnQkFBa0IsRUFDMUI3RixFQUFRaUssU0FBVyxFQUNuQmpLLEVBQVF5RyxVQUFZLEVBQ3BCekcsRUFBUThGLGFBQWUsR0FFSCxHQUFyQjlGLEVBQVFpTCxhQUNQakwsRUFBUWlHLGVBQWlCLEVBQ3pCbUYsR0FBaUIsSUFFaEJBLEdBQWlCLEdBRTFCLFFBQVNBLEdBQWlCZixHQUN0QixHQUFJZ0IsR0FBVy9MLEVBQUUseUNBQ2QrSyxJQUNDckssRUFBUTRLLGNBQWUsRUFDdkJTLEVBQVMvRSxLQUFLLFVBQVVnRixLQUFLLEdBQzFCdEwsRUFBUTZGLGlCQUFpQixHQUFJd0YsRUFBUy9FLEtBQUssTUFBTXFFLE9BQU92SyxHQUFHLEdBQUd5SyxPQUN6RDdLLEVBQVE2RixnQkFBZ0IsSUFBTTdGLEVBQVE2RixpQkFBaUIsR0FBSXdGLEVBQVMvRSxLQUFLLE1BQU1xRSxPQUFPdkssR0FBRyxHQUFHeUssT0FDNUY3SyxFQUFRNkYsZ0JBQWdCLElBQUl3RixFQUFTL0UsS0FBSyxNQUFNcUUsT0FBT3ZLLEdBQUcsR0FBR3lLLE9BQ3JFUSxFQUFTL0UsS0FBSyxZQUFZcUUsT0FDdkIzSyxFQUFRdUwsY0FBY1IsYUFBYS9LLEVBQVF1TCxjQUM5Q3ZMLEVBQVF1TCxhQUFlakIsV0FBVyxXQUM5QmUsRUFBUy9FLEtBQUssWUFBWW9FLE9BQU8sSUFBSSxXQUNqQ2MsT0FFTixPQUVGSCxFQUFTL0UsS0FBSyxZQUFZbUUsVUFHbEMsUUFBU2UsS0FDTCxHQUFJQyxHQUFTbk0sRUFBRSxpREFDWG9NLEVBQWFELEVBQU9qRixNQUNyQmtGLEdBQWExTCxFQUFRNkYsa0JBQ3BCNkYsRUFBc0IsRUFBWEEsRUFBZSxFQUMxQjFMLEVBQVFpRyxlQUFpQnlGLEVBQ3pCMUwsRUFBUXVMLGFBQWVqQixXQUFXLFdBQVdrQixLQUEwQixLQUUzRUMsRUFBT0gsS0FBS0ksR0FFaEIsUUFBU2pMLEtBQ0xuQixFQUFFLHVCQUF1QjhILFlBQVksTUFDckM5SCxFQUFFLFlBQVk4SCxZQUFZLE1BQU1vRCxPQUFPQyxVQUN2Q25MLEVBQUUsUUFBVVUsRUFBUTJMLFNBQVNuQixPQUFPRSxPQUFPLElBQUksV0FDM0NwTCxFQUFFLFFBQVVVLEVBQVEyTCxTQUFTbkwsU0FBUyxPQUUxQyxLQUFJUixFQUFRb0YsZ0JBQWdCWSxZQUFZLEdBQUksTUFBTW1GLElBZWxELEdBZG9CLEdBQWpCbkwsRUFBUTJMLFNBQVlYLElBQ0gsR0FBakJoTCxFQUFRMkwsVUFDUHJNLEVBQUUsVUFBVWdILEtBQUssWUFBWXFFLE9BQzFCM0ssRUFBUThLLFlBQVlDLGFBQWEvSyxFQUFROEssWUFDNUM5SyxFQUFROEssV0FBYVIsV0FBVyxXQUM1QmhMLEVBQUUsVUFBVWdILEtBQUssWUFBWW9FLE9BQU8sSUFBSSxXQUNqQzFLLEVBQVE0TCxRQUNKdE0sRUFBRVQsUUFBUXVLLFNBQVMsSUFBSzlKLEVBQUUsYUFBYXVNLFNBQVNDLFVBQVV4TSxFQUFFLDBCQUEwQjJKLFNBQVM4QyxJQUFJLElBQUksS0FDckd6TSxFQUFFLG1CQUFtQmdJLGlCQUFpQixXQUFXaEksRUFBRSwyQkFFdkRBLEVBQUUsbUJBQW1CZ0ksaUJBQWlCLFdBQVcsTUFFNUQsT0FFYyxHQUFqQnRILEVBQVEyTCxRQUNOck0sRUFBRSxVQUFVZ0gsS0FBSyxZQUFZcUUsT0FDM0IzSyxFQUFROEssWUFBWUMsYUFBYS9LLEVBQVE4SyxZQUM1QzlLLEVBQVE4SyxXQUFhUixXQUFXLFdBQzVCaEwsRUFBRSxVQUFVZ0gsS0FBSyxZQUFZb0UsU0FDekI5SSxPQUFPQyxVQUFVN0IsRUFBUWdNLE9BQU9DLGFBQ3RDLFVBRUYsS0FDUXJLLE9BQU9DLFVBQVU3QixFQUFRZ00sT0FBT0UsYUFFeEMsTUFBTWYsSUFFVSxHQUFqQm5MLEVBQVEyTCxTQUNOck0sRUFBRSxVQUFVZ0gsS0FBSyxZQUFZdUUsT0FFZCxHQUFqQjdLLEVBQVEyTCxTQUNQck0sRUFBRSxrQkFBa0JtTCxVQUNwQm5DLEtBRUNoSixFQUFFLGtCQUFrQm9MLFNBQzVCMUssRUFBUW1NLElBQUk5RSxLQUFLLFFBQVEsV0FBVzdHLFNBQVMsT0FBU1IsRUFBUTJMLFNBQzlEM0wsRUFBUW9NLFFBQVVwTSxFQUFRMkwsUUFFM0IsUUFBU3hLLEtBRUxuQixFQUFRK0gsUUFBVSxFQUNsQnpJLEVBQUUsa0JBQWtCZ00sS0FBSyxHQUN6QixLQUFJbk0sSUFBS2EsR0FBUWdCLFNBQVUxQixFQUFFLGtCQUFrQitNLE9BQU8sV0FBWXJNLEVBQVFnQixTQUFTN0IsR0FBR21OLEtBQU0sWUFDNUZoTixHQUFFLGtCQUFrQmlOLE9BQU8sV0FDdkJ2TSxFQUFRK0gsUUFBVXpJLEVBQUUsa0NBQWtDa04sUUFDdERqQyxNQUVKakwsRUFBRSxrQkFBa0JpTixPQUFPLFdBQ3ZCdk0sRUFBUWlJLFFBQVUzSSxFQUFFLGtDQUFrQ2tOLFFBQ3REQyxNQUlKek0sRUFBUTJGLFlBQWMsRUFDdEJDLElBRUosUUFBUzJFLEtBQ0x2SyxFQUFRaUksUUFBVSxFQUNsQjNJLEVBQUUsa0JBQWtCZ00sS0FBSyxHQUN6QixLQUFJbk0sSUFBS2EsR0FBUWdCLFNBQVNoQixFQUFRK0gsU0FBU0MsT0FBUTFJLEVBQUUsa0JBQWtCK00sT0FBTyxXQUFZck0sRUFBUWdCLFNBQVNoQixFQUFRK0gsU0FBU0MsT0FBTzdJLEdBQUd1TixNQUFPLFlBQzdJRCxLQUVKLFFBQVNBLEtBQ0xuTixFQUFFLGNBQWNnTSxLQUFLdEwsRUFBUWdCLFNBQVNoQixFQUFRK0gsU0FBU0MsT0FBT2hJLEVBQVFpSSxTQUFTMEUsU0FDL0VyTixFQUFFLGVBQWVnSCxLQUFLLFFBQVFnRixLQUFLdEwsRUFBUWdCLFNBQVNoQixFQUFRK0gsU0FBU0MsT0FBT2hJLEVBQVFpSSxTQUFTMkUsSUFDN0YsSUFBSUMsR0FBUTdNLEVBQVFnQixTQUFTaEIsRUFBUStILFNBQVNDLE9BQU9oSSxFQUFRaUksUUFDN0RqSSxHQUFROE0sWUFBY0MsS0FBTSxHQUFHQyxPQUFRLEdBQUlDLFFBQU9DLEtBQUtDLE9BQU9OLEVBQU1PLElBQUtQLEVBQU1RLE1BQy9Fck4sRUFBUXNOLElBQU0sR0FBSUwsUUFBT0MsS0FBS0ssSUFBSWhPLFNBQVN1RCxlQUFlLGFBQWE5QyxFQUFROE0sV0FDN0QsSUFBSUcsUUFBT0MsS0FBS00sUUFBUUMsU0FBVSxHQUFJUixRQUFPQyxLQUFLQyxPQUFPTixFQUFNTyxJQUFLUCxFQUFNUSxLQUFLQyxJQUFLdE4sRUFBUXNOLElBQUlJLEtBQU0xTixFQUFRMk4sVUFDaEkzTixHQUFRc04sSUFBSU0sVUFBVSxHQUFJWCxRQUFPQyxLQUFLQyxPQUFPTixFQUFNTyxJQUFLUCxFQUFNUSxNQUVsRSxRQUFTbk4sR0FBWTJOLEdBQ2pCN04sRUFBUWdNLE9BQVMsR0FBSThCLElBQUdDLE9BQU8sVUFDN0JDLE9BQVEsT0FDUjVFLE1BQU8sT0FDUDZFLFFBQVNKLEVBQ1RLLFlBQ0VDLFNBQVcsRUFDWEMsVUFBVyxFQUNYQyxZQUFjLElBQ2RDLEdBQUssSUFDTEMsSUFBTSxJQUNOQyxTQUFXLElBQ1hDLGVBQWlCLElBQ2pCQyxlQUFpQixJQUNqQkMsTUFBUSxpQkFJaEIsUUFBUy9JLEtBQ0Y1RixFQUFRMkYsWUFBYyxFQUFHakUsR0FBWSxHQUNuQzRJLFdBQVcsV0FBVzFFLEtBQWlCLEtBRWhELFFBQVNnSixLQUNSLEdBQUl6SCxHQUFRN0gsRUFBRTRILFFBQVFDLE9BQ3pCLFFBQU9BLEdBQ04sSUFBSyxJQUNKdEksT0FBT0MsU0FBU0MsS0FBTyxtQkFDeEIsTUFDQSxLQUFLLFNBRUppQixFQUFRMkwsUUFBVSxFQUNOM0wsRUFBUWlMLFlBQWMsQ0FDbkMsTUFDUyxLQUFLLGtCQUVEakwsRUFBUTJMLFFBQVUsRUFDbEIzTCxFQUFRaUwsWUFBYyxDQUMxQixNQUNBLEtBQUssa0JBRURqTCxFQUFRMkwsUUFBVSxFQUNsQjNMLEVBQVFpTCxZQUFjLENBQzFCLE1BQ1QsS0FBSyxTQUVKakwsRUFBUTJMLFFBQVUsRUFDTjNMLEVBQVE0TCxTQUFVLENBQy9CLE1BQ1MsS0FBSyxrQkFFRDVMLEVBQVEyTCxRQUFVLEVBQ2xCM0wsRUFBUTRMLFNBQVUsQ0FDdEIsTUFDVCxLQUFLLFNBRUo1TCxFQUFRMkwsUUFBVSxFQUNOM0wsRUFBUXFJLFlBQWMsQ0FDbkMsTUFDUyxLQUFLLGNBRURySSxFQUFRMkwsUUFBVSxFQUNsQjNMLEVBQVFxSSxZQUFjLENBQzFCLE1BQ0EsS0FBSyxTQUVEckksRUFBUTJMLFFBQVUsQ0FDdEIsTUFDQSxLQUFLLFNBRUQzTCxFQUFRMkwsUUFBVSxDQUN0QixNQUNBLFNBQ0k5TSxPQUFPQyxTQUFTQyxLQUFPLG9CQUc1QmlCLEVBQVEyRixZQUFjLEdBQUdsRixJQUVqQyxRQUFTaUIsR0FBWTJJLEdBQ2pCQSxFQUFJL0ssRUFBRSxZQUFZb0wsU0FDaEJwTCxFQUFFLFlBQVltTCxVQS9sQnRCLEdBQUl6SyxLQUdKQSxHQUFRbU0sSUFBSTdNLEVBQUUsWUFDWFUsRUFBUUcsTUFBUSxjQUNoQkgsRUFBUXVDLFFBQVUsd0RBQ2xCdkMsRUFBUUMsV0FBYSxtREFDckJELEVBQVEyTixTQUFXLG1FQUNuQjNOLEVBQVF1SSxrQkFBb0IsVUFDL0J2SSxFQUFRNk8sVUFBWSxJQUNqQjdPLEVBQVFpTCxZQUFjLEVBQ3RCakwsRUFBUXFJLFlBQWMsRUFDdEJySSxFQUFRMkYsV0FBYSxFQUNsQi9ELE9BQU9DLFNBQVU3QixFQUFRNEIsT0FBTyxTQUM5QjVCLEVBQVE0QixPQUFPLEtBRXBCdEMsRUFBRSxjQUFjZ0ksa0JBQWtCd0gsY0FBYyxJQUFJQyxhQUFhLFdBQ2pFelAsRUFBRSw0QkFBNEJnSSxrQkFBa0J3SCxjQUFjLElBQUlDLGFBQWEsV0FDL0V6UCxFQUFFLG1CQUFtQmdJLGtCQUFrQndILGNBQWMsSUFBSUMsYUFBYSxXQUd0RS9PLEVBQVFnSyxTQUFXLEVBQ25CaEssRUFBUTZGLGdCQUFrQixFQUMxQjdGLEVBQVFpSyxTQUFXLEVBQ25CakssRUFBUXlHLFVBQVksRUFDcEJ6RyxFQUFRNEssY0FBZSxFQUd2QjVLLEVBQVE4RixhQUFlLEVBQ3ZCOUYsRUFBUWlHLGVBQWlCLEVBRXpCckQsSUFFQTVDLEVBQVFrQyxXQUFhLGVBQ3JCbEMsRUFBUXFDLFNBQVcsNkNBQ25CLElBQUlNLEdBQVUsa0JBQ2RiLElBQUdrTixNQUNEQyxNQUFhdE0sRUFDYnVNLFdBQWFsUCxFQUFRdUMsUUFDckI0TSxRQUFhLEVBQ2JDLE9BQWEsRUFDYkMsUUFBYSxJQUtmL1AsRUFBRSxpQkFBaUJnUSxNQUFNLFdBQVczTixNQUNwQ3JDLEVBQUUsZ0JBQWdCZ1EsTUFBTSxXQUFXM04sTUFDbkNyQyxFQUFFLGlCQUFpQmdRLE1BQU0sV0FBVzNOLE1BQ3BDckMsRUFBRSx1QkFBdUJnUSxNQUFNLFdBQWNoUSxFQUFFdUssTUFBTXpCLFNBQVMsTUFBTzlJLEVBQUV1SyxNQUFNekMsWUFBWSxNQUFZOUgsRUFBRXVLLE1BQU1ySixTQUFTLFFBQ3RIbEIsRUFBRSxjQUFjZ1EsTUFBTSxXQUFlaFEsRUFBRXVLLE1BQU16QixTQUFTLE9BQU9WLE1BQzdEcEksRUFBRSxhQUFhZ1EsTUFBTSxXQUFXcEosTUFDaEM1RyxFQUFFLGlCQUFpQmlRLEtBQUsvRyxHQUN4QmxKLEVBQUUsVUFBVWdRLE1BQU0sV0FBV3BGLEVBQVc1SyxFQUFFdUssU0FDMUN2SyxFQUFFLGNBQWNnUSxNQUFNLFdBQVdoUSxFQUFFNEgsUUFBUUMsTUFBTSxxQkFDakQ3SCxFQUFFLFVBQVVnUSxNQUFNLFdBQWNoUSxFQUFFLFlBQVk4SSxTQUFTLE9BQU85SSxFQUFFLFlBQVlrUSxRQUFRLFdBQ3BGbFEsRUFBRSxVQUFVZ1EsTUFBTSxXQUFXaFEsRUFBRSxZQUFZa1EsUUFBUSxXQUN0RGxRLEVBQUUsWUFBWWdRLE1BQU0sV0FDaEJoUSxFQUFFdUssTUFBTXpCLFNBQVMsT0FBTzlJLEVBQUV1SyxNQUFNekMsWUFBWSxNQUFNZ0QsR0FBUyxLQUN4RDlLLEVBQUV1SyxNQUFNckosU0FBUyxNQUFPNEosR0FBUyxNQUVyQzlLLEVBQUU0SCxRQUFRcUYsT0FBT3FDLEdBQ3BCdFAsRUFBRVQsUUFBUTRRLEtBQUtoUSIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdHZhciB3ZWJEYXRhID17fTtcdFxyXG5cclxuXHQvL0luaXRcclxuXHR3ZWJEYXRhLndycD0kKCcud3JhcHBlcicpO1xyXG4gICAgd2ViRGF0YS50dmNJRCA9ICdZV1FGZllJV1VKRSc7XHJcbiAgICB3ZWJEYXRhLm1haW51cmwgPSAnaHR0cDovLzIwMTZwYXJvZG9udGF4LmV2ZXJ5ZGF5aGVhbHRoLmNvbS50dy8yMDE2MDYxNy8nO1xyXG4gICAgd2ViRGF0YS5iYWNrZW5kdXJsID0gJ2h0dHA6Ly8yMDE2cGFyb2RvbnRheC5ldmVyeWRheWhlYWx0aC5jb20udHcveG1sLyc7XHJcbiAgICB3ZWJEYXRhLm1hcGltYWdlID0gJ2h0dHA6Ly9tbC1hbmR5LmdpdGh1Yi5pby9jaGluZXNlY2hlc3Mvd2Vic2l0ZS9pbWFnZXMvbWFwaWNvbi5wbmcnO1xyXG4gICAgd2ViRGF0YS5jcmVhdFVzZXJlcnJvcnR4dCA9IFwi6KuL5aGr5a+r5a6M5pW06LOH5paZXCI7XHJcblx0d2ViRGF0YS5wYWdlc3BlZWQgPSA1MDA7XHJcbiAgICB3ZWJEYXRhLnBhZ2Uxc2NlbmVzID0gMTtcclxuICAgIHdlYkRhdGEucGFnZTNzY2VuZXMgPSAxO1xyXG4gICAgd2ViRGF0YS5IYXNDb21wbGV0ID0gMDtcclxuICAgIGlmKGRldmljZS5tb2JpbGUoKSkgd2ViRGF0YS5kZXZpY2U9XCJtb2JpbGVcIjtcclxuICAgIGVsc2Ugd2ViRGF0YS5kZXZpY2U9XCJwY1wiO1xyXG4gICAgXHJcbiAgICAkKFwiLmRhdGFib3hpblwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtzY3JvbGxJbmVydGlhOjMwMCxzY3JvbGxFYXNpbmc6J2xpbmVhcid9KTtcclxuICAgICQoXCIucGFnZTMgLnNjZW5lczEgLmNvbnRlbnRcIikubUN1c3RvbVNjcm9sbGJhcih7c2Nyb2xsSW5lcnRpYTozMDAsc2Nyb2xsRWFzaW5nOidsaW5lYXInfSk7XHJcbiAgICAkKFwiLnBhZ2UyIC5jb250ZW50XCIpLm1DdXN0b21TY3JvbGxiYXIoe3Njcm9sbEluZXJ0aWE6MzAwLHNjcm9sbEVhc2luZzonbGluZWFyJ30pOyAgICBcclxuXHJcbiAgICAvL1NDT1JFIElOSVRcclxuICAgIHdlYkRhdGEubm93c2NvcmUgPSAwO1xyXG4gICAgd2ViRGF0YS5ub3dzY29yZXBlcmNlbnQgPSAwO1xyXG4gICAgd2ViRGF0YS5wcmVzY29yZSA9IDA7XHJcbiAgICB3ZWJEYXRhLmRyYWdzY29yZSA9IDA7XHJcbiAgICB3ZWJEYXRhLnBhZ2UxaGFzcGxheSA9IGZhbHNlO1xyXG5cclxuICAgIC8vQ2FudmFzIGluaXRcclxuICAgIHdlYkRhdGEudHJlZUJpZ0ZyYW1lID0gMDtcclxuICAgIHdlYkRhdGEudHJlZVNtYWxsRnJhbWUgPSAwO1xyXG5cclxuICAgIGNhbnZhc0lpbml0KCk7XHJcbiAgICAvL0ZCIElOSVRcclxuICAgIHdlYkRhdGEuc2hhcmV0aXRsZSA9ICfjgJDmkLbmlZHjgJHmiJHnmoTniZnpvabmgKXoqLrlrqTvvIEnO1xyXG4gICAgd2ViRGF0YS5zaGFyZWRlcyA9ICfliLfniZnmtYHooYDllY/poYzvvIzpmrHol4/lgaXlurflpKforaboqIrjgILnq4vljbPnt5rkuIrmqqLoppbvvIzppqzkuIrntKLlj5bjgJDniZnlkajpgakt54mZ6b2m6K2355CG54mZ6IaP44CR5pC25pWR54mZ6b2m77yBJztcclxuICAgIHZhciBGQkFwcElkID0gJzE3MDY5NTk4NDYyMjA3NDQnO1xyXG4gICAgRkIuaW5pdCh7XHJcbiAgICAgIGFwcElkICAgICAgOiBGQkFwcElkLFxyXG4gICAgICBjaGFubmVsVXJsIDogd2ViRGF0YS5tYWludXJsLFxyXG4gICAgICBzdGF0dXMgICAgIDogdHJ1ZSxcclxuICAgICAgeGZibWwgICAgICA6IHRydWUsXHJcbiAgICAgIGNvb2tpZSAgICAgOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcblxyXG5cdC8vQWRkTGlzdGVuZXJcclxuICAgICQoJy5tZW51YUZic2hhcmUnKS5jbGljayhmdW5jdGlvbigpe3NoYXJlZmIoKTt9KTtcclxuICAgICQoJy5mYnNoYXJlX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7c2hhcmVmYigpO30pO1xyXG4gICAgJCgnLmZiX3NoYXJlX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7c2hhcmVmYigpO30pO1xyXG4gICAgJCgnLmFncmVlYm94IC5jaGVja2JveCcpLmNsaWNrKGZ1bmN0aW9uKCl7aWYoJCh0aGlzKS5oYXNDbGFzcygnb24nKSl7JCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTt9ZWxzZXskKHRoaXMpLmFkZENsYXNzKCdvbicpO319KTtcclxuICAgICQoJy5wM3MxZ29idG4nKS5jbGljayhmdW5jdGlvbigpe2lmKCEkKHRoaXMpLmhhc0NsYXNzKCdvbicpKSBzZW5kRGF0YSgpO30pO1xyXG4gICAgJCgnLnN1cmVfYnRuJykuY2xpY2soZnVuY3Rpb24oKXtwMXMyc3VyZSgpO30pO1xyXG4gICAgJCgnLmRhdGFib3ggLmJhcicpLmVhY2goZGF0YWJveEJhcik7XHJcbiAgICAkKCcucTFhbnMnKS5jbGljayhmdW5jdGlvbigpe2NvdW50U2NvcmUoJCh0aGlzKSk7fSk7XHJcbiAgICAkKCcuc3RhcnRfYnRuJykuY2xpY2soZnVuY3Rpb24oKXskLmFkZHJlc3MudmFsdWUoXCIvcGFnZTE/c2NlbmVzPTJcIik7fSk7XHJcbiAgICAkKCcuZ29idG4nKS5jbGljayhmdW5jdGlvbigpe2lmKCQoJy5tZW51YnRuJykuaGFzQ2xhc3MoJ29uJykpICQoJy5tZW51YnRuJykudHJpZ2dlcignY2xpY2snKTt9KTtcclxuICAgICQoJy5tZW51YScpLmNsaWNrKGZ1bmN0aW9uKCl7JCgnLm1lbnVidG4nKS50cmlnZ2VyKCdjbGljaycpO30pO1x0XHJcblx0JCgnLm1lbnVidG4nKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0aWYoJCh0aGlzKS5oYXNDbGFzcygnb24nKSl7JCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtzaG93bWVudShmYWxzZSk7fVxyXG5cdFx0ZWxzZSB7JCh0aGlzKS5hZGRDbGFzcygnb24nKTsgc2hvd21lbnUodHJ1ZSk7fVxyXG5cdH0pO1xyXG4gICAgJC5hZGRyZXNzLmNoYW5nZShhZGRyQ2hhbmdlKTtcclxuXHQkKHdpbmRvdykubG9hZCh3aW5kb3dMb2FkKTtcclxuXHRmdW5jdGlvbiB3aW5kb3dMb2FkKCl7XHJcbiAgICAgICAgdmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTAwMCkrMTtcclxuICAgICAgICAkKCcudXNlcl9jb2RlJykucGFyZW50KCkucHJlcGVuZCgnPGltZyBzcmM9XCInKyB3ZWJEYXRhLmJhY2tlbmR1cmwgKydhcGlfdmNvZGUuYXNoeD8nK19yYW5kb20rJ1wiIGNsYXNzPVwiY29kZVwiPicpO1xyXG4gICAgICAgIGNyZWF0ZVZpZGVvKHdlYkRhdGEudHZjSUQpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8JCgnLmZvcmxvYWQnKS5sZW5ndGg7aSsrKSAkKCcuZm9ybG9hZCcpLmVxKGkpLmNzcyh7J29wYWNpdHknOicxJywnZGlzcGxheSc6J25vbmUnfSkuYWRkQ2xhc3MoJ2xvYWRlbmQnKTtcclxuICAgICAgICBjaGFuZ2VQYWdlKCk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB3ZWJEYXRhLmJhY2tlbmR1cmwgKyAnYXBpX3N0b3JlLmFzaHgnLFxyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEuc2hvcGRhdGEgPSBkYXRhLkRBVEE7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLlJTPT1cIk9LXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRNYXAoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGNvbnNvbGUubG9nKGRhdGEuUlMpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjpcIiwgeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHR9XHJcbiAgICBcclxuXHJcblxyXG4gICAgLy9FZXZlbnRcclxuICAgIGZ1bmN0aW9uIHNoYXJlZmIoKXtcclxuICAgICAgICBpZighZGV2aWNlLm1vYmlsZSgpKXtcclxuICAgICAgICAgICAgRkIudWkoeyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ2ZlZWQnLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogd2ViRGF0YS5zaGFyZXRpdGxlLFxyXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogXCJcIixcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3ZWJEYXRhLnNoYXJlZGVzLFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheTpcInBvcHVwXCIsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiB3ZWJEYXRhLm1haW51cmxcclxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmICFyZXNwb25zZS5lcnJvcl9jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NoYXJlIG9rJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzaGFyZSBub3Qgb2snKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogd2ViRGF0YS5iYWNrZW5kdXJsICsgJ2FwaV9zaGFyZS5hc2h4JyxcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgIGRldmljZTp3ZWJEYXRhLmRldmljZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuUlM9PVwiT0tcIil7XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2UgY29uc29sZS5sb2coZGF0YS5SUyk7XHJcbiAgICAgICAgICAgICAgICBpZihkZXZpY2UubW9iaWxlKCkpIHNoYXJlZmJfbW9iaWxlKCk7XHJcbiAgICAgICAgICAgIH0sZXJyb3I6IGZ1bmN0aW9uKHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgIGlmKGRldmljZS5tb2JpbGUoKSkgc2hhcmVmYl9tb2JpbGUoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6XCIsIHhociwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICAgICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNoYXJlZmJfbW9iaWxlKCl7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9J2h0dHBzOi8vbS5mYWNlYm9vay5jb20vZGlhbG9nL2ZlZWQ/YXBwX2lkPScrIEZCQXBwSWQgKycmY2FwdGlvbj0mbmFtZT0nK3dlYkRhdGEuc2hhcmV0aXRsZSsnJmRlc2NyaXB0aW9uPScrd2ViRGF0YS5zaGFyZWRlcysnJmxpbms9Jysgd2ViRGF0YS5tYWludXJsICsnJnJlZGlyZWN0X3VyaT0nK3dlYkRhdGEubWFpbnVybDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNhbnZhc0lpbml0KCl7XHJcbiAgICAgICAgd2ViRGF0YS50cmVlY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmVlXCIpO1xyXG4gICAgICAgIGltYWdlcyA9IGltYWdlc3x8e307XHJcbiAgICAgICAgc3MgPSBzc3x8e307XHJcbiAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoZmFsc2UpO1xyXG4gICAgICAgIGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZmlsZWxvYWRcIiwgaGFuZGxlRmlsZUxvYWQpO1xyXG4gICAgICAgIGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgaGFuZGxlQ29tcGxldGUpO1xyXG4gICAgICAgIGxvYWRlci5sb2FkRmlsZSh7c3JjOlwiaW1hZ2VzL3RyZWVBbmlfYXRsYXNfLnR4dFwiLCB0eXBlOlwic3ByaXRlc2hlZXRcIiwgaWQ6XCJ0cmVlQW5pX2F0bGFzX1wifSwgdHJ1ZSk7XHJcbiAgICAgICAgbG9hZGVyLmxvYWRNYW5pZmVzdChsaWIucHJvcGVydGllcy5tYW5pZmVzdCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVGaWxlTG9hZChldnQpIHtcclxuICAgICAgICBpZiAoZXZ0Lml0ZW0udHlwZSA9PSBcImltYWdlXCIpIHsgaW1hZ2VzW2V2dC5pdGVtLmlkXSA9IGV2dC5yZXN1bHQ7IH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKGV2dCkge1xyXG4gICAgICAgIHZhciBxdWV1ZSA9IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgc3NbXCJ0cmVlQW5pX2F0bGFzX1wiXSA9IHF1ZXVlLmdldFJlc3VsdChcInRyZWVBbmlfYXRsYXNfXCIpO1xyXG4gICAgICAgIGV4cG9ydFJvb3QgPSBuZXcgbGliLnRyZWVBbmkoKTtcclxuXHJcbiAgICAgICAgd2ViRGF0YS5zdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZSh3ZWJEYXRhLnRyZWVjYW52YXMpO1xyXG4gICAgICAgIHdlYkRhdGEuc3RhZ2UuYWRkQ2hpbGQoZXhwb3J0Um9vdCk7XHJcbiAgICAgICAgd2ViRGF0YS5zdGFnZS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgY3JlYXRlanMuVGlja2VyLnNldEZQUyhsaWIucHJvcGVydGllcy5mcHMpO1xyXG4gICAgICAgIGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBTdGFnZUxpc3RlbnRlcik7XHJcblxyXG4gICAgICAgIC8vc21hbGxUcmVlXHJcbiAgICAgICAgd2ViRGF0YS50cmVlc21hbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyZWVTbWFsbFwiKTsgXHJcbiAgICAgICAgd2ViRGF0YS50cmVlc21hbGxTdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZSh3ZWJEYXRhLnRyZWVzbWFsbCk7XHJcbiAgICAgICAgd2ViRGF0YS50cmVlc21hbGxTdGFnZW1vdmllID0gd2ViRGF0YS50cmVlc21hbGxTdGFnZS5hZGRDaGlsZChuZXcgbGliLuWFg+S7tjFfMSgpKTtcclxuXHJcbiAgICAgICAgLy9saWdodCAgICAgICAgXHJcbiAgICAgICAgd2ViRGF0YS5saWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlnaHRcIik7IFxyXG4gICAgICAgIHdlYkRhdGEubGlnaHRTdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZSh3ZWJEYXRhLmxpZ2h0KTtcclxuICAgICAgICB3ZWJEYXRhLmxpZ2h0U3RhZ2Vtb3ZpZSA9IHdlYkRhdGEubGlnaHRTdGFnZS5hZGRDaGlsZChuZXcgbGliLuWFg+S7tjHopIfoo70oKSk7XHJcbiAgICAgICAgd2ViRGF0YS5saWdodFN0YWdlbW92aWUuc2V0VHJhbnNmb3JtKDEwNSwwKTtcclxuXHJcbiAgICAgICAgLy9nb2J0biAgICAgICAgXHJcbiAgICAgICAgd2ViRGF0YS5nb2J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29idG5cIik7IFxyXG4gICAgICAgIHdlYkRhdGEuZ29idG5TdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZSh3ZWJEYXRhLmdvYnRuKTtcclxuICAgICAgICB3ZWJEYXRhLmdvYnRuU3RhZ2Vtb3ZpZSA9IHdlYkRhdGEuZ29idG5TdGFnZS5hZGRDaGlsZChuZXcgbGliLuWFg+S7tjJfMSgpKTtcclxuICAgICAgICB3ZWJEYXRhLmdvYnRuU3RhZ2Vtb3ZpZS5zZXRUcmFuc2Zvcm0oMCwwKTtcclxuXHJcbiAgICAgICAgd2ViRGF0YS5IYXNDb21wbGV0ICs9IDE7XHJcbiAgICAgICAgY2hlY2tMb2FkaW5nKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBTdGFnZUxpc3RlbnRlcigpe1xyXG4gICAgICAgIHdlYkRhdGEuc3RhZ2UudXBkYXRlKCk7XHJcbiAgICAgICAgaWYod2ViRGF0YS50cmVlc21hbGxTdGFnZSkgd2ViRGF0YS50cmVlc21hbGxTdGFnZS51cGRhdGUoKTtcclxuICAgICAgICBpZih3ZWJEYXRhLmxpZ2h0U3RhZ2UpIHdlYkRhdGEubGlnaHRTdGFnZS51cGRhdGUoKTtcclxuICAgICAgICBpZih3ZWJEYXRhLmdvYnRuU3RhZ2UpIHdlYkRhdGEuZ29idG5TdGFnZS51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dzY29yZXBlcmNlbnQgPiB3ZWJEYXRhLnRyZWVCaWdGcmFtZSkgd2ViRGF0YS50cmVlQmlnRnJhbWUrPTE7XHJcbiAgICAgICAgZWxzZSBpZih3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudCA8IHdlYkRhdGEudHJlZUJpZ0ZyYW1lKSB3ZWJEYXRhLnRyZWVCaWdGcmFtZS09MTsgICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cG9ydFJvb3QuaW5zdGFuY2VfMi5nb3RvQW5kU3RvcCh3ZWJEYXRhLnRyZWVCaWdGcmFtZSk7XHJcbiAgICAgICAgd2ViRGF0YS50cmVlc21hbGxTdGFnZW1vdmllLmdvdG9BbmRTdG9wKHdlYkRhdGEudHJlZVNtYWxsRnJhbWUpO1xyXG4gICAgfSAgIFxyXG4gICAgZnVuY3Rpb24gcDFzMnN1cmUoKXtcclxuICAgICAgICAvL2NoZWNrIHJlY29yZFxyXG4gICAgICAgIHZhciBfcWVzID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8JCgnLmRhdGFib3ggbGknKS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBfdHh0ID0nJztcclxuICAgICAgICAgICAgaWYoaSE9MSl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDsgajwkKCcuZGF0YWJveCBsaScpLmVxKGkpLmZpbmQoJy5xMWFucy5vbicpLmxlbmd0aDsgaisrKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RtcCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGohPTApIF90bXAgPSAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgX3R4dCA9IF90eHQgKyBfdG1wICsgJCgnLmRhdGFib3ggbGknKS5lcShpKS5maW5kKCcucTFhbnMub24nKS5lcShqKS5wYXJlbnQoKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZih3ZWJEYXRhLmRyYWdzY29yZTw9NSkgX3R4dCA9IE1hdGgucm91bmQod2ViRGF0YS5kcmFnc2NvcmUgLyA1ICogNyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIF90eHQgPSA3ICsgTWF0aC5yb3VuZCgod2ViRGF0YS5kcmFnc2NvcmUgLSA1KSAvIDE1ICogNyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3Flcy5wdXNoKF90eHQpOyAgICAgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF95ZXMgPSB0cnVlO1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPF9xZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihpIT0xKXtcclxuICAgICAgICAgICAgICAgIGlmKF9xZXNbaV0gPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbnVtID0gaSoxICsxO1xyXG4gICAgICAgICAgICAgICAgICAgIF95ZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Yil5b+Y6KiY5aGr5a+r56ysJyArIF9udW0gKyAn6aGM5ZS3IScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFfeWVzKSByZXR1cm47ICAgIFxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogd2ViRGF0YS5iYWNrZW5kdXJsICsgJ2FwaV9nYW1lLmFzaHgnLFxyXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgUTE6X3Flc1swXSxcclxuICAgICAgICAgICAgICAgIFEyOl9xZXNbMV0sXHJcbiAgICAgICAgICAgICAgICBRMzpfcWVzWzJdLFxyXG4gICAgICAgICAgICAgICAgUTQ6X3Flc1szXSxcclxuICAgICAgICAgICAgICAgIFE1Ol9xZXNbNF0sXHJcbiAgICAgICAgICAgICAgICBkZXZpY2U6d2ViRGF0YS5kZXZpY2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgeyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuUlM9PVwiT0tcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBjb25zb2xlLmxvZyhkYXRhLlJTKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSxlcnJvcjogZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgeyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yOlwiLCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQuYWRkcmVzcy52YWx1ZShcIi9wYWdlMT9zY2VuZXM9M1wiKTtcclxuICAgICAgICAkKCcucTFhbnMnKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAkKCcuZGF0YWJveCAuYmFyIC5saWdodCcpLmF0dHIoJ3N0eWxlJywnJyk7XHJcbiAgICAgICAgJCgnLmRhdGFib3ggLmJhciAuY292ZXInKS5hdHRyKCdzdHlsZScsJycpO1xyXG4gICAgICAgICQoJy5kYXRhYm94aW4nKS5tQ3VzdG9tU2Nyb2xsYmFyKCdzY3JvbGxUbycsMCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNldFVzZXJkYXRhKCl7XHJcbiAgICAgICAgdmFyIF91c2VyX2RhdGEgPSAkKCcudXNlcl9kYXRhJyk7XHJcbiAgICAgICAgX3VzZXJfZGF0YS5maW5kKCcudXNlcl9waG9uZScpLnZhbCgnJyk7XHJcbiAgICAgICAgX3VzZXJfZGF0YS5maW5kKCcudXNlcl9tYWlsJykudmFsKCcnKTtcclxuICAgICAgICBfdXNlcl9kYXRhLmZpbmQoJy51c2VyX25hbWUnKS52YWwoJycpO1xyXG4gICAgICAgIF91c2VyX2RhdGEuZmluZCgnLnVzZXJfY29kZScpLnZhbCgnJyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZW5kRGF0YSgpe1xyXG4gICAgICAgICQoJy5wM3MxZ29idG4nKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICB2YXIgX3VzZXJfZGF0YSA9ICQoJy51c2VyX2RhdGEnKTtcclxuICAgICAgICB3ZWJEYXRhLnNlbmRkYXRhID0ge1xyXG4gICAgICAgICAgICBtb2I6X3VzZXJfZGF0YS5maW5kKCcudXNlcl9waG9uZScpLnZhbCgpLFxyXG4gICAgICAgICAgICBlbWFpbDpfdXNlcl9kYXRhLmZpbmQoJy51c2VyX21haWwnKS52YWwoKSxcclxuICAgICAgICAgICAgbmFtZTpfdXNlcl9kYXRhLmZpbmQoJy51c2VyX25hbWUnKS52YWwoKSxcclxuICAgICAgICAgICAgc3RvcmVpZDp3ZWJEYXRhLnNob3BkYXRhW3dlYkRhdGEubm93Q2l0eV0uU1RPUkVTW3dlYkRhdGEubm93QXJlYV0uSUQsXHJcbiAgICAgICAgICAgIGNjYzpfdXNlcl9kYXRhLmZpbmQoJy51c2VyX2NvZGUnKS52YWwoKSxcclxuICAgICAgICAgICAgZGV2aWNlOndlYkRhdGEuZGV2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCF3ZWJEYXRhLnNlbmRkYXRhLm1vYiB8fCAhd2ViRGF0YS5zZW5kZGF0YS5lbWFpbCB8fCAhd2ViRGF0YS5zZW5kZGF0YS5uYW1lIHx8ICF3ZWJEYXRhLnNlbmRkYXRhLmNjYyB8fCAhJCgnLmFncmVlYm94IC5jaGVja2JveCcpLmhhc0NsYXNzKCdvbicpKXtcclxuICAgICAgICAgICAgaWYoISQoJy5hZ3JlZWJveCAuY2hlY2tib3gnKS5oYXNDbGFzcygnb24nKSkgYWxlcnQoXCLoq4vlkIzmhI/lgIvos4fmop3mrL5cIik7XHJcbiAgICAgICAgICAgIGVsc2UgYWxlcnQod2ViRGF0YS5jcmVhdFVzZXJlcnJvcnR4dCk7ICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKCcucDNzMWdvYnRuJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2hvd0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB3ZWJEYXRhLmJhY2tlbmR1cmwgKyAnYXBpX3NhdmUuYXNoeCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTp3ZWJEYXRhLnNlbmRkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXNldFVzZXJkYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLlJTPT1cIk9LXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHdlYkRhdGEucGFnZTNzY2VuZXM9MjtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VwYWdlM1NjZW5lcygpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5SUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9yYW5kb20gPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTAwMCkrMTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcudXNlcl9jb2RlJykucGFyZW50KCkuZmluZCgnLmNvZGUnKS5hdHRyKCdzcmMnLCB3ZWJEYXRhLmJhY2tlbmR1cmwgKydhcGlfdmNvZGUuYXNoeD8nK19yYW5kb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnAzczFnb2J0bicpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICB9LGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcucDNzMWdvYnRuJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICBzaG93TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yOlwiLCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSAgICBcclxuICAgIGZ1bmN0aW9uIGRhdGFib3hCYXIoKXtcclxuICAgICAgICB2YXIgYmFyID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgZHJhZyA9ICQodGhpcykuZmluZCgnLmxpZ2h0JyksXHJcbiAgICAgICAgICAgIGNvdmVyID0gJCh0aGlzKS5maW5kKCcuY292ZXInKSxcclxuICAgICAgICAgICAgX3dpZHRoID0gYmFyLndpZHRoKCkgLSAxMCxcclxuICAgICAgICAgICAgX3dpZHRoNTAgPSBfd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB2YXIgZXZkb3duO1xyXG4gICAgICAgIHZhciBldm1vdmU7XHJcbiAgICAgICAgdmFyIGV2dXA7IFxyXG5cclxuICAgICAgICBpZihkZXZpY2UubW9iaWxlKCkpe1xyXG4gICAgICAgICAgICBldmRvd249J3RvdWNoc3RhcnQnO1xyXG4gICAgICAgICAgICBldm1vdmU9J3RvdWNobW92ZSc7XHJcbiAgICAgICAgICAgIGV2dXA9J3RvdWNoZW5kJztcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZXZkb3duPSdtb3VzZWRvd24nO1xyXG4gICAgICAgICAgICBldm1vdmU9J21vdXNlbW92ZSc7XHJcbiAgICAgICAgICAgIGV2dXA9J21vdXNldXAnOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRyYWcuYmluZChldmRvd24sZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoISQoJy5mb3JxMmNoZWNrJykuaGFzQ2xhc3MoJ29uJykpIGJhci5iaW5kKGV2bW92ZSwgZHJhZ21vdmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRyYWcuYmluZChldnVwLGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGJhci51bmJpbmQoZXZtb3ZlLCBkcmFnbW92ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZHJhZy5iaW5kKCdtb3VzZW91dCcsZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgYmFyLnVuYmluZChldm1vdmUsIGRyYWdtb3ZlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBkcmFnbW92ZShlKXtcclxuICAgICAgICAgICAgaWYoZGV2aWNlLm1vYmlsZSgpKXtlID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07fVxyXG4gICAgICAgICAgICB2YXIgbGZ0ID0gTWF0aC5mbG9vcihlLnBhZ2VYLWJhci5vZmZzZXQoKS5sZWZ0IC0gKGRyYWcud2lkdGgoKSAvIDIpKTtcclxuICAgICAgICAgICAgX3dpZHRoID0gJCgnLmRhdGFib3ggLmJhcicpLndpZHRoKCktMTA7XHJcbiAgICAgICAgICAgIF93aWR0aDUwID0gX3dpZHRoIC8gMjtcclxuICAgICAgICAgICAgaWYobGZ0Pl93aWR0aCl7XHJcbiAgICAgICAgICAgICAgICBiYXIudW5iaW5kKCdtb3VzZW1vdmUnLCBkcmFnbW92ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGxmdDwwKXtcclxuICAgICAgICAgICAgICAgIGJhci51bmJpbmQoJ21vdXNlbW92ZScsIGRyYWdtb3ZlKTtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRyYWcuY3NzKCdsZWZ0JyxsZnQpO1xyXG4gICAgICAgICAgICBjb3Zlci5jc3MoJ3dpZHRoJyxsZnQpO1xyXG4gICAgICAgICAgICBpZihjb3Zlci53aWR0aCgpIDw9IF93aWR0aDUwKSB3ZWJEYXRhLmRyYWdzY29yZSA9IE1hdGgucm91bmQoY292ZXIud2lkdGgoKSAvIF93aWR0aDUwICogNSk7XHJcbiAgICAgICAgICAgIGVsc2Ugd2ViRGF0YS5kcmFnc2NvcmUgPSA1ICsgTWF0aC5yb3VuZCgoY292ZXIud2lkdGgoKS1fd2lkdGg1MCkgLyBfd2lkdGg1MCAqIDE1KTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgY291bnRTY29yZV90cnVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY291bnRTY29yZV90cnVlKCl7XHJcbiAgICAgICAgd2ViRGF0YS5ub3dzY29yZSA9IDA7XHJcbiAgICAgICAgLy9pdGVtXHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTwkKCcucTFhbnMnKS5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYoJCgnLnExYW5zJykuZXEoaSkuaGFzQ2xhc3MoJ29uJykpIHdlYkRhdGEubm93c2NvcmUgPSB3ZWJEYXRhLm5vd3Njb3JlICsgJCgnLnExYW5zJykuZXEoaSkuYXR0cignZGF0YS1zY29yZScpKjE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZHJhZ1xyXG4gICAgICAgIHdlYkRhdGEubm93c2NvcmUgPSB3ZWJEYXRhLm5vd3Njb3JlICsgd2ViRGF0YS5kcmFnc2NvcmU7XHJcbiAgICAgICAgd2ViRGF0YS5ub3dzY29yZXBlcmNlbnQgPSBNYXRoLnJvdW5kKHdlYkRhdGEubm93c2NvcmUgLyA4NSAgKiAxMDApIC0gMTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndlYkRhdGEuZHJhZ3Njb3JlOlwiICsgd2ViRGF0YS5kcmFnc2NvcmUgKyBcIi9cIiArIFwid2ViRGF0YS5ub3dzY29yZTpcIit3ZWJEYXRhLm5vd3Njb3JlICsgXCIvXCIgKyBcIndlYkRhdGEubm93c2NvcmVwZXJjZW50OlwiICt3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudCk7XHJcbiAgICAgICAgd2ViRGF0YS5wcmVzY29yZSA9IHdlYkRhdGEubm93c2NvcmU7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjb3VudFNjb3JlKF9vKXtcclxuICAgICAgICBpZihfby5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnbXVsdGknKSl7XHJcbiAgICAgICAgICAgIC8vbXVsdGlwbGUgXHJcbiAgICAgICAgICAgIGlmKF9vLmhhc0NsYXNzKCdvbicpKSBfby5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKF9vLmhhc0NsYXNzKCdmb3JxM2NoZWNrJykpIF9vLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5xMWFucycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSAkKCcuZm9ycTNjaGVjaycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgX28uYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9zaW5nbGVcclxuICAgICAgICAgICAgX28ucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnExYW5zJykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIF9vLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZigkKCcuZm9ycTJjaGVjaycpLmhhc0NsYXNzKCdvbicpKXtcclxuICAgICAgICAgICAgJCgnLmRhdGFib3ggLmJhciAubGlnaHQnKS5hdHRyKCdzdHlsZScsJycpO1xyXG4gICAgICAgICAgICAkKCcuZGF0YWJveCAuYmFyIC5jb3ZlcicpLmF0dHIoJ3N0eWxlJywnJyk7XHJcbiAgICAgICAgICAgIHdlYkRhdGEuZHJhZ3Njb3JlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY291bnRTY29yZV90cnVlKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzaG93bWVudShfdCl7XHJcbiAgICBcdGlmKF90KXtcclxuICAgIFx0XHQkKCcubWVudURvbScpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgXHR9ZWxzZXtcclxuICAgIFx0XHQkKCcubWVudURvbScpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgXHR9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VwYWdlM1NjZW5lcygpe1xyXG4gICAgICAgIHZhciBfdG1wID0gJyc7ICAgICAgICBcclxuICAgICAgICBpZih3ZWJEYXRhLnBhZ2Uzc2NlbmVzIT0xKSBfdG1wID0gJyBzY2VuZXMnICsgd2ViRGF0YS5wYWdlM3NjZW5lcztcclxuICAgICAgICBlbHNle3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjaGFuZ2VDaXR5KCk7fSwxNTAwKTt9XHJcbiAgICAgICAgJCgnLndyYXBwZXJpbiAucGFnZTMgLnNjZW5lc19hbGwnKS5hdHRyKCdjbGFzcycsJ3NjZW5lc19hbGwnICsgX3RtcCk7XHJcbiAgICAgICAgJCgnLndyYXBwZXJpbiAucGFnZTMgLnNjZW5lc19hbGwgLnNjZW5lcycpLnN0b3AoKS5mYWRlT3V0KCkuZXEod2ViRGF0YS5wYWdlM3NjZW5lcyAtIDEpLnN0b3AoKS5mYWRlSW4oMzAwLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMnKS5lcSh3ZWJEYXRhLnBhZ2Uzc2NlbmVzLTEpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMgLmNvbnRlbnQnKS5oaWRlKCk7XHJcbiAgICAgICAgaWYod2ViRGF0YS5wYWdlMWhhc3BsYXkpICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMyIC5idG4xIGEnKS5oaWRlKCkuZXEoMSkuc2hvdygpO1xyXG4gICAgICAgIGVsc2UgJCgnLndyYXBwZXJpbiAucGFnZTMgLnNjZW5lc19hbGwgLnNjZW5lczIgLmJ0bjEgYScpLmhpZGUoKS5lcSgwKS5zaG93KCk7XHJcbiAgICAgICAgaWYod2ViRGF0YS5wZzN0aW1lb3V0KSBjbGVhclRpbWVvdXQod2ViRGF0YS5wZzN0aW1lb3V0KTtcclxuICAgICAgICB3ZWJEYXRhLnBnM3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UzIC5zY2VuZXNfYWxsIC5zY2VuZXMnKS5lcSh3ZWJEYXRhLnBhZ2Uzc2NlbmVzLTEpLmZpbmQoJy5jb250ZW50JykuZmFkZUluKCk7XHJcbiAgICAgICAgfSwxMzAwKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZXBhZ2UxU2NlbmVzKCl7XHJcbiAgICAgICAgdmFyIF90bXAgPSAnJzsgICAgICAgICAgXHJcbiAgICAgICAgaWYod2ViRGF0YS5wYWdlMXNjZW5lcyE9MSkgX3RtcCA9ICcgc2NlbmVzJyArIHdlYkRhdGEucGFnZTFzY2VuZXM7XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdHJ5e3dlYkRhdGEubGlnaHRTdGFnZW1vdmllLmdvdG9BbmRQbGF5KDApO31jYXRjaChlcnIpe31cclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLndyYXBwZXJpbiAucGFnZTEgLnNjZW5lc19hbGwnKS5hdHRyKCdjbGFzcycsJ3NjZW5lc19hbGwnICsgX3RtcCk7XHJcbiAgICAgICAgJCgnLndyYXBwZXJpbiAucGFnZTEgLnNjZW5lc19hbGwgLnNjZW5lcycpLnN0b3AoKS5mYWRlT3V0KCkuZXEod2ViRGF0YS5wYWdlMXNjZW5lcyAtIDEpLnN0b3AoKS5mYWRlSW4oMzAwLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy53cmFwcGVyaW4gLnBhZ2UxIC5zY2VuZXNfYWxsIC5zY2VuZXMnKS5lcSh3ZWJEYXRhLnBhZ2Uxc2NlbmVzLTEpLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICAgICAgaWYod2ViRGF0YS5wYWdlMXNjZW5lcz09Mil7XHJcbiAgICAgICAgICAgIHdlYkRhdGEubm93c2NvcmUgPSAwO1xyXG4gICAgICAgICAgICB3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudCA9IDA7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucHJlc2NvcmUgPSAwO1xyXG4gICAgICAgICAgICB3ZWJEYXRhLmRyYWdzY29yZSA9IDA7XHJcbiAgICAgICAgICAgIHdlYkRhdGEudHJlZUJpZ0ZyYW1lID0gMDsgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod2ViRGF0YS5wYWdlMXNjZW5lcz09Myl7XHJcbiAgICAgICAgICAgIHdlYkRhdGEudHJlZVNtYWxsRnJhbWUgPSAwO1xyXG4gICAgICAgICAgICBwYWdlMXNlY2VuZXMzYW5pKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHBhZ2Uxc2VjZW5lczNhbmkoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFnZTFzZWNlbmVzM2FuaShfdCl7XHJcbiAgICAgICAgdmFyIF9zY2VuZXMzID0gJCgnLndyYXBwZXJpbiAucGFnZTEgLnNjZW5lc19hbGwgLnNjZW5lczMnKTsgICAgICAgIFxyXG4gICAgICAgIGlmKF90KXtcclxuICAgICAgICAgICAgd2ViRGF0YS5wYWdlMWhhc3BsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICBfc2NlbmVzMy5maW5kKCcuc2NvcmUnKS5odG1sKDApO1xyXG4gICAgICAgICAgICBpZih3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudDw9NDApIF9zY2VuZXMzLmZpbmQoJy5zJykuaGlkZSgpLmVxKDApLnNob3coKTtcclxuICAgICAgICAgICAgZWxzZSBpZih3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudD40MCAmJiB3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudDw9ODApIF9zY2VuZXMzLmZpbmQoJy5zJykuaGlkZSgpLmVxKDEpLnNob3coKTtcclxuICAgICAgICAgICAgZWxzZSBpZih3ZWJEYXRhLm5vd3Njb3JlcGVyY2VudD44MCkgX3NjZW5lczMuZmluZCgnLnMnKS5oaWRlKCkuZXEoMikuc2hvdygpO1xyXG4gICAgICAgICAgICBfc2NlbmVzMy5maW5kKCcuY29udGVudCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgaWYod2ViRGF0YS5wZzFTM3RpbWVvdXQpIGNsZWFyVGltZW91dCh3ZWJEYXRhLnBnMVMzdGltZW91dCk7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucGcxUzN0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpeyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIF9zY2VuZXMzLmZpbmQoJy5jb250ZW50JykuZmFkZUluKDMwMCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2Uxc2VjZW5lczNTY29yZWFuaSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sMTMwMCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIF9zY2VuZXMzLmZpbmQoJy5jb250ZW50JykuZmFkZU91dCgpO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFnZTFzZWNlbmVzM1Njb3JlYW5pKCl7XHJcbiAgICAgICAgdmFyIF9zY29yZSA9ICQoJy53cmFwcGVyaW4gLnBhZ2UxIC5zY2VuZXNfYWxsIC5zY2VuZXMzIC5zY29yZScpO1xyXG4gICAgICAgIHZhciBfbm93bnVtYmVyID0gX3Njb3JlLnRleHQoKTtcclxuICAgICAgICBpZihfbm93bnVtYmVyIDwgd2ViRGF0YS5ub3dzY29yZXBlcmNlbnQpe1xyXG4gICAgICAgICAgICBfbm93bnVtYmVyPV9ub3dudW1iZXIqMSArIDE7XHJcbiAgICAgICAgICAgIHdlYkRhdGEudHJlZVNtYWxsRnJhbWUgPSBfbm93bnVtYmVyO1xyXG4gICAgICAgICAgICB3ZWJEYXRhLnBnMVMzdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwYWdlMXNlY2VuZXMzU2NvcmVhbmkoKTt9LDMzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3Njb3JlLmh0bWwoX25vd251bWJlcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VQYWdlKCl7XHJcbiAgICAgICAgJCgnLnNjZW5lc19hbGwgLnNjZW5lcycpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICQoJy5mb3Jsb2FkJykucmVtb3ZlQ2xhc3MoJ29uJykuc3RvcCgpLmZhZGVPdXQoKTtcclxuICAgICAgICAkKCcucGFnZScgKyB3ZWJEYXRhLm5vd3BhZ2UpLnN0b3AoKS5mYWRlSW4oMzAwLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5wYWdlJyArIHdlYkRhdGEubm93cGFnZSkuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJ5e3dlYkRhdGEubGlnaHRTdGFnZW1vdmllLmdvdG9BbmRTdG9wKDEpO31jYXRjaChlcnIpe31cclxuICAgICAgICBpZih3ZWJEYXRhLm5vd3BhZ2U9PTEpIGNoYW5nZXBhZ2UxU2NlbmVzKCk7XHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dwYWdlPT0yKXtcclxuICAgICAgICAgICAgJCgnLnBhZ2UyJykuZmluZCgnLmNvbnRlbnQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGlmKHdlYkRhdGEucGczdGltZW91dCkgY2xlYXJUaW1lb3V0KHdlYkRhdGEucGczdGltZW91dCk7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucGczdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQoJy5wYWdlMicpLmZpbmQoJy5jb250ZW50JykuZmFkZUluKDMwMCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHdlYkRhdGEucHJpdmFjeSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpPD02NDApICQoJ2JvZHksaHRtbCcpLmFuaW1hdGUoe3Njcm9sbFRvcDokKCcucGFnZTIgLmNvbnRlbnQgLnRfYmlnJykub2Zmc2V0KCkudG9wLTkwfSw1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlICQoJy5wYWdlMiAuY29udGVudCcpLm1DdXN0b21TY3JvbGxiYXIoJ3Njcm9sbFRvJywkKCcucGFnZTIgLmNvbnRlbnQgLnRfYmlnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoJy5wYWdlMiAuY29udGVudCcpLm1DdXN0b21TY3JvbGxiYXIoJ3Njcm9sbFRvJywwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LDEzMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih3ZWJEYXRhLm5vd3BhZ2U9PTQpe1xyXG4gICAgICAgICAgICAgJCgnLnBhZ2U0JykuZmluZCgnLmNvbnRlbnQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGlmKHdlYkRhdGEucGczdGltZW91dCkgY2xlYXJUaW1lb3V0KHdlYkRhdGEucGczdGltZW91dCk7XHJcbiAgICAgICAgICAgIHdlYkRhdGEucGczdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQoJy5wYWdlNCcpLmZpbmQoJy5jb250ZW50JykuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICBpZighZGV2aWNlLm1vYmlsZSgpKSB3ZWJEYXRhLnBsYXllci5wbGF5VmlkZW8oKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sMTMwMCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRyeXtcclxuICAgICAgICAgICAgICAgIGlmKCFkZXZpY2UubW9iaWxlKCkpIHdlYkRhdGEucGxheWVyLnBhdXNlVmlkZW8oKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2goZXJyKXt9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHdlYkRhdGEubm93cGFnZT09NSl7XHJcbiAgICAgICAgICAgICAkKCcucGFnZTUnKS5maW5kKCcuY29udGVudCcpLnNob3coKTsgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYod2ViRGF0YS5ub3dwYWdlPT0zKXtcclxuICAgICAgICAgICAgJCgnLmZvb3RlciAuZ29idG4nKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZXBhZ2UzU2NlbmVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgJCgnLmZvb3RlciAuZ29idG4nKS5mYWRlSW4oKTtcclxuICAgIFx0d2ViRGF0YS53cnAuYXR0cignY2xhc3MnLCd3cmFwcGVyJykuYWRkQ2xhc3MoJ3BhZ2UnICsgd2ViRGF0YS5ub3dwYWdlKTtcclxuICAgIFx0d2ViRGF0YS5wcmVwYWdlID0gd2ViRGF0YS5ub3dwYWdlOyAgICBcdFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5pdE1hcCgpe1xyXG4gICAgICAgIC8vSW5zZXJ0IENpdHkgRGF0YVxyXG4gICAgICAgIHdlYkRhdGEubm93Q2l0eSA9IDA7ICAgICAgICBcclxuICAgICAgICAkKCcubWFwZGF0YSAuY2l0eScpLmh0bWwoJycpO1xyXG4gICAgICAgIGZvcihpIGluIHdlYkRhdGEuc2hvcGRhdGEpICQoJy5tYXBkYXRhIC5jaXR5JykuYXBwZW5kKCc8b3B0aW9uPicrIHdlYkRhdGEuc2hvcGRhdGFbaV0uY2l0eSArJzwvb3B0aW9uPicpO1xyXG4gICAgICAgICQoJy5tYXBkYXRhIC5jaXR5JykuY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHdlYkRhdGEubm93Q2l0eSA9ICQoJy5tYXBkYXRhIC5jaXR5IG9wdGlvbjpzZWxlY3RlZCcpLmluZGV4KCk7XHJcbiAgICAgICAgICAgIGNoYW5nZUNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubWFwZGF0YSAuYXJlYScpLmNoYW5nZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB3ZWJEYXRhLm5vd0FyZWEgPSAkKCcubWFwZGF0YSAuYXJlYSBvcHRpb246c2VsZWN0ZWQnKS5pbmRleCgpO1xyXG4gICAgICAgICAgICBjaGFuZ2VBcmVhKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vU3RhcnRcclxuICAgICAgICB3ZWJEYXRhLkhhc0NvbXBsZXQgKz0gMTtcclxuICAgICAgICBjaGVja0xvYWRpbmcoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZUNpdHkoKXtcclxuICAgICAgICB3ZWJEYXRhLm5vd0FyZWEgPSAwO1xyXG4gICAgICAgICQoJy5tYXBkYXRhIC5hcmVhJykuaHRtbCgnJyk7XHJcbiAgICAgICAgZm9yKGkgaW4gd2ViRGF0YS5zaG9wZGF0YVt3ZWJEYXRhLm5vd0NpdHldLlNUT1JFUykgJCgnLm1hcGRhdGEgLmFyZWEnKS5hcHBlbmQoJzxvcHRpb24+Jysgd2ViRGF0YS5zaG9wZGF0YVt3ZWJEYXRhLm5vd0NpdHldLlNUT1JFU1tpXS5TVE9SRSArJzwvb3B0aW9uPicpO1xyXG4gICAgICAgIGNoYW5nZUFyZWEoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNoYW5nZUFyZWEoKXtcclxuICAgICAgICAkKCcuc2hvcF9hZGRyJykuaHRtbCh3ZWJEYXRhLnNob3BkYXRhW3dlYkRhdGEubm93Q2l0eV0uU1RPUkVTW3dlYkRhdGEubm93QXJlYV0uQUREUkVTUyk7XHJcbiAgICAgICAgJCgnLmxhc3RudW1iZXInKS5maW5kKCdzcGFuJykuaHRtbCh3ZWJEYXRhLnNob3BkYXRhW3dlYkRhdGEubm93Q2l0eV0uU1RPUkVTW3dlYkRhdGEubm93QXJlYV0uUVRZKTtcclxuICAgICAgICB2YXIgX3Nob3AgPSB3ZWJEYXRhLnNob3BkYXRhW3dlYkRhdGEubm93Q2l0eV0uU1RPUkVTW3dlYkRhdGEubm93QXJlYV07XHJcbiAgICAgICAgd2ViRGF0YS5tYXBPcHRpb25zID0ge3pvb206IDE4LGNlbnRlcjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhfc2hvcC5MQVQsIF9zaG9wLkxORyl9XHJcbiAgICAgICAgd2ViRGF0YS5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXBDYW52YXMnKSx3ZWJEYXRhLm1hcE9wdGlvbnMpOyBcclxuICAgICAgICB2YXIgYmVhY2hNYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhfc2hvcC5MQVQsIF9zaG9wLkxORyksbWFwOiB3ZWJEYXRhLm1hcCxpY29uOiB3ZWJEYXRhLm1hcGltYWdlfSk7XHJcbiAgICAgICAgd2ViRGF0YS5tYXAuc2V0Q2VudGVyKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoX3Nob3AuTEFULCBfc2hvcC5MTkcpKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZpZGVvKF9pZCl7XHJcbiAgICAgICAgd2ViRGF0YS5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCdwbGF5ZXInLCB7XHJcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICB2aWRlb0lkOiBfaWQsXHJcbiAgICAgICAgICBwbGF5ZXJWYXJzOntcclxuICAgICAgICAgICAgJ2NvbnRyb2xzJzoxLFxyXG4gICAgICAgICAgICAnYXV0b3BsYXknOmZhbHNlLFxyXG4gICAgICAgICAgICAnZW5hYmxlanNhcGknOicwJyxcclxuICAgICAgICAgICAgJ2hkJzonMScsXHJcbiAgICAgICAgICAgICdyZWwnOicwJyxcclxuICAgICAgICAgICAgJ3Nob3dpbmZvJzonMCcsXHJcbiAgICAgICAgICAgICdtb2Rlc3RicmFuZGluZyc6JzEnLFxyXG4gICAgICAgICAgICAnY2NfbG9hZF9wb2xpY3knOicxJyxcclxuICAgICAgICAgICAgJ3dtb2RlJzondHJhbnNwYXJlbnQnICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICAgICBcclxuICAgIH0gICAgXHJcbiAgICBmdW5jdGlvbiBjaGVja0xvYWRpbmcoKXtcclxuICAgICAgICBpZih3ZWJEYXRhLkhhc0NvbXBsZXQgPj0gMikgc2hvd0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGVsc2Ugc2V0VGltZW91dChmdW5jdGlvbigpe2NoZWNrTG9hZGluZygpO30sMzAwKTsgICAgIFxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYWRkckNoYW5nZSgpe1xyXG4gICAgXHR2YXIgdmFsdWUgPSAkLmFkZHJlc3MudmFsdWUoKTtcclxuXHRcdHN3aXRjaCh2YWx1ZSkge1xyXG5cdFx0XHRjYXNlICcvJzpcclxuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaW5kZXguaHRtbCMvcGFnZTFcIjtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJy9wYWdlMSc6XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ+eJmem9puaApeiouuWupCcpO1xyXG5cdFx0XHRcdHdlYkRhdGEubm93cGFnZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnBhZ2Uxc2NlbmVzID0gMTtcclxuXHRcdFx0YnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJy9wYWdlMT9zY2VuZXM9Mic6XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygn54mZ6b2m57eK5oCl5qqi5p+lJyk7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLm5vd3BhZ2UgPSAxO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5wYWdlMXNjZW5lcyA9IDI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcvcGFnZTE/c2NlbmVzPTMnOlxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+iouuaWt+e1kOaenCcpO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5ub3dwYWdlID0gMTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEucGFnZTFzY2VuZXMgPSAzO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHRcdFx0Y2FzZSAnL3BhZ2UyJzpcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygn54mZ6b2m5rGC6Ki66aCI55+lJyk7XHJcblx0XHRcdFx0d2ViRGF0YS5ub3dwYWdlID0gMjtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEucHJpdmFjeSA9IGZhbHNlO1xyXG5cdFx0XHRicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnL3BhZ2UyP3NjZW5lcz0yJzpcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCflgIvkurros4fmlpnlkIzmhI/mm7gnKTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEubm93cGFnZSA9IDI7XHJcbiAgICAgICAgICAgICAgICB3ZWJEYXRhLnByaXZhY3kgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhazsgICAgICAgICAgICBcclxuXHRcdFx0Y2FzZSAnL3BhZ2UzJzpcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygn56uL5Y2z57Si5Y+WJyk7XHJcblx0XHRcdFx0d2ViRGF0YS5ub3dwYWdlID0gMztcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEucGFnZTNzY2VuZXMgPSAxO1xyXG5cdFx0XHRicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnL3BhZ2UzP2FuZHknOlxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+e0ouWPlue1kOaenCcpO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5ub3dwYWdlID0gMztcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEucGFnZTNzY2VuZXMgPSAyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnL3BhZ2U0JzpcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfmlZHmlZHniZnpvaZUVkMnKTtcclxuICAgICAgICAgICAgICAgIHdlYkRhdGEubm93cGFnZSA9IDQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICcvcGFnZTUnOlxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ+eJmem9puWBpeW6t+iHquaVkeazlScpO1xyXG4gICAgICAgICAgICAgICAgd2ViRGF0YS5ub3dwYWdlID0gNTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaW5kZXguaHRtbCMvcGFnZTFcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblx0XHR9XHJcbiAgICAgICAgaWYod2ViRGF0YS5IYXNDb21wbGV0ID49IDIpIGNoYW5nZVBhZ2UoKTtcdFx0XHJcbiAgICB9XHJcbiAgXHRmdW5jdGlvbiBzaG93TG9hZGluZyhfdCl7XHJcbiAgXHRcdGlmKF90KSAkKCcubG9hZGluZycpLmZhZGVJbigpO1xyXG4gIFx0XHRlbHNlICQoJy5sb2FkaW5nJykuZmFkZU91dCgpO1xyXG4gIFx0fVxyXG59KS8vcmVhZHkgZW5kICBcclxuZnVuY3Rpb24gZ2V0VXJsVmFycygpe1xyXG4gICAgdmFyIHZhcnM9W10saGFzaDt2YXIgaGFzaGVzPXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSsxKS5zcGxpdCgnJicpO1xyXG4gICAgZm9yKHZhciBpPTA7aTxoYXNoZXMubGVuZ3RoO2krKyl7aGFzaD1oYXNoZXNbaV0uc3BsaXQoJz0nKTt2YXJzLnB1c2goaGFzaFswXSk7dmFyc1toYXNoWzBdXT1oYXNoWzFdfVxyXG4gICAgcmV0dXJuIHZhcnNcclxufVxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
