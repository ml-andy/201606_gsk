!function(t){t.address=function(){var e,r,n=function(e){var r=t.extend(t.Event(e),function(){for(var e={},r=t.address.parameterNames(),n=0,a=r.length;a>n;n++)e[r[n]]=t.address.parameter(r[n]);return{value:t.address.value(),path:t.address.path(),pathNames:t.address.pathNames(),parameterNames:r,parameters:e,queryString:t.address.queryString()}}.call(t.address));return t(t.address).trigger(r),r},a=function(t){return Array.prototype.slice.call(t)},i=function(e,r,n){return t().bind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},s=function(e,r){return t().unbind.apply(t(t.address),Array.prototype.slice.call(arguments)),t.address},o=function(){return B.pushState&&F.state!==e},c=function(){return("/"+P.pathname.replace(new RegExp(F.state),"")+P.search+(u()?"#"+u():"")).replace(K,"/")},u=function(){var t=P.href.indexOf("#");return-1!=t?P.href.substr(t+1):""},d=function(){return o()?c():u()},l=function(){try{return top.document!==e&&top.document.title!==e&&top.jQuery!==e&&top.jQuery.address!==e&&top.jQuery.address.frames()!==!1?top:window}catch(t){return window}},p=function(){return"javascript"},h=function(t){return t=t.toString(),(F.strict&&"/"!=t.substr(0,1)?"/":"")+t},f=function(t,e){return parseInt(t.css(e),10)},v=function(){if(!Y){var t=d(),e=decodeURI(rt)!=decodeURI(t);e&&(W&&7>C?P.reload():(W&&!H&&F.history&&D(y,50),rt=t,g(O)))}},g=function(t){return D(m,10),n(A).isDefaultPrevented()||n(t?q:N).isDefaultPrevented()},m=function(){if("null"!==F.tracker&&F.tracker!==I){var r=t.isFunction(F.tracker)?F.tracker:_[F.tracker],n=(P.pathname+P.search+(t.address&&!o()?t.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");t.isFunction(r)?r(n):(t.isFunction(_.urchinTracker)&&_.urchinTracker(n),_.pageTracker!==e&&t.isFunction(_.pageTracker._trackPageview)&&_.pageTracker._trackPageview(n),_._gaq!==e&&t.isFunction(_._gaq.push)&&_._gaq.push(["_trackPageview",decodeURI(n)]),t.isFunction(_.ga)&&_.ga("send","pageview",n))}},y=function(){var t=p()+":"+O+";document.open();document.writeln('<html><head><title>"+z.title.replace(/\'/g,"\\'")+"</title><script>var "+U+' = "'+encodeURIComponent(d()).replace(/\'/g,"\\'")+(z.domain!=P.hostname?'";document.domain="'+z.domain:"")+"\";</script></head></html>');document.close();";7>C?r.src=t:r.contentWindow.location.replace(t)},w=function(){if(J&&-1!=V){var t,e,r=J.substr(V+1).split("&");for(t=0;t<r.length;t++)e=r[t].split("="),/^(autoUpdate|history|strict|wrap)$/.test(e[0])&&(F[e[0]]=isNaN(e[1])?/^(true|yes)$/i.test(e[1]):0!==parseInt(e[1],10)),/^(state|tracker)$/.test(e[0])&&(F[e[0]]=e[1]);J=I}rt=d()},b=function(){if(!Z){if(Z=$,w(),t('a[rel*="address:"]').address(),F.wrap){var a=t("body");t("body > *").wrapAll('<div style="padding:'+(f(a,"marginTop")+f(a,"paddingTop"))+"px "+(f(a,"marginRight")+f(a,"paddingRight"))+"px "+(f(a,"marginBottom")+f(a,"paddingBottom"))+"px "+(f(a,"marginLeft")+f(a,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+U+'" style="height:100%;overflow:auto;position:relative;'+(M&&!window.statusbar.visible?"resize:both;":"")+'" />');t("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),M&&t('<style type="text/css" />').appendTo("head").text("#"+U+"::-webkit-resizer { background-color: #fff; }")}if(W&&!H){var i=z.getElementsByTagName("frameset")[0];r=z.createElement((i?"":"i")+"frame"),r.src=p()+":"+O,i?(i.insertAdjacentElement("beforeEnd",r),i[i.cols?"cols":"rows"]+=",0",r.noResize=$,r.frameBorder=r.frameSpacing=0):(r.style.display="none",r.style.width=r.style.height=0,r.tabIndex=-1,z.body.insertAdjacentElement("afterBegin",r)),D(function(){t(r).bind("load",function(){var t=r.contentWindow;rt=t[U]!==e?t[U]:"",rt!=d()&&(g(O),P.hash=rt)}),r.contentWindow[U]===e&&y()},50)}D(function(){n("init"),g(O)},1),o()||(W&&C>7||!W&&H?_.addEventListener?_.addEventListener(R,v,O):_.attachEvent&&_.attachEvent("on"+R,v):Q(v,50)),"state"in window.history&&t(window).trigger("popstate")}},x=function(){decodeURI(rt)!=decodeURI(d())&&(rt=d(),g(O))},k=function(){_.removeEventListener?_.removeEventListener(R,v,O):_.detachEvent&&_.detachEvent("on"+R,v)},E=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},S=function(){var t={},e=E(navigator.userAgent);return e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t},I=null,U="jQueryAddress",j="string",R="hashchange",T="init",A="change",q="internalChange",N="externalChange",$=!0,O=!1,F={autoUpdate:$,history:$,strict:$,frames:$,wrap:O},L=S(),C=parseFloat(L.version),M=L.webkit||L.safari,W=L.msie,_=l(),z=_.document,B=_.history,P=_.location,Q=setInterval,D=setTimeout,K=/\/{2,9}/g,G=navigator.userAgent,H="on"+R in _,J=t("script:last").attr("src"),V=J?J.indexOf("?"):-1,X=z.title,Y=O,Z=O,tt=$,et=O,rt=d();if(W){C=parseFloat(G.substr(G.indexOf("MSIE")+4)),z.documentMode&&z.documentMode!=C&&(C=8!=z.documentMode?7:8);var nt=z.onpropertychange;z.onpropertychange=function(){nt&&nt.call(z),z.title!=X&&-1!=z.title.indexOf("#"+d())&&(z.title=X)}}if(B.navigationMode&&(B.navigationMode="compatible"),"complete"==document.readyState)var at=setInterval(function(){t.address&&(b(),clearInterval(at))},50);else w(),t(b);return t(window).bind("popstate",x).bind("unload",k),{bind:function(t,e,r){return i.apply(this,a(arguments))},unbind:function(t,e){return s.apply(this,a(arguments))},init:function(t,e){return i.apply(this,[T].concat(a(arguments)))},change:function(t,e){return i.apply(this,[A].concat(a(arguments)))},internalChange:function(t,e){return i.apply(this,[q].concat(a(arguments)))},externalChange:function(t,e){return i.apply(this,[N].concat(a(arguments)))},baseURL:function(){var t=P.href;return-1!=t.indexOf("#")&&(t=t.substr(0,t.indexOf("#"))),/\/$/.test(t)&&(t=t.substr(0,t.length-1)),t},autoUpdate:function(t){return t!==e?(F.autoUpdate=t,this):F.autoUpdate},history:function(t){return t!==e?(F.history=t,this):F.history},state:function(t){if(t!==e){F.state=t;var r=c();return F.state!==e&&(B.pushState?"/#/"==r.substr(0,3)&&P.replace(F.state.replace(/^\/$/,"")+r.substr(2)):"/"!=r&&r.replace(/^\/#/,"")!=u()&&D(function(){P.replace(F.state.replace(/^\/$/,"")+"/#"+r)},1)),this}return F.state},frames:function(t){return t!==e?(F.frames=t,_=l(),this):F.frames},strict:function(t){return t!==e?(F.strict=t,this):F.strict},tracker:function(t){return t!==e?(F.tracker=t,this):F.tracker},wrap:function(t){return t!==e?(F.wrap=t,this):F.wrap},update:function(){return et=$,this.value(rt),et=O,this},title:function(t){return t!==e?(D(function(){X=z.title=t,tt&&r&&r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.title=t,tt=O)},50),this):z.title},value:function(t){if(t!==e){if(t=h(t),"/"==t&&(t=""),rt==t&&!et)return;if(rt=t,F.autoUpdate||et){if(g($))return this;o()?B[F.history?"pushState":"replaceState"]({},"",F.state.replace(/\/$/,"")+(""===rt?"/":rt)):(Y=$,M?F.history?P.hash="#"+rt:P.replace("#"+rt):rt!=d()&&(F.history?P.hash="#"+rt:P.replace("#"+rt)),W&&!H&&F.history&&D(y,50),M?D(function(){Y=O},1):Y=O)}return this}return h(rt)},path:function(t){if(t!==e){var r=this.queryString(),n=this.hash();return this.value(t+(r?"?"+r:"")+(n?"#"+n:"")),this}return h(rt).split("#")[0].split("?")[0]},pathNames:function(){var t=this.path(),e=t.replace(K,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e},queryString:function(t){if(t!==e){var r=this.hash();return this.value(this.path()+(t?"?"+t:"")+(r?"#"+r:"")),this}var n=rt.split("?");return n.slice(1,n.length).join("?").split("#")[0]},parameter:function(r,n,a){var i,s;if(n!==e){var o=this.parameterNames();for(s=[],n=n===e||n===I?"":n.toString(),i=0;i<o.length;i++){var c=o[i],u=this.parameter(c);typeof u==j&&(u=[u]),c==r&&(u=n===I||""===n?[]:a?u.concat([n]):[n]);for(var d=0;d<u.length;d++)s.push(c+"="+u[d])}return-1==t.inArray(r,o)&&n!==I&&""!==n&&s.push(r+"="+n),this.queryString(s.join("&")),this}if(n=this.queryString()){var l=[];for(s=n.split("&"),i=0;i<s.length;i++){var p=s[i].split("=");p[0]==r&&l.push(p.slice(1).join("="))}if(0!==l.length)return 1!=l.length?l:l[0]}},parameterNames:function(){var e=this.queryString(),r=[];if(e&&-1!=e.indexOf("="))for(var n=e.split("&"),a=0;a<n.length;a++){var i=n[a].split("=")[0];-1==t.inArray(i,r)&&r.push(i)}return r},hash:function(t){if(t!==e)return this.value(rt.split("#")[0]+(t?"#"+t:"")),this;var r=rt.split("#");return r.slice(1,r.length).join("#")}}}(),t.fn.address=function(e){return t(this).each(function(r){t(this).data("address")||t(this).on("click",function(r){if(r.shiftKey||r.ctrlKey||r.metaKey||2==r.which)return!0;var n=r.currentTarget;if(t(n).is("a")){r.preventDefault();var a=e?e.call(n):/address:/.test(t(n).attr("rel"))?t(n).attr("rel").split("address:")[1].split(" ")[0]:void 0===t.address.state()||/^\/?$/.test(t.address.state())?t(n).attr("href").replace(/^(#\!?|\.)/,""):t(n).attr("href").replace(new RegExp("^(.*"+t.address.state()+"|\\.)"),"");t.address.value(a)}}).on("submit",function(r){var n=r.currentTarget;if(t(n).is("form")){r.preventDefault();var a=t(n).attr("action"),i=e?e.call(n):(-1!=a.indexOf("?")?a.replace(/&$/,""):a+"?")+t(n).serialize();t.address.value(i)}}).data("address",!0)}),this}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5hZGRyZXNzLmpzIl0sIm5hbWVzIjpbIiQiLCJhZGRyZXNzIiwiVU5ERUZJTkVEIiwiX2ZyYW1lIiwiX3RyaWdnZXIiLCJuYW1lIiwiZSIsImV4dGVuZCIsIkV2ZW50IiwicGFyYW1ldGVycyIsInBhcmFtZXRlck5hbWVzIiwiaSIsImwiLCJsZW5ndGgiLCJwYXJhbWV0ZXIiLCJ2YWx1ZSIsInBhdGgiLCJwYXRoTmFtZXMiLCJxdWVyeVN0cmluZyIsImNhbGwiLCJ0cmlnZ2VyIiwiX2FycmF5Iiwib2JqIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsIl9iaW5kIiwiZGF0YSIsImZuIiwiYmluZCIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3VuYmluZCIsInVuYmluZCIsIl9zdXBwb3J0c1N0YXRlIiwiX2giLCJwdXNoU3RhdGUiLCJfb3B0cyIsInN0YXRlIiwiX2hyZWZTdGF0ZSIsIl9sIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiUmVnRXhwIiwic2VhcmNoIiwiX2hyZWZIYXNoIiwiX3JlIiwiaW5kZXgiLCJocmVmIiwiaW5kZXhPZiIsInN1YnN0ciIsIl9ocmVmIiwiX3dpbmRvdyIsInRvcCIsImRvY3VtZW50IiwidGl0bGUiLCJqUXVlcnkiLCJmcmFtZXMiLCJ3aW5kb3ciLCJfanMiLCJfc3RyaWN0IiwidG9TdHJpbmciLCJzdHJpY3QiLCJfY3NzaW50IiwiZWwiLCJwYXJzZUludCIsImNzcyIsIl9saXN0ZW4iLCJfc2lsZW50IiwiaGFzaCIsImRpZmYiLCJkZWNvZGVVUkkiLCJfdmFsdWUiLCJfbXNpZSIsIl92ZXJzaW9uIiwicmVsb2FkIiwiX2hhc2hjaGFuZ2UiLCJoaXN0b3J5IiwiX3N0IiwiX2h0bWwiLCJfdXBkYXRlIiwiRkFMU0UiLCJpbnRlcm5hbCIsIl90cmFjayIsIkNIQU5HRSIsImlzRGVmYXVsdFByZXZlbnRlZCIsIklOVEVSTkFMX0NIQU5HRSIsIkVYVEVSTkFMX0NIQU5HRSIsInRyYWNrZXIiLCJOVUxMIiwiaXNGdW5jdGlvbiIsIl90IiwidXJjaGluVHJhY2tlciIsInBhZ2VUcmFja2VyIiwiX3RyYWNrUGFnZXZpZXciLCJfZ2FxIiwicHVzaCIsImdhIiwic3JjIiwiX2QiLCJJRCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRvbWFpbiIsImhvc3RuYW1lIiwiY29udGVudFdpbmRvdyIsImxvY2F0aW9uIiwiX29wdGlvbnMiLCJfdXJsIiwiX3FpIiwicGFyYW0iLCJwYXJhbXMiLCJzcGxpdCIsInRlc3QiLCJpc05hTiIsIl9sb2FkIiwiX2xvYWRlZCIsIlRSVUUiLCJ3cmFwIiwiYm9keSIsIndyYXBBbGwiLCJwYXJlbnQiLCJfd2Via2l0Iiwic3RhdHVzYmFyIiwidmlzaWJsZSIsImhlaWdodCIsIm1hcmdpbiIsInBhZGRpbmciLCJvdmVyZmxvdyIsImFwcGVuZFRvIiwidGV4dCIsImZyYW1lc2V0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiY29scyIsIm5vUmVzaXplIiwiZnJhbWVCb3JkZXIiLCJmcmFtZVNwYWNpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJ3aWR0aCIsInRhYkluZGV4Iiwid2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkhBU0hfQ0hBTkdFIiwiYXR0YWNoRXZlbnQiLCJfc2kiLCJfcG9wc3RhdGUiLCJfdW5sb2FkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiX3VhTWF0Y2giLCJ1YSIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJleGVjIiwiYnJvd3NlciIsInZlcnNpb24iLCJfZGV0ZWN0QnJvd3NlciIsIm1hdGNoZWQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjaHJvbWUiLCJ3ZWJraXQiLCJzYWZhcmkiLCJTVFJJTkciLCJJTklUIiwiYXV0b1VwZGF0ZSIsIl9icm93c2VyIiwicGFyc2VGbG9hdCIsIm1zaWUiLCJzZXRJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJfYWdlbnQiLCJhdHRyIiwiX3RpdGxlIiwiX2p1c3RzdGFydCIsIl91cGRhdGluZyIsImRvY3VtZW50TW9kZSIsInBjIiwib25wcm9wZXJ0eWNoYW5nZSIsIm5hdmlnYXRpb25Nb2RlIiwicmVhZHlTdGF0ZSIsImludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInR5cGUiLCJ0aGlzIiwiaW5pdCIsImNvbmNhdCIsImNoYW5nZSIsImludGVybmFsQ2hhbmdlIiwiZXh0ZXJuYWxDaGFuZ2UiLCJiYXNlVVJMIiwidXJsIiwiaHJlZlN0YXRlIiwidXBkYXRlIiwicXMiLCJuYW1lcyIsInNwbGljZSIsImFyciIsImpvaW4iLCJhcHBlbmQiLCJuIiwidiIsImoiLCJpbkFycmF5IiwiciIsInAiLCJlYWNoIiwib24iLCJzaGlmdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwid2hpY2giLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaXMiLCJwcmV2ZW50RGVmYXVsdCIsInVuZGVmaW5lZCIsImFjdGlvbiIsInNlcmlhbGl6ZSJdLCJtYXBwaW5ncyI6IkNBQ0EsU0FBV0EsR0FFUEEsRUFBRUMsUUFBVSxXQUVSLEdBNlBJQyxHQStCQUMsRUE1UkFDLEVBQVcsU0FBU0MsR0FDakIsR0FBSUMsR0FBSU4sRUFBRU8sT0FBT1AsRUFBRVEsTUFBTUgsR0FBTyxXQUczQixJQUFLLEdBRkRJLE1BQ0FDLEVBQWlCVixFQUFFQyxRQUFRUyxpQkFDdEJDLEVBQUksRUFBR0MsRUFBSUYsRUFBZUcsT0FBWUQsRUFBSkQsRUFBT0EsSUFDOUNGLEVBQVdDLEVBQWVDLElBQU1YLEVBQUVDLFFBQVFhLFVBQVVKLEVBQWVDLEdBRXZFLFFBQ0lJLE1BQU9mLEVBQUVDLFFBQVFjLFFBQ2pCQyxLQUFNaEIsRUFBRUMsUUFBUWUsT0FDaEJDLFVBQVdqQixFQUFFQyxRQUFRZ0IsWUFDckJQLGVBQWdCQSxFQUNoQkQsV0FBWUEsRUFDWlMsWUFBYWxCLEVBQUVDLFFBQVFpQixnQkFFNUJDLEtBQUtuQixFQUFFQyxTQUVWLE9BREFELEdBQUVBLEVBQUVDLFNBQVNtQixRQUFRZCxHQUNk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QUFRYyxNQUFNQSxNQUVyQlksS0FBSyxXQUFXLEtBR3BCK0osT0FHWmxJIiwiZmlsZSI6ImpxdWVyeS5hZGRyZXNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIGpRdWVyeSBBZGRyZXNzIHYke3ZlcnNpb259IHwgKGMpIDIwMDksIDIwMTMgUm9zdGlzbGF2IEhyaXN0b3YgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbihmdW5jdGlvbiAoJCkge1xuXG4gICAgJC5hZGRyZXNzID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgX3RyaWdnZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICB2YXIgZSA9ICQuZXh0ZW5kKCQuRXZlbnQobmFtZSksIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlck5hbWVzID0gJC5hZGRyZXNzLnBhcmFtZXRlck5hbWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFyYW1ldGVyTmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlck5hbWVzW2ldXSA9ICQuYWRkcmVzcy5wYXJhbWV0ZXIocGFyYW1ldGVyTmFtZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJC5hZGRyZXNzLnZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkLmFkZHJlc3MucGF0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5hbWVzOiAkLmFkZHJlc3MucGF0aE5hbWVzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lczogcGFyYW1ldGVyTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTdHJpbmc6ICQuYWRkcmVzcy5xdWVyeVN0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkuY2FsbCgkLmFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICAkKCQuYWRkcmVzcykudHJpZ2dlcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYmluZCA9IGZ1bmN0aW9uKHZhbHVlLCBkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgICQoKS5iaW5kLmFwcGx5KCQoJC5hZGRyZXNzKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQuYWRkcmVzcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdW5iaW5kID0gZnVuY3Rpb24odmFsdWUsICBmbikge1xuICAgICAgICAgICAgICAgICQoKS51bmJpbmQuYXBwbHkoJCgkLmFkZHJlc3MpLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hZGRyZXNzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zdXBwb3J0c1N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfaC5wdXNoU3RhdGUgJiYgX29wdHMuc3RhdGUgIT09IFVOREVGSU5FRCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hyZWZTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoJy8nICsgX2wucGF0aG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKF9vcHRzLnN0YXRlKSwgJycpICsgXG4gICAgICAgICAgICAgICAgICAgIF9sLnNlYXJjaCArIChfaHJlZkhhc2goKSA/ICcjJyArIF9ocmVmSGFzaCgpIDogJycpKS5yZXBsYWNlKF9yZSwgJy8nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaHJlZkhhc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfbC5ocmVmLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggIT0gLTEgPyBfbC5ocmVmLnN1YnN0cihpbmRleCArIDEpIDogJyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hyZWYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cHBvcnRzU3RhdGUoKSA/IF9ocmVmU3RhdGUoKSA6IF9ocmVmSGFzaCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93aW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9wLmRvY3VtZW50ICE9PSBVTkRFRklORUQgJiYgdG9wLmRvY3VtZW50LnRpdGxlICE9PSBVTkRFRklORUQgJiYgdG9wLmpRdWVyeSAhPT0gVU5ERUZJTkVEICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wLmpRdWVyeS5hZGRyZXNzICE9PSBVTkRFRklORUQgJiYgdG9wLmpRdWVyeS5hZGRyZXNzLmZyYW1lcygpICE9PSBmYWxzZSA/IHRvcCA6IHdpbmRvdztcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfanMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2phdmFzY3JpcHQnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zdHJpY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9vcHRzLnN0cmljdCAmJiB2YWx1ZS5zdWJzdHIoMCwgMSkgIT0gJy8nID8gJy8nIDogJycpICsgdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nzc2ludCA9IGZ1bmN0aW9uKGVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlbC5jc3ModmFsdWUpLCAxMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2xpc3RlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghX3NpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzaCA9IF9ocmVmKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmID0gZGVjb2RlVVJJKF92YWx1ZSkgIT0gZGVjb2RlVVJJKGhhc2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9tc2llICYmIF92ZXJzaW9uIDwgNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX21zaWUgJiYgIV9oYXNoY2hhbmdlICYmIF9vcHRzLmhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0KF9odG1sLCA1MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IGhhc2g7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3VwZGF0ZShGQUxTRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3VwZGF0ZSA9IGZ1bmN0aW9uKGludGVybmFsKSB7XG4gICAgICAgICAgICAgICAgX3N0KF90cmFjaywgMTApO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdHJpZ2dlcihDSEFOR0UpLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IFxuICAgICAgICAgICAgICAgICAgICBfdHJpZ2dlcihpbnRlcm5hbCA/IElOVEVSTkFMX0NIQU5HRSA6IEVYVEVSTkFMX0NIQU5HRSkuaXNEZWZhdWx0UHJldmVudGVkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3RyYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9vcHRzLnRyYWNrZXIgIT09ICdudWxsJyAmJiBfb3B0cy50cmFja2VyICE9PSBOVUxMKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9ICQuaXNGdW5jdGlvbihfb3B0cy50cmFja2VyKSA/IF9vcHRzLnRyYWNrZXIgOiBfdFtfb3B0cy50cmFja2VyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gKF9sLnBhdGhuYW1lICsgX2wuc2VhcmNoICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgkLmFkZHJlc3MgJiYgIV9zdXBwb3J0c1N0YXRlKCkgPyAkLmFkZHJlc3MudmFsdWUoKSA6ICcnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1xcLy8sICcvJykucmVwbGFjZSgvXlxcLyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihfdC51cmNoaW5UcmFja2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3QudXJjaGluVHJhY2tlcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChfdC5wYWdlVHJhY2tlciAhPT0gVU5ERUZJTkVEICYmICQuaXNGdW5jdGlvbihfdC5wYWdlVHJhY2tlci5fdHJhY2tQYWdldmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3QucGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3QuX2dhcSAhPT0gVU5ERUZJTkVEICYmICQuaXNGdW5jdGlvbihfdC5fZ2FxLnB1c2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90Ll9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3JywgZGVjb2RlVVJJKHZhbHVlKV0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKF90LmdhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5nYSgnc2VuZCcsICdwYWdldmlldycsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2h0bWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gX2pzKCkgKyAnOicgKyBGQUxTRSArICc7ZG9jdW1lbnQub3BlbigpO2RvY3VtZW50LndyaXRlbG4oXFwnPGh0bWw+PGhlYWQ+PHRpdGxlPicgKyBcbiAgICAgICAgICAgICAgICAgICAgX2QudGl0bGUucmVwbGFjZSgvXFwnL2csICdcXFxcXFwnJykgKyAnPC90aXRsZT48c2NyaXB0PnZhciAnICsgSUQgKyAnID0gXCInICsgZW5jb2RlVVJJQ29tcG9uZW50KF9ocmVmKCkpLnJlcGxhY2UoL1xcJy9nLCAnXFxcXFxcJycpICsgXG4gICAgICAgICAgICAgICAgICAgIChfZC5kb21haW4gIT0gX2wuaG9zdG5hbWUgPyAnXCI7ZG9jdW1lbnQuZG9tYWluPVwiJyArIF9kLmRvbWFpbiA6ICcnKSArIFxuICAgICAgICAgICAgICAgICAgICAnXCI7PC8nICsgJ3NjcmlwdD48L2hlYWQ+PC9odG1sPlxcJyk7ZG9jdW1lbnQuY2xvc2UoKTsnO1xuICAgICAgICAgICAgICAgIGlmIChfdmVyc2lvbiA8IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfZnJhbWUuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHNyYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKF91cmwgJiYgX3FpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpLCBwYXJhbSwgcGFyYW1zID0gX3VybC5zdWJzdHIoX3FpICsgMSkuc3BsaXQoJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSBwYXJhbXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXihhdXRvVXBkYXRlfGhpc3Rvcnl8c3RyaWN0fHdyYXApJC8udGVzdChwYXJhbVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3B0c1twYXJhbVswXV0gPSAoaXNOYU4ocGFyYW1bMV0pID8gL14odHJ1ZXx5ZXMpJC9pLnRlc3QocGFyYW1bMV0pIDogKHBhcnNlSW50KHBhcmFtWzFdLCAxMCkgIT09IDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXihzdGF0ZXx0cmFja2VyKSQvLnRlc3QocGFyYW1bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdHNbcGFyYW1bMF1dID0gcGFyYW1bMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3VybCA9IE5VTEw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF92YWx1ZSA9IF9ocmVmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2xvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV9sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX2xvYWRlZCA9IFRSVUU7XG4gICAgICAgICAgICAgICAgICAgIF9vcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2FbcmVsKj1cImFkZHJlc3M6XCJdJykuYWRkcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMud3JhcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSAkKCdib2R5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcCA9ICQoJ2JvZHkgPiAqJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXBBbGwoJzxkaXYgc3R5bGU9XCJwYWRkaW5nOicgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfY3NzaW50KGJvZHksICdtYXJnaW5Ub3AnKSArIF9jc3NpbnQoYm9keSwgJ3BhZGRpbmdUb3AnKSkgKyAncHggJyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpblJpZ2h0JykgKyBfY3NzaW50KGJvZHksICdwYWRkaW5nUmlnaHQnKSkgKyAncHggJyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jc3NpbnQoYm9keSwgJ21hcmdpbkJvdHRvbScpICsgX2Nzc2ludChib2R5LCAncGFkZGluZ0JvdHRvbScpKSArICdweCAnICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2Nzc2ludChib2R5LCAnbWFyZ2luTGVmdCcpICsgX2Nzc2ludChib2R5LCAncGFkZGluZ0xlZnQnKSkgKyAncHg7XCIgLz4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLndyYXAoJzxkaXYgaWQ9XCInICsgSUQgKyAnXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlOycgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfd2Via2l0ICYmICF3aW5kb3cuc3RhdHVzYmFyLnZpc2libGUgPyAncmVzaXplOmJvdGg7JyA6ICcnKSArICdcIiAvPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93ZWJraXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCIgLz4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJ2hlYWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgnIycgKyBJRCArICc6Oi13ZWJraXQtcmVzaXplciB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX21zaWUgJiYgIV9oYXNoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJhbWVzZXQgPSBfZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZnJhbWVzZXQnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9kLmNyZWF0ZUVsZW1lbnQoKGZyYW1lc2V0ID8gJycgOiAnaScpICsgJ2ZyYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuc3JjID0gX2pzKCkgKyAnOicgKyBGQUxTRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFtZXNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lc2V0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZXNldFtmcmFtZXNldC5jb2xzID8gJ2NvbHMnIDogJ3Jvd3MnXSArPSAnLDAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5ub1Jlc2l6ZSA9IFRSVUU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmZyYW1lQm9yZGVyID0gX2ZyYW1lLmZyYW1lU3BhY2luZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5zdHlsZS53aWR0aCA9IF9mcmFtZS5zdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS50YWJJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kLmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlckJlZ2luJywgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF9mcmFtZSkuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2luID0gX2ZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IHdpbltJRF0gIT09IFVOREVGSU5FRCA/IHdpbltJRF0gOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF92YWx1ZSAhPSBfaHJlZigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdXBkYXRlKEZBTFNFKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLmhhc2ggPSBfdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2ZyYW1lLmNvbnRlbnRXaW5kb3dbSURdID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RyaWdnZXIoJ2luaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF91cGRhdGUoRkFMU0UpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfc3VwcG9ydHNTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKF9tc2llICYmIF92ZXJzaW9uID4gNykgfHwgKCFfbXNpZSAmJiBfaGFzaGNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3QuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5hZGRFdmVudExpc3RlbmVyKEhBU0hfQ0hBTkdFLCBfbGlzdGVuLCBGQUxTRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdC5hdHRhY2hFdmVudCgnb24nICsgSEFTSF9DSEFOR0UsIF9saXN0ZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpKF9saXN0ZW4sIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3N0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3BvcHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3BvcHN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZVVSSShfdmFsdWUpICE9IGRlY29kZVVSSShfaHJlZigpKSkge1xuICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpO1xuICAgICAgICAgICAgICAgICAgICBfdXBkYXRlKEZBTFNFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3VubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90LnJlbW92ZUV2ZW50TGlzdGVuZXIoSEFTSF9DSEFOR0UsIF9saXN0ZW4sIEZBTFNFKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90LmRldGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90LmRldGFjaEV2ZW50KCdvbicgKyBIQVNIX0NIQU5HRSwgX2xpc3Rlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF91YU1hdGNoID0gZnVuY3Rpb24odWEpIHtcbiAgICAgICAgICAgICAgICB1YSA9IHVhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgICAgIC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyggdWEgKSB8fFxuICAgICAgICAgICAgICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgICAgIC8obXNpZSkgKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAgICAgICAgICAgICAgIHVhLmluZGV4T2YoJ2NvbXBhdGlibGUnKSA8IDAgJiYgLyhtb3ppbGxhKSg/Oi4qPyBydjooW1xcdy5dKyl8KS8uZXhlYyggdWEgKSB8fFxuICAgICAgICAgICAgICAgICAgICBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyOiBtYXRjaFsgMSBdIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBtYXRjaFsgMiBdIHx8ICcwJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2RldGVjdEJyb3dzZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnJvd3NlciA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gX3VhTWF0Y2gobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQuYnJvd3Nlcikge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyW21hdGNoZWQuYnJvd3Nlcl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyLnZlcnNpb24gPSBtYXRjaGVkLnZlcnNpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmNocm9tZSkge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyLndlYmtpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChicm93c2VyLndlYmtpdCkge1xuICAgICAgICAgICAgICAgICAgICBicm93c2VyLnNhZmFyaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBicm93c2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFVOREVGSU5FRCxcbiAgICAgICAgICAgIE5VTEwgPSBudWxsLFxuICAgICAgICAgICAgSUQgPSAnalF1ZXJ5QWRkcmVzcycsXG4gICAgICAgICAgICBTVFJJTkcgPSAnc3RyaW5nJyxcbiAgICAgICAgICAgIEhBU0hfQ0hBTkdFID0gJ2hhc2hjaGFuZ2UnLFxuICAgICAgICAgICAgSU5JVCA9ICdpbml0JyxcbiAgICAgICAgICAgIENIQU5HRSA9ICdjaGFuZ2UnLFxuICAgICAgICAgICAgSU5URVJOQUxfQ0hBTkdFID0gJ2ludGVybmFsQ2hhbmdlJyxcbiAgICAgICAgICAgIEVYVEVSTkFMX0NIQU5HRSA9ICdleHRlcm5hbENoYW5nZScsXG4gICAgICAgICAgICBUUlVFID0gdHJ1ZSxcbiAgICAgICAgICAgIEZBTFNFID0gZmFsc2UsXG4gICAgICAgICAgICBfb3B0cyA9IHtcbiAgICAgICAgICAgICAgICBhdXRvVXBkYXRlOiBUUlVFLCBcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiBUUlVFLCBcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IFRSVUUsXG4gICAgICAgICAgICAgICAgZnJhbWVzOiBUUlVFLFxuICAgICAgICAgICAgICAgIHdyYXA6IEZBTFNFXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Jyb3dzZXIgPSBfZGV0ZWN0QnJvd3NlcigpLFxuICAgICAgICAgICAgX3ZlcnNpb24gPSBwYXJzZUZsb2F0KF9icm93c2VyLnZlcnNpb24pLFxuICAgICAgICAgICAgX3dlYmtpdCA9IF9icm93c2VyLndlYmtpdCB8fCBfYnJvd3Nlci5zYWZhcmksXG4gICAgICAgICAgICBfbXNpZSA9IF9icm93c2VyLm1zaWUsXG4gICAgICAgICAgICBfdCA9IF93aW5kb3coKSxcbiAgICAgICAgICAgIF9kID0gX3QuZG9jdW1lbnQsXG4gICAgICAgICAgICBfaCA9IF90Lmhpc3RvcnksIFxuICAgICAgICAgICAgX2wgPSBfdC5sb2NhdGlvbixcbiAgICAgICAgICAgIF9zaSA9IHNldEludGVydmFsLFxuICAgICAgICAgICAgX3N0ID0gc2V0VGltZW91dCxcbiAgICAgICAgICAgIF9yZSA9IC9cXC97Miw5fS9nLFxuICAgICAgICAgICAgX2FnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIF9oYXNoY2hhbmdlID0gJ29uJyArIEhBU0hfQ0hBTkdFIGluIF90LFxuICAgICAgICAgICAgX2ZyYW1lLFxuICAgICAgICAgICAgX2Zvcm0sXG4gICAgICAgICAgICBfdXJsID0gJCgnc2NyaXB0Omxhc3QnKS5hdHRyKCdzcmMnKSxcbiAgICAgICAgICAgIF9xaSA9IF91cmwgPyBfdXJsLmluZGV4T2YoJz8nKSA6IC0xLFxuICAgICAgICAgICAgX3RpdGxlID0gX2QudGl0bGUsIFxuICAgICAgICAgICAgX3NpbGVudCA9IEZBTFNFLFxuICAgICAgICAgICAgX2xvYWRlZCA9IEZBTFNFLFxuICAgICAgICAgICAgX2p1c3RzdGFydCA9IFRSVUUsXG4gICAgICAgICAgICBfdXBkYXRpbmcgPSBGQUxTRSxcbiAgICAgICAgICAgIF9saXN0ZW5lcnMgPSB7fSwgXG4gICAgICAgICAgICBfdmFsdWUgPSBfaHJlZigpO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmIChfbXNpZSkge1xuICAgICAgICAgICAgX3ZlcnNpb24gPSBwYXJzZUZsb2F0KF9hZ2VudC5zdWJzdHIoX2FnZW50LmluZGV4T2YoJ01TSUUnKSArIDQpKTtcbiAgICAgICAgICAgIGlmIChfZC5kb2N1bWVudE1vZGUgJiYgX2QuZG9jdW1lbnRNb2RlICE9IF92ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgX3ZlcnNpb24gPSBfZC5kb2N1bWVudE1vZGUgIT0gOCA/IDcgOiA4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBjID0gX2Qub25wcm9wZXJ0eWNoYW5nZTtcbiAgICAgICAgICAgIF9kLm9ucHJvcGVydHljaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAocGMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGMuY2FsbChfZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfZC50aXRsZSAhPSBfdGl0bGUgJiYgX2QudGl0bGUuaW5kZXhPZignIycgKyBfaHJlZigpKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBfZC50aXRsZSA9IF90aXRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoX2gubmF2aWdhdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIF9oLm5hdmlnYXRpb25Nb2RlID0gJ2NvbXBhdGlibGUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkLmFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgX2xvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX29wdGlvbnMoKTtcbiAgICAgICAgICAgICQoX2xvYWQpO1xuICAgICAgICB9XG4gICAgICAgICQod2luZG93KS5iaW5kKCdwb3BzdGF0ZScsIF9wb3BzdGF0ZSkuYmluZCgndW5sb2FkJywgX3VubG9hZCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJpbmQ6IGZ1bmN0aW9uKHR5cGUsIGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIF9hcnJheShhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmJpbmQ6IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91bmJpbmQuYXBwbHkodGhpcywgX2FycmF5KGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIFtJTklUXS5jb25jYXQoX2FycmF5KGFyZ3VtZW50cykpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKGRhdGEsIGZuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9iaW5kLmFwcGx5KHRoaXMsIFtDSEFOR0VdLmNvbmNhdChfYXJyYXkoYXJndW1lbnRzKSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGludGVybmFsQ2hhbmdlOiBmdW5jdGlvbihkYXRhLCBmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfYmluZC5hcHBseSh0aGlzLCBbSU5URVJOQUxfQ0hBTkdFXS5jb25jYXQoX2FycmF5KGFyZ3VtZW50cykpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHRlcm5hbENoYW5nZTogZnVuY3Rpb24oZGF0YSwgZm4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2JpbmQuYXBwbHkodGhpcywgW0VYVEVSTkFMX0NIQU5HRV0uY29uY2F0KF9hcnJheShhcmd1bWVudHMpKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFzZVVSTDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IF9sLmhyZWY7XG4gICAgICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCcjJykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwuaW5kZXhPZignIycpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKC9cXC8kLy50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cigwLCB1cmwubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXV0b1VwZGF0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICBfb3B0cy5hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuYXV0b1VwZGF0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaXN0b3J5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIF9vcHRzLmhpc3RvcnkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0cy5oaXN0b3J5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIF9vcHRzLnN0YXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBocmVmU3RhdGUgPSBfaHJlZlN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfb3B0cy5zdGF0ZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2gucHVzaFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWZTdGF0ZS5zdWJzdHIoMCwgMykgPT0gJy8jLycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2wucmVwbGFjZShfb3B0cy5zdGF0ZS5yZXBsYWNlKC9eXFwvJC8sICcnKSArIGhyZWZTdGF0ZS5zdWJzdHIoMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZlN0YXRlICE9ICcvJyAmJiBocmVmU3RhdGUucmVwbGFjZSgvXlxcLyMvLCAnJykgIT0gX2hyZWZIYXNoKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlcGxhY2UoX29wdHMuc3RhdGUucmVwbGFjZSgvXlxcLyQvLCAnJykgKyAnLyMnICsgaHJlZlN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRzLnN0YXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyYW1lczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICBfb3B0cy5mcmFtZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3QgPSBfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMuZnJhbWVzO1xuICAgICAgICAgICAgfSwgICAgICAgICAgICBcbiAgICAgICAgICAgIHN0cmljdDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICBfb3B0cy5zdHJpY3QgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0cy5zdHJpY3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhY2tlcjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICBfb3B0cy50cmFja2VyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX29wdHMudHJhY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cmFwOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIF9vcHRzLndyYXAgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfb3B0cy53cmFwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3VwZGF0aW5nID0gVFJVRTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlKF92YWx1ZSk7XG4gICAgICAgICAgICAgICAgX3VwZGF0aW5nID0gRkFMU0U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3N0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RpdGxlID0gX2QudGl0bGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfanVzdHN0YXJ0ICYmIF9mcmFtZSAmJiBfZnJhbWUuY29udGVudFdpbmRvdyAmJiBfZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LnRpdGxlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2p1c3RzdGFydCA9IEZBTFNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX2QudGl0bGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RyaWN0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3ZhbHVlID09IHZhbHVlICYmICFfdXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRzLmF1dG9VcGRhdGUgfHwgX3VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3VwZGF0ZShUUlVFKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdXBwb3J0c1N0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaFtfb3B0cy5oaXN0b3J5ID8gJ3B1c2hTdGF0ZScgOiAncmVwbGFjZVN0YXRlJ10oe30sICcnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcHRzLnN0YXRlLnJlcGxhY2UoL1xcLyQvLCAnJykgKyAoX3ZhbHVlID09PSAnJyA/ICcvJyA6IF92YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2lsZW50ID0gVFJVRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3dlYmtpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX29wdHMuaGlzdG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2wuaGFzaCA9ICcjJyArIF92YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLnJlcGxhY2UoJyMnICsgX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlICE9IF9ocmVmKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRzLmhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sLmhhc2ggPSAnIycgKyBfdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbC5yZXBsYWNlKCcjJyArIF92YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChfbXNpZSAmJiAhX2hhc2hjaGFuZ2UpICYmIF9vcHRzLmhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0KF9odG1sLCA1MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2Via2l0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdChmdW5jdGlvbigpeyBfc2lsZW50ID0gRkFMU0U7IH0sIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaWxlbnQgPSBGQUxTRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfc3RyaWN0KF92YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXMgPSB0aGlzLnF1ZXJ5U3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNoID0gdGhpcy5oYXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUodmFsdWUgKyAocXMgPyAnPycgKyBxcyA6ICcnKSArIChoYXNoID8gJyMnICsgaGFzaCA6ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3N0cmljdChfdmFsdWUpLnNwbGl0KCcjJylbMF0uc3BsaXQoJz8nKVswXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoTmFtZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoKCksXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzID0gcGF0aC5yZXBsYWNlKF9yZSwgJy8nKS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLnN1YnN0cigwLCAxKSA9PSAnLycgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdWJzdHIocGF0aC5sZW5ndGggLSAxLCAxKSA9PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmFtZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcXVlcnlTdHJpbmc6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLmhhc2goKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSh0aGlzLnBhdGgoKSArICh2YWx1ZSA/ICc/JyArIHZhbHVlIDogJycpICsgKGhhc2ggPyAnIycgKyBoYXNoIDogJycpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBfdmFsdWUuc3BsaXQoJz8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyLnNsaWNlKDEsIGFyci5sZW5ndGgpLmpvaW4oJz8nKS5zcGxpdCgnIycpWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtZXRlcjogZnVuY3Rpb24obmFtZSwgdmFsdWUsIGFwcGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBwYXJhbXM7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gdGhpcy5wYXJhbWV0ZXJOYW1lcygpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gVU5ERUZJTkVEIHx8IHZhbHVlID09PSBOVUxMID8gJycgOiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gbmFtZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHRoaXMucGFyYW1ldGVyKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09IFNUUklORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBbdl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9ICh2YWx1ZSA9PT0gTlVMTCB8fCB2YWx1ZSA9PT0gJycpID8gW10gOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFwcGVuZCA/IHYuY29uY2F0KFt2YWx1ZV0pIDogW3ZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChuICsgJz0nICsgdltqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLCBuYW1lcykgPT0gLTEgJiYgdmFsdWUgIT09IE5VTEwgJiYgdmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChuYW1lICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTdHJpbmcocGFyYW1zLmpvaW4oJyYnKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucXVlcnlTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdmFsdWUuc3BsaXQoJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBwYXJhbXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwWzBdID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnB1c2gocC5zbGljZSgxKS5qb2luKCc9JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIubGVuZ3RoICE9IDEgPyByIDogclswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbWV0ZXJOYW1lczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHFzID0gdGhpcy5xdWVyeVN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChxcyAmJiBxcy5pbmRleE9mKCc9JykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHFzLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHBhcmFtc1tpXS5zcGxpdCgnPScpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLCBuYW1lcykgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNoOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUoX3ZhbHVlLnNwbGl0KCcjJylbMF0gKyAodmFsdWUgPyAnIycgKyB2YWx1ZSA6ICcnKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gX3ZhbHVlLnNwbGl0KCcjJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyci5zbGljZSgxLCBhcnIubGVuZ3RoKS5qb2luKCcjJyk7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKCk7XG4gICAgXG4gICAgJC5mbi5hZGRyZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoISQodGhpcykuZGF0YSgnYWRkcmVzcycpKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS53aGljaCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmlzKCdhJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZuID8gZm4uY2FsbCh0YXJnZXQpIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL2FkZHJlc3M6Ly50ZXN0KCQodGFyZ2V0KS5hdHRyKCdyZWwnKSkgPyAkKHRhcmdldCkuYXR0cigncmVsJykuc3BsaXQoJ2FkZHJlc3M6JylbMV0uc3BsaXQoJyAnKVswXSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWRkcmVzcy5zdGF0ZSgpICE9PSB1bmRlZmluZWQgJiYgIS9eXFwvPyQvLnRlc3QoJC5hZGRyZXNzLnN0YXRlKCkpID8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkuYXR0cignaHJlZicpLnJlcGxhY2UobmV3IFJlZ0V4cCgnXiguKicgKyAkLmFkZHJlc3Muc3RhdGUoKSArICd8XFxcXC4pJyksICcnKSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKC9eKCNcXCE/fFxcLikvLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFkZHJlc3MudmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGFyZ2V0KS5pcygnZm9ybScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gJCh0YXJnZXQpLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZm4gPyBmbi5jYWxsKHRhcmdldCkgOiAoYWN0aW9uLmluZGV4T2YoJz8nKSAhPSAtMSA/IGFjdGlvbi5yZXBsYWNlKC8mJC8sICcnKSA6IGFjdGlvbiArICc/JykgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnNlcmlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5hZGRyZXNzLnZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmRhdGEoJ2FkZHJlc3MnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgXG59KShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
